var Z_=Object.defineProperty;var $_=(e,t,r)=>t in e?Z_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ep=(e,t,r)=>$_(e,typeof t!="symbol"?t+"":t,r);function Q_(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const l in n)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(n,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>n[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ls(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tp={exports:{}},ad={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA;function J_(){if(KA)return ad;KA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:e,type:n,key:f,ref:l!==void 0?l:null,props:c}}return ad.Fragment=t,ad.jsx=r,ad.jsxs=r,ad}var ZA;function eM(){return ZA||(ZA=1,tp.exports=J_()),tp.exports}var m=eM(),rp={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $A;function tM(){if($A)return Lt;$A=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),T=Symbol.iterator;function _($){return $===null||typeof $!="object"?null:($=T&&$[T]||$["@@iterator"],typeof $=="function"?$:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,k={};function R($,ue,Te){this.props=$,this.context=ue,this.refs=k,this.updater=Te||j}R.prototype.isReactComponent={},R.prototype.setState=function($,ue){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ue,"setState")},R.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function F(){}F.prototype=R.prototype;function U($,ue,Te){this.props=$,this.context=ue,this.refs=k,this.updater=Te||j}var V=U.prototype=new F;V.constructor=U,M(V,R.prototype),V.isPureReactComponent=!0;var q=Array.isArray;function Y(){}var L={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function Z($,ue,Te){var Pe=Te.ref;return{$$typeof:e,type:$,key:ue,ref:Pe!==void 0?Pe:null,props:Te}}function Ne($,ue){return Z($.type,ue,$.props)}function te($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function Q($){var ue={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Te){return ue[Te]})}var ie=/\/+/g;function be($,ue){return typeof $=="object"&&$!==null&&$.key!=null?Q(""+$.key):ue.toString(36)}function X($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(Y,Y):($.status="pending",$.then(function(ue){$.status==="pending"&&($.status="fulfilled",$.value=ue)},function(ue){$.status==="pending"&&($.status="rejected",$.reason=ue)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function re($,ue,Te,Pe,Qe){var J=typeof $;(J==="undefined"||J==="boolean")&&($=null);var Re=!1;if($===null)Re=!0;else switch(J){case"bigint":case"string":case"number":Re=!0;break;case"object":switch($.$$typeof){case e:case t:Re=!0;break;case w:return Re=$._init,re(Re($._payload),ue,Te,Pe,Qe)}}if(Re)return Qe=Qe($),Re=Pe===""?"."+be($,0):Pe,q(Qe)?(Te="",Re!=null&&(Te=Re.replace(ie,"$&/")+"/"),re(Qe,ue,Te,"",function(nt){return nt})):Qe!=null&&(te(Qe)&&(Qe=Ne(Qe,Te+(Qe.key==null||$&&$.key===Qe.key?"":(""+Qe.key).replace(ie,"$&/")+"/")+Re)),ue.push(Qe)),1;Re=0;var Ze=Pe===""?".":Pe+":";if(q($))for(var he=0;he<$.length;he++)Pe=$[he],J=Ze+be(Pe,he),Re+=re(Pe,ue,Te,J,Qe);else if(he=_($),typeof he=="function")for($=he.call($),he=0;!(Pe=$.next()).done;)Pe=Pe.value,J=Ze+be(Pe,he++),Re+=re(Pe,ue,Te,J,Qe);else if(J==="object"){if(typeof $.then=="function")return re(X($),ue,Te,Pe,Qe);throw ue=String($),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Re}function se($,ue,Te){if($==null)return $;var Pe=[],Qe=0;return re($,Pe,"","",function(J){return ue.call(Te,J,Qe++)}),Pe}function de($){if($._status===-1){var ue=$._result;ue=ue(),ue.then(function(Te){($._status===0||$._status===-1)&&($._status=1,$._result=Te)},function(Te){($._status===0||$._status===-1)&&($._status=2,$._result=Te)}),$._status===-1&&($._status=0,$._result=ue)}if($._status===1)return $._result.default;throw $._result}var xe=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},Me={map:se,forEach:function($,ue,Te){se($,function(){ue.apply(this,arguments)},Te)},count:function($){var ue=0;return se($,function(){ue++}),ue},toArray:function($){return se($,function(ue){return ue})||[]},only:function($){if(!te($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Lt.Activity=A,Lt.Children=Me,Lt.Component=R,Lt.Fragment=r,Lt.Profiler=l,Lt.PureComponent=U,Lt.StrictMode=n,Lt.Suspense=b,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Lt.__COMPILER_RUNTIME={__proto__:null,c:function($){return L.H.useMemoCache($)}},Lt.cache=function($){return function(){return $.apply(null,arguments)}},Lt.cacheSignal=function(){return null},Lt.cloneElement=function($,ue,Te){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var Pe=M({},$.props),Qe=$.key;if(ue!=null)for(J in ue.key!==void 0&&(Qe=""+ue.key),ue)!ee.call(ue,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&ue.ref===void 0||(Pe[J]=ue[J]);var J=arguments.length-2;if(J===1)Pe.children=Te;else if(1<J){for(var Re=Array(J),Ze=0;Ze<J;Ze++)Re[Ze]=arguments[Ze+2];Pe.children=Re}return Z($.type,Qe,Pe)},Lt.createContext=function($){return $={$$typeof:f,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:c,_context:$},$},Lt.createElement=function($,ue,Te){var Pe,Qe={},J=null;if(ue!=null)for(Pe in ue.key!==void 0&&(J=""+ue.key),ue)ee.call(ue,Pe)&&Pe!=="key"&&Pe!=="__self"&&Pe!=="__source"&&(Qe[Pe]=ue[Pe]);var Re=arguments.length-2;if(Re===1)Qe.children=Te;else if(1<Re){for(var Ze=Array(Re),he=0;he<Re;he++)Ze[he]=arguments[he+2];Qe.children=Ze}if($&&$.defaultProps)for(Pe in Re=$.defaultProps,Re)Qe[Pe]===void 0&&(Qe[Pe]=Re[Pe]);return Z($,J,Qe)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function($){return{$$typeof:p,render:$}},Lt.isValidElement=te,Lt.lazy=function($){return{$$typeof:w,_payload:{_status:-1,_result:$},_init:de}},Lt.memo=function($,ue){return{$$typeof:v,type:$,compare:ue===void 0?null:ue}},Lt.startTransition=function($){var ue=L.T,Te={};L.T=Te;try{var Pe=$(),Qe=L.S;Qe!==null&&Qe(Te,Pe),typeof Pe=="object"&&Pe!==null&&typeof Pe.then=="function"&&Pe.then(Y,xe)}catch(J){xe(J)}finally{ue!==null&&Te.types!==null&&(ue.types=Te.types),L.T=ue}},Lt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Lt.use=function($){return L.H.use($)},Lt.useActionState=function($,ue,Te){return L.H.useActionState($,ue,Te)},Lt.useCallback=function($,ue){return L.H.useCallback($,ue)},Lt.useContext=function($){return L.H.useContext($)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function($,ue){return L.H.useDeferredValue($,ue)},Lt.useEffect=function($,ue){return L.H.useEffect($,ue)},Lt.useEffectEvent=function($){return L.H.useEffectEvent($)},Lt.useId=function(){return L.H.useId()},Lt.useImperativeHandle=function($,ue,Te){return L.H.useImperativeHandle($,ue,Te)},Lt.useInsertionEffect=function($,ue){return L.H.useInsertionEffect($,ue)},Lt.useLayoutEffect=function($,ue){return L.H.useLayoutEffect($,ue)},Lt.useMemo=function($,ue){return L.H.useMemo($,ue)},Lt.useOptimistic=function($,ue){return L.H.useOptimistic($,ue)},Lt.useReducer=function($,ue,Te){return L.H.useReducer($,ue,Te)},Lt.useRef=function($){return L.H.useRef($)},Lt.useState=function($){return L.H.useState($)},Lt.useSyncExternalStore=function($,ue,Te){return L.H.useSyncExternalStore($,ue,Te)},Lt.useTransition=function(){return L.H.useTransition()},Lt.version="19.2.4",Lt}var QA;function nu(){return QA||(QA=1,rp.exports=tM()),rp.exports}var O=nu();const N4=ls(O),rM=Q_({__proto__:null,default:N4},[O]);var np={exports:{}},id={},ap={exports:{}},ip={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA;function nM(){return JA||(JA=1,(function(e){function t(re,se){var de=re.length;re.push(se);e:for(;0<de;){var xe=de-1>>>1,Me=re[xe];if(0<l(Me,se))re[xe]=se,re[de]=Me,de=xe;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var se=re[0],de=re.pop();if(de!==se){re[0]=de;e:for(var xe=0,Me=re.length,$=Me>>>1;xe<$;){var ue=2*(xe+1)-1,Te=re[ue],Pe=ue+1,Qe=re[Pe];if(0>l(Te,de))Pe<Me&&0>l(Qe,Te)?(re[xe]=Qe,re[Pe]=de,xe=Pe):(re[xe]=Te,re[ue]=de,xe=ue);else if(Pe<Me&&0>l(Qe,de))re[xe]=Qe,re[Pe]=de,xe=Pe;else break e}}return se}function l(re,se){var de=re.sortIndex-se.sortIndex;return de!==0?de:re.id-se.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();e.unstable_now=function(){return f.now()-p}}var b=[],v=[],w=1,A=null,T=3,_=!1,j=!1,M=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function V(re){for(var se=r(v);se!==null;){if(se.callback===null)n(v);else if(se.startTime<=re)n(v),se.sortIndex=se.expirationTime,t(b,se);else break;se=r(v)}}function q(re){if(M=!1,V(re),!j)if(r(b)!==null)j=!0,Y||(Y=!0,Q());else{var se=r(v);se!==null&&X(q,se.startTime-re)}}var Y=!1,L=-1,ee=5,Z=-1;function Ne(){return k?!0:!(e.unstable_now()-Z<ee)}function te(){if(k=!1,Y){var re=e.unstable_now();Z=re;var se=!0;try{e:{j=!1,M&&(M=!1,F(L),L=-1),_=!0;var de=T;try{t:{for(V(re),A=r(b);A!==null&&!(A.expirationTime>re&&Ne());){var xe=A.callback;if(typeof xe=="function"){A.callback=null,T=A.priorityLevel;var Me=xe(A.expirationTime<=re);if(re=e.unstable_now(),typeof Me=="function"){A.callback=Me,V(re),se=!0;break t}A===r(b)&&n(b),V(re)}else n(b);A=r(b)}if(A!==null)se=!0;else{var $=r(v);$!==null&&X(q,$.startTime-re),se=!1}}break e}finally{A=null,T=de,_=!1}se=void 0}}finally{se?Q():Y=!1}}}var Q;if(typeof U=="function")Q=function(){U(te)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,be=ie.port2;ie.port1.onmessage=te,Q=function(){be.postMessage(null)}}else Q=function(){R(te,0)};function X(re,se){L=R(function(){re(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_next=function(re){switch(T){case 1:case 2:case 3:var se=3;break;default:se=T}var de=T;T=se;try{return re()}finally{T=de}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(re,se){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var de=T;T=re;try{return se()}finally{T=de}},e.unstable_scheduleCallback=function(re,se,de){var xe=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?xe+de:xe):de=xe,re){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=de+Me,re={id:w++,callback:se,priorityLevel:re,startTime:de,expirationTime:Me,sortIndex:-1},de>xe?(re.sortIndex=de,t(v,re),r(b)===null&&re===r(v)&&(M?(F(L),L=-1):M=!0,X(q,de-xe))):(re.sortIndex=Me,t(b,re),j||_||(j=!0,Y||(Y=!0,Q()))),re},e.unstable_shouldYield=Ne,e.unstable_wrapCallback=function(re){var se=T;return function(){var de=T;T=se;try{return re.apply(this,arguments)}finally{T=de}}}})(ip)),ip}var eS;function aM(){return eS||(eS=1,ap.exports=nM()),ap.exports}var sp={exports:{}},ta={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS;function iM(){if(tS)return ta;tS=1;var e=nu();function t(b){var v="https://react.dev/errors/"+b;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+b+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(b,v,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:b,containerInfo:v,implementation:w}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(b,v){if(b==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ta.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ta.createPortal=function(b,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(b,v,null,w)},ta.flushSync=function(b){var v=f.T,w=n.p;try{if(f.T=null,n.p=2,b)return b()}finally{f.T=v,n.p=w,n.d.f()}},ta.preconnect=function(b,v){typeof b=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,n.d.C(b,v))},ta.prefetchDNS=function(b){typeof b=="string"&&n.d.D(b)},ta.preinit=function(b,v){if(typeof b=="string"&&v&&typeof v.as=="string"){var w=v.as,A=p(w,v.crossOrigin),T=typeof v.integrity=="string"?v.integrity:void 0,_=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?n.d.S(b,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:A,integrity:T,fetchPriority:_}):w==="script"&&n.d.X(b,{crossOrigin:A,integrity:T,fetchPriority:_,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ta.preinitModule=function(b,v){if(typeof b=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=p(v.as,v.crossOrigin);n.d.M(b,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&n.d.M(b)},ta.preload=function(b,v){if(typeof b=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,A=p(w,v.crossOrigin);n.d.L(b,w,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ta.preloadModule=function(b,v){if(typeof b=="string")if(v){var w=p(v.as,v.crossOrigin);n.d.m(b,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else n.d.m(b)},ta.requestFormReset=function(b){n.d.r(b)},ta.unstable_batchedUpdates=function(b,v){return b(v)},ta.useFormState=function(b,v,w){return f.H.useFormState(b,v,w)},ta.useFormStatus=function(){return f.H.useHostTransitionStatus()},ta.version="19.2.4",ta}var rS;function T4(){if(rS)return sp.exports;rS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sp.exports=iM(),sp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS;function sM(){if(nS)return id;nS=1;var e=aM(),t=nu(),r=T4();function n(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)s+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function c(a){var s=a,d=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(d=s.return),a=s.return;while(a)}return s.tag===3?d:null}function f(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function p(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function b(a){if(c(a)!==a)throw Error(n(188))}function v(a){var s=a.alternate;if(!s){if(s=c(a),s===null)throw Error(n(188));return s!==a?null:a}for(var d=a,x=s;;){var E=d.return;if(E===null)break;var N=E.alternate;if(N===null){if(x=E.return,x!==null){d=x;continue}break}if(E.child===N.child){for(N=E.child;N;){if(N===d)return b(E),a;if(N===x)return b(E),s;N=N.sibling}throw Error(n(188))}if(d.return!==x.return)d=E,x=N;else{for(var P=!1,G=E.child;G;){if(G===d){P=!0,d=E,x=N;break}if(G===x){P=!0,x=E,d=N;break}G=G.sibling}if(!P){for(G=N.child;G;){if(G===d){P=!0,d=N,x=E;break}if(G===x){P=!0,x=N,d=E;break}G=G.sibling}if(!P)throw Error(n(189))}}if(d.alternate!==x)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?a:s}function w(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=w(a),s!==null)return s;a=a.sibling}return null}var A=Object.assign,T=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),U=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function Q(a){return a===null||typeof a!="object"?null:(a=te&&a[te]||a["@@iterator"],typeof a=="function"?a:null)}var ie=Symbol.for("react.client.reference");function be(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ie?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case M:return"Fragment";case R:return"Profiler";case k:return"StrictMode";case q:return"Suspense";case Y:return"SuspenseList";case Z:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case j:return"Portal";case U:return a.displayName||"Context";case F:return(a._context.displayName||"Context")+".Consumer";case V:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case L:return s=a.displayName||null,s!==null?s:be(a.type)||"Memo";case ee:s=a._payload,a=a._init;try{return be(a(s))}catch{}}return null}var X=Array.isArray,re=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},xe=[],Me=-1;function $(a){return{current:a}}function ue(a){0>Me||(a.current=xe[Me],xe[Me]=null,Me--)}function Te(a,s){Me++,xe[Me]=a.current,a.current=s}var Pe=$(null),Qe=$(null),J=$(null),Re=$(null);function Ze(a,s){switch(Te(J,s),Te(Qe,a),Te(Pe,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?vA(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=vA(s),a=yA(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ue(Pe),Te(Pe,a)}function he(){ue(Pe),ue(Qe),ue(J)}function nt(a){a.memoizedState!==null&&Te(Re,a);var s=Pe.current,d=yA(s,a.type);s!==d&&(Te(Qe,a),Te(Pe,d))}function st(a){Qe.current===a&&(ue(Pe),ue(Qe)),Re.current===a&&(ue(Re),ed._currentValue=de)}var Be,Je;function Et(a){if(Be===void 0)try{throw Error()}catch(d){var s=d.stack.trim().match(/\n( *(at )?)/);Be=s&&s[1]||"",Je=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Be+a+Je}var Oe=!1;function Ct(a,s){if(!a||Oe)return"";Oe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(s){var De=function(){throw Error()};if(Object.defineProperty(De.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(De,[])}catch(Ce){var we=Ce}Reflect.construct(a,[],De)}else{try{De.call()}catch(Ce){we=Ce}a.call(De.prototype)}}else{try{throw Error()}catch(Ce){we=Ce}(De=a())&&typeof De.catch=="function"&&De.catch(function(){})}}catch(Ce){if(Ce&&we&&typeof Ce.stack=="string")return[Ce.stack,we.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=x.DetermineComponentFrameRoot(),P=N[0],G=N[1];if(P&&G){var ne=P.split(`
`),ye=G.split(`
`);for(E=x=0;x<ne.length&&!ne[x].includes("DetermineComponentFrameRoot");)x++;for(;E<ye.length&&!ye[E].includes("DetermineComponentFrameRoot");)E++;if(x===ne.length||E===ye.length)for(x=ne.length-1,E=ye.length-1;1<=x&&0<=E&&ne[x]!==ye[E];)E--;for(;1<=x&&0<=E;x--,E--)if(ne[x]!==ye[E]){if(x!==1||E!==1)do if(x--,E--,0>E||ne[x]!==ye[E]){var Ie=`
`+ne[x].replace(" at new "," at ");return a.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",a.displayName)),Ie}while(1<=x&&0<=E);break}}}finally{Oe=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?Et(d):""}function bt(a,s){switch(a.tag){case 26:case 27:case 5:return Et(a.type);case 16:return Et("Lazy");case 13:return a.child!==s&&s!==null?Et("Suspense Fallback"):Et("Suspense");case 19:return Et("SuspenseList");case 0:case 15:return Ct(a.type,!1);case 11:return Ct(a.type.render,!1);case 1:return Ct(a.type,!0);case 31:return Et("Activity");default:return""}}function Nt(a){try{var s="",d=null;do s+=bt(a,d),d=a,a=a.return;while(a);return s}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var lt=Object.prototype.hasOwnProperty,wn=e.unstable_scheduleCallback,et=e.unstable_cancelCallback,ka=e.unstable_shouldYield,sl=e.unstable_requestPaint,hr=e.unstable_now,zi=e.unstable_getCurrentPriorityLevel,In=e.unstable_ImmediatePriority,fs=e.unstable_UserBlockingPriority,Hn=e.unstable_NormalPriority,nn=e.unstable_LowPriority,Ai=e.unstable_IdlePriority,Ui=e.log,eo=e.unstable_setDisableYieldValue,Qt=null,He=null;function lr(a){if(typeof Ui=="function"&&eo(a),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Qt,a)}catch{}}var jt=Math.clz32?Math.clz32:Ue,ge=Math.log,_e=Math.LN2;function Ue(a){return a>>>=0,a===0?32:31-(ge(a)/_e|0)|0}var Ge=256,Ve=262144,mt=4194304;function wt(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Jt(a,s,d){var x=a.pendingLanes;if(x===0)return 0;var E=0,N=a.suspendedLanes,P=a.pingedLanes;a=a.warmLanes;var G=x&134217727;return G!==0?(x=G&~N,x!==0?E=wt(x):(P&=G,P!==0?E=wt(P):d||(d=G&~a,d!==0&&(E=wt(d))))):(G=x&~N,G!==0?E=wt(G):P!==0?E=wt(P):d||(d=x&~a,d!==0&&(E=wt(d)))),E===0?0:s!==0&&s!==E&&(s&N)===0&&(N=E&-E,d=s&-s,N>=d||N===32&&(d&4194048)!==0)?s:E}function _t(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function tr(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vt(){var a=mt;return mt<<=1,(mt&62914560)===0&&(mt=4194304),a}function mr(a){for(var s=[],d=0;31>d;d++)s.push(a);return s}function Nr(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function rr(a,s,d,x,E,N){var P=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var G=a.entanglements,ne=a.expirationTimes,ye=a.hiddenUpdates;for(d=P&~d;0<d;){var Ie=31-jt(d),De=1<<Ie;G[Ie]=0,ne[Ie]=-1;var we=ye[Ie];if(we!==null)for(ye[Ie]=null,Ie=0;Ie<we.length;Ie++){var Ce=we[Ie];Ce!==null&&(Ce.lane&=-536870913)}d&=~De}x!==0&&Gn(a,x,0),N!==0&&E===0&&a.tag!==0&&(a.suspendedLanes|=N&~(P&~s))}function Gn(a,s,d){a.pendingLanes|=s,a.suspendedLanes&=~s;var x=31-jt(s);a.entangledLanes|=s,a.entanglements[x]=a.entanglements[x]|1073741824|d&261930}function an(a,s){var d=a.entangledLanes|=s;for(a=a.entanglements;d;){var x=31-jt(d),E=1<<x;E&s|a[x]&s&&(a[x]|=s),d&=~E}}function Da(a,s){var d=s&-s;return d=(d&42)!==0?1:kr(d),(d&(a.suspendedLanes|s))!==0?0:d}function kr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function sa(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function sn(){var a=se.p;return a!==0?a:(a=window.event,a===void 0?32:HA(a.type))}function ze(a,s){var d=se.p;try{return se.p=a,s()}finally{se.p=d}}var Mt=Math.random().toString(36).slice(2),Vt="__reactFiber$"+Mt,nr="__reactProps$"+Mt,_n="__reactContainer$"+Mt,ti="__reactEvents$"+Mt,Si="__reactListeners$"+Mt,ea="__reactHandles$"+Mt,Fi="__reactResources$"+Mt,ln="__reactMarker$"+Mt;function Vn(a){delete a[Vt],delete a[nr],delete a[ti],delete a[Si],delete a[ea]}function zr(a){var s=a[Vt];if(s)return s;for(var d=a.parentNode;d;){if(s=d[_n]||d[Vt]){if(d=s.alternate,s.child!==null||d!==null&&d.child!==null)for(a=NA(a);a!==null;){if(d=a[Vt])return d;a=NA(a)}return s}a=d,d=a.parentNode}return null}function er(a){if(a=a[Vt]||a[_n]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Hi(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(n(33))}function Yn(a){var s=a[Fi];return s||(s=a[Fi]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ur(a){a[ln]=!0}var Le=new Set,ce={};function ke(a,s){Ye(a,s),Ye(a+"Capture",s)}function Ye(a,s){for(ce[a]=s,a=0;a<s.length;a++)Le.add(s[a])}var gt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),We={},Ke={};function rt(a){return lt.call(Ke,a)?!0:lt.call(We,a)?!1:gt.test(a)?Ke[a]=!0:(We[a]=!0,!1)}function gr(a,s,d){if(rt(s))if(d===null)a.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var x=s.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+d)}}function Mn(a,s,d){if(d===null)a.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+d)}}function kt(a,s,d,x){if(x===null)a.removeAttribute(d);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(s,d,""+x)}}function ht(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ya(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Jo(a,s,d){var x=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var E=x.get,N=x.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return E.call(this)},set:function(P){d=""+P,N.call(this,P)}}),Object.defineProperty(a,s,{enumerable:x.enumerable}),{getValue:function(){return d},setValue:function(P){d=""+P},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Tr(a){if(!a._valueTracker){var s=ya(a)?"checked":"value";a._valueTracker=Jo(a,s,""+a[s])}}function Ra(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var d=s.getValue(),x="";return a&&(x=ya(a)?a.checked?"true":"false":a.value),a=x,a!==d?(s.setValue(a),!0):!1}function ec(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var ll=/[\n"\\]/g;function Ht(a){return a.replace(ll,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function hn(a,s,d,x,E,N,P,G){a.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.type=P:a.removeAttribute("type"),s!=null?P==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+ht(s)):a.value!==""+ht(s)&&(a.value=""+ht(s)):P!=="submit"&&P!=="reset"||a.removeAttribute("value"),s!=null?W(a,P,ht(s)):d!=null?W(a,P,ht(d)):x!=null&&a.removeAttribute("value"),E==null&&N!=null&&(a.defaultChecked=!!N),E!=null&&(a.checked=E&&typeof E!="function"&&typeof E!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?a.name=""+ht(G):a.removeAttribute("name")}function pe(a,s,d,x,E,N,P,G){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.type=N),s!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||s!=null)){Tr(a);return}d=d!=null?""+ht(d):"",s=s!=null?""+ht(s):d,G||s===a.value||(a.value=s),a.defaultValue=s}x=x??E,x=typeof x!="function"&&typeof x!="symbol"&&!!x,a.checked=G?a.checked:!!x,a.defaultChecked=!!x,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(a.name=P),Tr(a)}function W(a,s,d){s==="number"&&ec(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function ut(a,s,d,x){if(a=a.options,s){s={};for(var E=0;E<d.length;E++)s["$"+d[E]]=!0;for(d=0;d<a.length;d++)E=s.hasOwnProperty("$"+a[d].value),a[d].selected!==E&&(a[d].selected=E),E&&x&&(a[d].defaultSelected=!0)}else{for(d=""+ht(d),s=null,E=0;E<a.length;E++){if(a[E].value===d){a[E].selected=!0,x&&(a[E].defaultSelected=!0);return}s!==null||a[E].disabled||(s=a[E])}s!==null&&(s.selected=!0)}}function on(a,s,d){if(s!=null&&(s=""+ht(s),s!==a.value&&(a.value=s),d==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=d!=null?""+ht(d):""}function la(a,s,d,x){if(s==null){if(x!=null){if(d!=null)throw Error(n(92));if(X(x)){if(1<x.length)throw Error(n(93));x=x[0]}d=x}d==null&&(d=""),s=d}d=ht(s),a.defaultValue=d,x=a.textContent,x===d&&x!==""&&x!==null&&(a.value=x),Tr(a)}function ol(a,s){if(s){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=s;return}}a.textContent=s}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oa(a,s,d){var x=s.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?x?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":x?a.setProperty(s,d):typeof d!="number"||d===0||pu.has(s)?s==="float"?a.cssFloat=d:a[s]=(""+d).trim():a[s]=d+"px"}function pt(a,s,d){if(s!=null&&typeof s!="object")throw Error(n(62));if(a=a.style,d!=null){for(var x in d)!d.hasOwnProperty(x)||s!=null&&s.hasOwnProperty(x)||(x.indexOf("--")===0?a.setProperty(x,""):x==="float"?a.cssFloat="":a[x]="");for(var E in s)x=s[E],s.hasOwnProperty(E)&&d[E]!==x&&oa(a,E,x)}else for(var N in s)s.hasOwnProperty(N)&&oa(a,N,s[N])}function Or(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),om=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cl(a){return om.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ba(){}var to=null;function xu(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Rr=null,ri=null;function Ei(a){var s=er(a);if(s&&(a=s.stateNode)){var d=a[nr]||null;e:switch(a=s.stateNode,s.type){case"input":if(hn(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),s=d.name,d.type==="radio"&&s!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Ht(""+s)+'"][type="radio"]'),s=0;s<d.length;s++){var x=d[s];if(x!==a&&x.form===a.form){var E=x[nr]||null;if(!E)throw Error(n(90));hn(x,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(s=0;s<d.length;s++)x=d[s],x.form===a.form&&Ra(x)}break e;case"textarea":on(a,d.value,d.defaultValue);break e;case"select":s=d.value,s!=null&&ut(a,!!d.multiple,s,!1)}}}var At=!1;function pf(a,s,d){if(At)return a(s,d);At=!0;try{var x=a(s);return x}finally{if(At=!1,(Rr!==null||ri!==null)&&(l0(),Rr&&(s=Rr,a=ri,ri=Rr=null,Ei(s),a)))for(s=0;s<a.length;s++)Ei(a[s])}}function Dt(a,s){var d=a.stateNode;if(d===null)return null;var x=d[nr]||null;if(x===null)return null;d=x[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(a=a.type,x=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!x;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(n(231,s,typeof d));return d}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vu=!1;if(Ir)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){vu=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{vu=!1}var Ci=null,Ni=null,tc=null;function ul(){if(tc)return tc;var a,s=Ni,d=s.length,x,E="value"in Ci?Ci.value:Ci.textContent,N=E.length;for(a=0;a<d&&s[a]===E[a];a++);var P=d-a;for(x=1;x<=P&&s[d-x]===E[N-x];x++);return tc=E.slice(a,1<x?1-x:void 0)}function Gi(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Vi(){return!0}function yu(){return!1}function mn(a){function s(d,x,E,N,P){this._reactName=d,this._targetInst=E,this.type=x,this.nativeEvent=N,this.target=P,this.currentTarget=null;for(var G in a)a.hasOwnProperty(G)&&(d=a[G],this[G]=d?d(N):N[G]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Vi:yu,this.isPropagationStopped=yu,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),s}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},An=mn(Pa),dl=A({},Pa,{view:0,detail:0}),xf=mn(dl),rc,bu,ro,nc=A({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:no,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ro&&(ro&&a.type==="mousemove"?(rc=a.screenX-ro.screenX,bu=a.screenY-ro.screenY):bu=rc=0,ro=a),rc)},movementY:function(a){return"movementY"in a?a.movementY:bu}}),or=mn(nc),vf=A({},nc,{dataTransfer:0}),ac=mn(vf),Yi=A({},dl,{relatedTarget:0}),wu=mn(Yi),Ee=A({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),zt=mn(Ee),Sn=A({},Pa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ic=mn(Sn),yf=A({},Pa,{data:0}),bf=mn(yf),cm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},um={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cn(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=Au[a])?!!s[a]:!1}function no(){return cn}var Fr=A({},dl,{key:function(a){if(a.key){var s=cm[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Gi(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?um[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:no,charCode:function(a){return a.type==="keypress"?Gi(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Gi(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),sc=mn(Fr),ms=A({},nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ur=mn(ms),St=A({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:no}),dm=mn(St),_r=A({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),gs=mn(_r),fl=A({},nc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),fm=mn(fl),ni=A({},Pa,{newState:0,oldState:0}),Su=mn(ni),wf=[9,13,27,32],ao=Ir&&"CompositionEvent"in window,hl=null;Ir&&"documentMode"in document&&(hl=document.documentMode);var Af=Ir&&"TextEvent"in window&&!hl,Sf=Ir&&(!ao||hl&&8<hl&&11>=hl),ps=" ",lc=!1;function Ef(a,s){switch(a){case"keyup":return wf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ml(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var gl=!1;function qi(a,s){switch(a){case"compositionend":return ml(s);case"keypress":return s.which!==32?null:(lc=!0,ps);case"textInput":return a=s.data,a===ps&&lc?null:a;default:return null}}function oc(a,s){if(gl)return a==="compositionend"||!ao&&Ef(a,s)?(a=ul(),tc=Ni=Ci=null,gl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Sf&&s.locale!=="ko"?null:s.data;default:return null}}var wa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eu(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!wa[a.type]:s==="textarea"}function La(a,s,d,x){Rr?ri?ri.push(x):ri=[x]:Rr=x,s=m0(s,"onChange"),0<s.length&&(d=new An("onChange","change",null,d,x),a.push({event:d,listeners:s}))}var io=null,xs=null;function hm(a){fA(a,0)}function so(a){var s=Hi(a);if(Ra(s))return a}function Ba(a,s){if(a==="change")return s}var Cf=!1;if(Ir){var lo;if(Ir){var vs="oninput"in document;if(!vs){var Xt=document.createElement("div");Xt.setAttribute("oninput","return;"),vs=typeof Xt.oninput=="function"}lo=vs}else lo=!1;Cf=lo&&(!document.documentMode||9<document.documentMode)}function oo(){io&&(io.detachEvent("onpropertychange",B),xs=io=null)}function B(a){if(a.propertyName==="value"&&so(xs)){var s=[];La(s,xs,a,xu(a)),pf(hm,s)}}function i(a,s,d){a==="focusin"?(oo(),io=s,xs=d,io.attachEvent("onpropertychange",B)):a==="focusout"&&oo()}function o(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return so(xs)}function u(a,s){if(a==="click")return so(s)}function h(a,s){if(a==="input"||a==="change")return so(s)}function g(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var y=typeof Object.is=="function"?Object.is:g;function S(a,s){if(y(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var d=Object.keys(a),x=Object.keys(s);if(d.length!==x.length)return!1;for(x=0;x<d.length;x++){var E=d[x];if(!lt.call(s,E)||!y(a[E],s[E]))return!1}return!0}function C(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function I(a,s){var d=C(a);a=0;for(var x;d;){if(d.nodeType===3){if(x=a+d.textContent.length,a<=s&&x>=s)return{node:d,offset:s-a};a=x}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=C(d)}}function D(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?D(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function z(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=ec(a.document);s instanceof a.HTMLIFrameElement;){try{var d=typeof s.contentWindow.location.href=="string"}catch{d=!1}if(d)a=s.contentWindow;else break;s=ec(a.document)}return s}function H(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var K=Ir&&"documentMode"in document&&11>=document.documentMode,ae=null,le=null,me=null,Ae=!1;function Xe(a,s,d){var x=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ae||ae==null||ae!==ec(x)||(x=ae,"selectionStart"in x&&H(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),me&&S(me,x)||(me=x,x=m0(le,"onSelect"),0<x.length&&(s=new An("onSelect","select",null,s,d),a.push({event:s,listeners:x}),s.target=ae)))}function qe(a,s){var d={};return d[a.toLowerCase()]=s.toLowerCase(),d["Webkit"+a]="webkit"+s,d["Moz"+a]="moz"+s,d}var Fe={animationend:qe("Animation","AnimationEnd"),animationiteration:qe("Animation","AnimationIteration"),animationstart:qe("Animation","AnimationStart"),transitionrun:qe("Transition","TransitionRun"),transitionstart:qe("Transition","TransitionStart"),transitioncancel:qe("Transition","TransitionCancel"),transitionend:qe("Transition","TransitionEnd")},Ft={},Pt={};Ir&&(Pt=document.createElement("div").style,"AnimationEvent"in window||(delete Fe.animationend.animation,delete Fe.animationiteration.animation,delete Fe.animationstart.animation),"TransitionEvent"in window||delete Fe.transitionend.transition);function Kr(a){if(Ft[a])return Ft[a];if(!Fe[a])return a;var s=Fe[a],d;for(d in s)if(s.hasOwnProperty(d)&&d in Pt)return Ft[a]=s[d];return a}var Aa=Kr("animationend"),qn=Kr("animationiteration"),dr=Kr("animationstart"),En=Kr("transitionrun"),ca=Kr("transitionstart"),pl=Kr("transitioncancel"),ys=Kr("transitionend"),Nf=new Map,Cu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cu.push("scrollEnd");function Ti(a,s){Nf.set(a,s),ke(s,[a])}var Tf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ai=[],cc=0,mm=0;function Of(){for(var a=cc,s=mm=cc=0;s<a;){var d=ai[s];ai[s++]=null;var x=ai[s];ai[s++]=null;var E=ai[s];ai[s++]=null;var N=ai[s];if(ai[s++]=null,x!==null&&E!==null){var P=x.pending;P===null?E.next=E:(E.next=P.next,P.next=E),x.pending=E}N!==0&&Xb(d,E,N)}}function If(a,s,d,x){ai[cc++]=a,ai[cc++]=s,ai[cc++]=d,ai[cc++]=x,mm|=x,a.lanes|=x,a=a.alternate,a!==null&&(a.lanes|=x)}function gm(a,s,d,x){return If(a,s,d,x),_f(a)}function co(a,s){return If(a,null,null,s),_f(a)}function Xb(a,s,d){a.lanes|=d;var x=a.alternate;x!==null&&(x.lanes|=d);for(var E=!1,N=a.return;N!==null;)N.childLanes|=d,x=N.alternate,x!==null&&(x.childLanes|=d),N.tag===22&&(a=N.stateNode,a===null||a._visibility&1||(E=!0)),a=N,N=N.return;return a.tag===3?(N=a.stateNode,E&&s!==null&&(E=31-jt(d),a=N.hiddenUpdates,x=a[E],x===null?a[E]=[s]:x.push(s),s.lane=d|536870912),N):null}function _f(a){if(50<Xu)throw Xu=0,Eg=null,Error(n(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var uc={};function kI(a,s,d,x){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(a,s,d,x){return new kI(a,s,d,x)}function pm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function bs(a,s){var d=a.alternate;return d===null?(d=za(a.tag,s,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=s,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,s=a.dependencies,d.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function Wb(a,s){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,s=d.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Mf(a,s,d,x,E,N){var P=0;if(x=a,typeof a=="function")pm(a)&&(P=1);else if(typeof a=="string")P=B_(a,d,Pe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case Z:return a=za(31,d,s,E),a.elementType=Z,a.lanes=N,a;case M:return uo(d.children,E,N,s);case k:P=8,E|=24;break;case R:return a=za(12,d,s,E|2),a.elementType=R,a.lanes=N,a;case q:return a=za(13,d,s,E),a.elementType=q,a.lanes=N,a;case Y:return a=za(19,d,s,E),a.elementType=Y,a.lanes=N,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case U:P=10;break e;case F:P=9;break e;case V:P=11;break e;case L:P=14;break e;case ee:P=16,x=null;break e}P=29,d=Error(n(130,a===null?"null":typeof a,"")),x=null}return s=za(P,d,s,E),s.elementType=a,s.type=x,s.lanes=N,s}function uo(a,s,d,x){return a=za(7,a,x,s),a.lanes=d,a}function xm(a,s,d){return a=za(6,a,null,s),a.lanes=d,a}function Kb(a){var s=za(18,null,null,0);return s.stateNode=a,s}function vm(a,s,d){return s=za(4,a.children!==null?a.children:[],a.key,s),s.lanes=d,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var Zb=new WeakMap;function ii(a,s){if(typeof a=="object"&&a!==null){var d=Zb.get(a);return d!==void 0?d:(s={value:a,source:s,stack:Nt(s)},Zb.set(a,s),s)}return{value:a,source:s,stack:Nt(s)}}var dc=[],fc=0,jf=null,Nu=0,si=[],li=0,xl=null,Xi=1,Wi="";function ws(a,s){dc[fc++]=Nu,dc[fc++]=jf,jf=a,Nu=s}function $b(a,s,d){si[li++]=Xi,si[li++]=Wi,si[li++]=xl,xl=a;var x=Xi;a=Wi;var E=32-jt(x)-1;x&=~(1<<E),d+=1;var N=32-jt(s)+E;if(30<N){var P=E-E%5;N=(x&(1<<P)-1).toString(32),x>>=P,E-=P,Xi=1<<32-jt(s)+E|d<<E|x,Wi=N+a}else Xi=1<<N|d<<E|x,Wi=a}function ym(a){a.return!==null&&(ws(a,1),$b(a,1,0))}function bm(a){for(;a===jf;)jf=dc[--fc],dc[fc]=null,Nu=dc[--fc],dc[fc]=null;for(;a===xl;)xl=si[--li],si[li]=null,Wi=si[--li],si[li]=null,Xi=si[--li],si[li]=null}function Qb(a,s){si[li++]=Xi,si[li++]=Wi,si[li++]=xl,Xi=s.id,Wi=s.overflow,xl=a}var Xn=null,Pr=null,Zt=!1,vl=null,oi=!1,wm=Error(n(519));function yl(a){var s=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tu(ii(s,a)),wm}function Jb(a){var s=a.stateNode,d=a.type,x=a.memoizedProps;switch(s[Vt]=a,s[nr]=x,d){case"dialog":qt("cancel",s),qt("close",s);break;case"iframe":case"object":case"embed":qt("load",s);break;case"video":case"audio":for(d=0;d<Ku.length;d++)qt(Ku[d],s);break;case"source":qt("error",s);break;case"img":case"image":case"link":qt("error",s),qt("load",s);break;case"details":qt("toggle",s);break;case"input":qt("invalid",s),pe(s,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":qt("invalid",s);break;case"textarea":qt("invalid",s),la(s,x.value,x.defaultValue,x.children)}d=x.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||s.textContent===""+d||x.suppressHydrationWarning===!0||pA(s.textContent,d)?(x.popover!=null&&(qt("beforetoggle",s),qt("toggle",s)),x.onScroll!=null&&qt("scroll",s),x.onScrollEnd!=null&&qt("scrollend",s),x.onClick!=null&&(s.onclick=ba),s=!0):s=!1,s||yl(a,!0)}function e2(a){for(Xn=a.return;Xn;)switch(Xn.tag){case 5:case 31:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:Xn=Xn.return}}function hc(a){if(a!==Xn)return!1;if(!Zt)return e2(a),Zt=!0,!1;var s=a.tag,d;if((d=s!==3&&s!==27)&&((d=s===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||zg(a.type,a.memoizedProps)),d=!d),d&&Pr&&yl(a),e2(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Pr=CA(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Pr=CA(a)}else s===27?(s=Pr,kl(a.type)?(a=Vg,Vg=null,Pr=a):Pr=s):Pr=Xn?ui(a.stateNode.nextSibling):null;return!0}function fo(){Pr=Xn=null,Zt=!1}function Am(){var a=vl;return a!==null&&(Na===null?Na=a:Na.push.apply(Na,a),vl=null),a}function Tu(a){vl===null?vl=[a]:vl.push(a)}var Sm=$(null),ho=null,As=null;function bl(a,s,d){Te(Sm,s._currentValue),s._currentValue=d}function Ss(a){a._currentValue=Sm.current,ue(Sm)}function Em(a,s,d){for(;a!==null;){var x=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,x!==null&&(x.childLanes|=s)):x!==null&&(x.childLanes&s)!==s&&(x.childLanes|=s),a===d)break;a=a.return}}function Cm(a,s,d,x){var E=a.child;for(E!==null&&(E.return=a);E!==null;){var N=E.dependencies;if(N!==null){var P=E.child;N=N.firstContext;e:for(;N!==null;){var G=N;N=E;for(var ne=0;ne<s.length;ne++)if(G.context===s[ne]){N.lanes|=d,G=N.alternate,G!==null&&(G.lanes|=d),Em(N.return,d,a),x||(P=null);break e}N=G.next}}else if(E.tag===18){if(P=E.return,P===null)throw Error(n(341));P.lanes|=d,N=P.alternate,N!==null&&(N.lanes|=d),Em(P,d,a),P=null}else P=E.child;if(P!==null)P.return=E;else for(P=E;P!==null;){if(P===a){P=null;break}if(E=P.sibling,E!==null){E.return=P.return,P=E;break}P=P.return}E=P}}function mc(a,s,d,x){a=null;for(var E=s,N=!1;E!==null;){if(!N){if((E.flags&524288)!==0)N=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var P=E.alternate;if(P===null)throw Error(n(387));if(P=P.memoizedProps,P!==null){var G=E.type;y(E.pendingProps.value,P.value)||(a!==null?a.push(G):a=[G])}}else if(E===Re.current){if(P=E.alternate,P===null)throw Error(n(387));P.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(a!==null?a.push(ed):a=[ed])}E=E.return}a!==null&&Cm(s,a,d,x),s.flags|=262144}function kf(a){for(a=a.firstContext;a!==null;){if(!y(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function mo(a){ho=a,As=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Wn(a){return t2(ho,a)}function Df(a,s){return ho===null&&mo(a),t2(a,s)}function t2(a,s){var d=s._currentValue;if(s={context:s,memoizedValue:d,next:null},As===null){if(a===null)throw Error(n(308));As=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else As=As.next=s;return d}var DI=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(d,x){a.push(x)}};this.abort=function(){s.aborted=!0,a.forEach(function(d){return d()})}},RI=e.unstable_scheduleCallback,PI=e.unstable_NormalPriority,gn={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nm(){return{controller:new DI,data:new Map,refCount:0}}function Ou(a){a.refCount--,a.refCount===0&&RI(PI,function(){a.controller.abort()})}var Iu=null,Tm=0,gc=0,pc=null;function LI(a,s){if(Iu===null){var d=Iu=[];Tm=0,gc=_g(),pc={status:"pending",value:void 0,then:function(x){d.push(x)}}}return Tm++,s.then(r2,r2),s}function r2(){if(--Tm===0&&Iu!==null){pc!==null&&(pc.status="fulfilled");var a=Iu;Iu=null,gc=0,pc=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function BI(a,s){var d=[],x={status:"pending",value:null,reason:null,then:function(E){d.push(E)}};return a.then(function(){x.status="fulfilled",x.value=s;for(var E=0;E<d.length;E++)(0,d[E])(s)},function(E){for(x.status="rejected",x.reason=E,E=0;E<d.length;E++)(0,d[E])(void 0)}),x}var n2=re.S;re.S=function(a,s){Uw=hr(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&LI(a,s),n2!==null&&n2(a,s)};var go=$(null);function Om(){var a=go.current;return a!==null?a:Mr.pooledCache}function Rf(a,s){s===null?Te(go,go.current):Te(go,s.pool)}function a2(){var a=Om();return a===null?null:{parent:gn._currentValue,pool:a}}var xc=Error(n(460)),Im=Error(n(474)),Pf=Error(n(542)),Lf={then:function(){}};function i2(a){return a=a.status,a==="fulfilled"||a==="rejected"}function s2(a,s,d){switch(d=a[d],d===void 0?a.push(s):d!==s&&(s.then(ba,ba),s=d),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,o2(a),a;default:if(typeof s.status=="string")s.then(ba,ba);else{if(a=Mr,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=s,a.status="pending",a.then(function(x){if(s.status==="pending"){var E=s;E.status="fulfilled",E.value=x}},function(x){if(s.status==="pending"){var E=s;E.status="rejected",E.reason=x}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,o2(a),a}throw xo=s,xc}}function po(a){try{var s=a._init;return s(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(xo=d,xc):d}}var xo=null;function l2(){if(xo===null)throw Error(n(459));var a=xo;return xo=null,a}function o2(a){if(a===xc||a===Pf)throw Error(n(483))}var vc=null,_u=0;function Bf(a){var s=_u;return _u+=1,vc===null&&(vc=[]),s2(vc,a,s)}function Mu(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function zf(a,s){throw s.$$typeof===T?Error(n(525)):(a=Object.prototype.toString.call(s),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function c2(a){function s(fe,oe){if(a){var ve=fe.deletions;ve===null?(fe.deletions=[oe],fe.flags|=16):ve.push(oe)}}function d(fe,oe){if(!a)return null;for(;oe!==null;)s(fe,oe),oe=oe.sibling;return null}function x(fe){for(var oe=new Map;fe!==null;)fe.key!==null?oe.set(fe.key,fe):oe.set(fe.index,fe),fe=fe.sibling;return oe}function E(fe,oe){return fe=bs(fe,oe),fe.index=0,fe.sibling=null,fe}function N(fe,oe,ve){return fe.index=ve,a?(ve=fe.alternate,ve!==null?(ve=ve.index,ve<oe?(fe.flags|=67108866,oe):ve):(fe.flags|=67108866,oe)):(fe.flags|=1048576,oe)}function P(fe){return a&&fe.alternate===null&&(fe.flags|=67108866),fe}function G(fe,oe,ve,je){return oe===null||oe.tag!==6?(oe=xm(ve,fe.mode,je),oe.return=fe,oe):(oe=E(oe,ve),oe.return=fe,oe)}function ne(fe,oe,ve,je){var yt=ve.type;return yt===M?Ie(fe,oe,ve.props.children,je,ve.key):oe!==null&&(oe.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===ee&&po(yt)===oe.type)?(oe=E(oe,ve.props),Mu(oe,ve),oe.return=fe,oe):(oe=Mf(ve.type,ve.key,ve.props,null,fe.mode,je),Mu(oe,ve),oe.return=fe,oe)}function ye(fe,oe,ve,je){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ve.containerInfo||oe.stateNode.implementation!==ve.implementation?(oe=vm(ve,fe.mode,je),oe.return=fe,oe):(oe=E(oe,ve.children||[]),oe.return=fe,oe)}function Ie(fe,oe,ve,je,yt){return oe===null||oe.tag!==7?(oe=uo(ve,fe.mode,je,yt),oe.return=fe,oe):(oe=E(oe,ve),oe.return=fe,oe)}function De(fe,oe,ve){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=xm(""+oe,fe.mode,ve),oe.return=fe,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case _:return ve=Mf(oe.type,oe.key,oe.props,null,fe.mode,ve),Mu(ve,oe),ve.return=fe,ve;case j:return oe=vm(oe,fe.mode,ve),oe.return=fe,oe;case ee:return oe=po(oe),De(fe,oe,ve)}if(X(oe)||Q(oe))return oe=uo(oe,fe.mode,ve,null),oe.return=fe,oe;if(typeof oe.then=="function")return De(fe,Bf(oe),ve);if(oe.$$typeof===U)return De(fe,Df(fe,oe),ve);zf(fe,oe)}return null}function we(fe,oe,ve,je){var yt=oe!==null?oe.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return yt!==null?null:G(fe,oe,""+ve,je);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case _:return ve.key===yt?ne(fe,oe,ve,je):null;case j:return ve.key===yt?ye(fe,oe,ve,je):null;case ee:return ve=po(ve),we(fe,oe,ve,je)}if(X(ve)||Q(ve))return yt!==null?null:Ie(fe,oe,ve,je,null);if(typeof ve.then=="function")return we(fe,oe,Bf(ve),je);if(ve.$$typeof===U)return we(fe,oe,Df(fe,ve),je);zf(fe,ve)}return null}function Ce(fe,oe,ve,je,yt){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return fe=fe.get(ve)||null,G(oe,fe,""+je,yt);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case _:return fe=fe.get(je.key===null?ve:je.key)||null,ne(oe,fe,je,yt);case j:return fe=fe.get(je.key===null?ve:je.key)||null,ye(oe,fe,je,yt);case ee:return je=po(je),Ce(fe,oe,ve,je,yt)}if(X(je)||Q(je))return fe=fe.get(ve)||null,Ie(oe,fe,je,yt,null);if(typeof je.then=="function")return Ce(fe,oe,ve,Bf(je),yt);if(je.$$typeof===U)return Ce(fe,oe,ve,Df(oe,je),yt);zf(oe,je)}return null}function ct(fe,oe,ve,je){for(var yt=null,ar=null,ft=oe,Ut=oe=0,Kt=null;ft!==null&&Ut<ve.length;Ut++){ft.index>Ut?(Kt=ft,ft=null):Kt=ft.sibling;var ir=we(fe,ft,ve[Ut],je);if(ir===null){ft===null&&(ft=Kt);break}a&&ft&&ir.alternate===null&&s(fe,ft),oe=N(ir,oe,Ut),ar===null?yt=ir:ar.sibling=ir,ar=ir,ft=Kt}if(Ut===ve.length)return d(fe,ft),Zt&&ws(fe,Ut),yt;if(ft===null){for(;Ut<ve.length;Ut++)ft=De(fe,ve[Ut],je),ft!==null&&(oe=N(ft,oe,Ut),ar===null?yt=ft:ar.sibling=ft,ar=ft);return Zt&&ws(fe,Ut),yt}for(ft=x(ft);Ut<ve.length;Ut++)Kt=Ce(ft,fe,Ut,ve[Ut],je),Kt!==null&&(a&&Kt.alternate!==null&&ft.delete(Kt.key===null?Ut:Kt.key),oe=N(Kt,oe,Ut),ar===null?yt=Kt:ar.sibling=Kt,ar=Kt);return a&&ft.forEach(function(Bl){return s(fe,Bl)}),Zt&&ws(fe,Ut),yt}function Tt(fe,oe,ve,je){if(ve==null)throw Error(n(151));for(var yt=null,ar=null,ft=oe,Ut=oe=0,Kt=null,ir=ve.next();ft!==null&&!ir.done;Ut++,ir=ve.next()){ft.index>Ut?(Kt=ft,ft=null):Kt=ft.sibling;var Bl=we(fe,ft,ir.value,je);if(Bl===null){ft===null&&(ft=Kt);break}a&&ft&&Bl.alternate===null&&s(fe,ft),oe=N(Bl,oe,Ut),ar===null?yt=Bl:ar.sibling=Bl,ar=Bl,ft=Kt}if(ir.done)return d(fe,ft),Zt&&ws(fe,Ut),yt;if(ft===null){for(;!ir.done;Ut++,ir=ve.next())ir=De(fe,ir.value,je),ir!==null&&(oe=N(ir,oe,Ut),ar===null?yt=ir:ar.sibling=ir,ar=ir);return Zt&&ws(fe,Ut),yt}for(ft=x(ft);!ir.done;Ut++,ir=ve.next())ir=Ce(ft,fe,Ut,ir.value,je),ir!==null&&(a&&ir.alternate!==null&&ft.delete(ir.key===null?Ut:ir.key),oe=N(ir,oe,Ut),ar===null?yt=ir:ar.sibling=ir,ar=ir);return a&&ft.forEach(function(K_){return s(fe,K_)}),Zt&&ws(fe,Ut),yt}function Ar(fe,oe,ve,je){if(typeof ve=="object"&&ve!==null&&ve.type===M&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case _:e:{for(var yt=ve.key;oe!==null;){if(oe.key===yt){if(yt=ve.type,yt===M){if(oe.tag===7){d(fe,oe.sibling),je=E(oe,ve.props.children),je.return=fe,fe=je;break e}}else if(oe.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===ee&&po(yt)===oe.type){d(fe,oe.sibling),je=E(oe,ve.props),Mu(je,ve),je.return=fe,fe=je;break e}d(fe,oe);break}else s(fe,oe);oe=oe.sibling}ve.type===M?(je=uo(ve.props.children,fe.mode,je,ve.key),je.return=fe,fe=je):(je=Mf(ve.type,ve.key,ve.props,null,fe.mode,je),Mu(je,ve),je.return=fe,fe=je)}return P(fe);case j:e:{for(yt=ve.key;oe!==null;){if(oe.key===yt)if(oe.tag===4&&oe.stateNode.containerInfo===ve.containerInfo&&oe.stateNode.implementation===ve.implementation){d(fe,oe.sibling),je=E(oe,ve.children||[]),je.return=fe,fe=je;break e}else{d(fe,oe);break}else s(fe,oe);oe=oe.sibling}je=vm(ve,fe.mode,je),je.return=fe,fe=je}return P(fe);case ee:return ve=po(ve),Ar(fe,oe,ve,je)}if(X(ve))return ct(fe,oe,ve,je);if(Q(ve)){if(yt=Q(ve),typeof yt!="function")throw Error(n(150));return ve=yt.call(ve),Tt(fe,oe,ve,je)}if(typeof ve.then=="function")return Ar(fe,oe,Bf(ve),je);if(ve.$$typeof===U)return Ar(fe,oe,Df(fe,ve),je);zf(fe,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,oe!==null&&oe.tag===6?(d(fe,oe.sibling),je=E(oe,ve),je.return=fe,fe=je):(d(fe,oe),je=xm(ve,fe.mode,je),je.return=fe,fe=je),P(fe)):d(fe,oe)}return function(fe,oe,ve,je){try{_u=0;var yt=Ar(fe,oe,ve,je);return vc=null,yt}catch(ft){if(ft===xc||ft===Pf)throw ft;var ar=za(29,ft,null,fe.mode);return ar.lanes=je,ar.return=fe,ar}finally{}}}var vo=c2(!0),u2=c2(!1),wl=!1;function _m(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mm(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Al(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Sl(a,s,d){var x=a.updateQueue;if(x===null)return null;if(x=x.shared,(cr&2)!==0){var E=x.pending;return E===null?s.next=s:(s.next=E.next,E.next=s),x.pending=s,s=_f(a),Xb(a,null,d),s}return If(a,x,s,d),_f(a)}function ju(a,s,d){if(s=s.updateQueue,s!==null&&(s=s.shared,(d&4194048)!==0)){var x=s.lanes;x&=a.pendingLanes,d|=x,s.lanes=d,an(a,d)}}function jm(a,s){var d=a.updateQueue,x=a.alternate;if(x!==null&&(x=x.updateQueue,d===x)){var E=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var P={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?E=N=P:N=N.next=P,d=d.next}while(d!==null);N===null?E=N=s:N=N.next=s}else E=N=s;d={baseState:x.baseState,firstBaseUpdate:E,lastBaseUpdate:N,shared:x.shared,callbacks:x.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=s:a.next=s,d.lastBaseUpdate=s}var km=!1;function ku(){if(km){var a=pc;if(a!==null)throw a}}function Du(a,s,d,x){km=!1;var E=a.updateQueue;wl=!1;var N=E.firstBaseUpdate,P=E.lastBaseUpdate,G=E.shared.pending;if(G!==null){E.shared.pending=null;var ne=G,ye=ne.next;ne.next=null,P===null?N=ye:P.next=ye,P=ne;var Ie=a.alternate;Ie!==null&&(Ie=Ie.updateQueue,G=Ie.lastBaseUpdate,G!==P&&(G===null?Ie.firstBaseUpdate=ye:G.next=ye,Ie.lastBaseUpdate=ne))}if(N!==null){var De=E.baseState;P=0,Ie=ye=ne=null,G=N;do{var we=G.lane&-536870913,Ce=we!==G.lane;if(Ce?(Wt&we)===we:(x&we)===we){we!==0&&we===gc&&(km=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var ct=a,Tt=G;we=s;var Ar=d;switch(Tt.tag){case 1:if(ct=Tt.payload,typeof ct=="function"){De=ct.call(Ar,De,we);break e}De=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Tt.payload,we=typeof ct=="function"?ct.call(Ar,De,we):ct,we==null)break e;De=A({},De,we);break e;case 2:wl=!0}}we=G.callback,we!==null&&(a.flags|=64,Ce&&(a.flags|=8192),Ce=E.callbacks,Ce===null?E.callbacks=[we]:Ce.push(we))}else Ce={lane:we,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Ie===null?(ye=Ie=Ce,ne=De):Ie=Ie.next=Ce,P|=we;if(G=G.next,G===null){if(G=E.shared.pending,G===null)break;Ce=G,G=Ce.next,Ce.next=null,E.lastBaseUpdate=Ce,E.shared.pending=null}}while(!0);Ie===null&&(ne=De),E.baseState=ne,E.firstBaseUpdate=ye,E.lastBaseUpdate=Ie,N===null&&(E.shared.lanes=0),Ol|=P,a.lanes=P,a.memoizedState=De}}function d2(a,s){if(typeof a!="function")throw Error(n(191,a));a.call(s)}function f2(a,s){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)d2(d[a],s)}var yc=$(null),Uf=$(0);function h2(a,s){a=js,Te(Uf,a),Te(yc,s),js=a|s.baseLanes}function Dm(){Te(Uf,js),Te(yc,yc.current)}function Rm(){js=Uf.current,ue(yc),ue(Uf)}var Ua=$(null),ci=null;function El(a){var s=a.alternate;Te(un,un.current&1),Te(Ua,a),ci===null&&(s===null||yc.current!==null||s.memoizedState!==null)&&(ci=a)}function Pm(a){Te(un,un.current),Te(Ua,a),ci===null&&(ci=a)}function m2(a){a.tag===22?(Te(un,un.current),Te(Ua,a),ci===null&&(ci=a)):Cl()}function Cl(){Te(un,un.current),Te(Ua,Ua.current)}function Fa(a){ue(Ua),ci===a&&(ci=null),ue(un)}var un=$(0);function Ff(a){for(var s=a;s!==null;){if(s.tag===13){var d=s.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Hg(d)||Gg(d)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Es=0,Bt=null,br=null,pn=null,Hf=!1,bc=!1,yo=!1,Gf=0,Ru=0,wc=null,zI=0;function Zr(){throw Error(n(321))}function Lm(a,s){if(s===null)return!1;for(var d=0;d<s.length&&d<a.length;d++)if(!y(a[d],s[d]))return!1;return!0}function Bm(a,s,d,x,E,N){return Es=N,Bt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,re.H=a===null||a.memoizedState===null?$2:Jm,yo=!1,N=d(x,E),yo=!1,bc&&(N=p2(s,d,x,E)),g2(a),N}function g2(a){re.H=Bu;var s=br!==null&&br.next!==null;if(Es=0,pn=br=Bt=null,Hf=!1,Ru=0,wc=null,s)throw Error(n(300));a===null||xn||(a=a.dependencies,a!==null&&kf(a)&&(xn=!0))}function p2(a,s,d,x){Bt=a;var E=0;do{if(bc&&(wc=null),Ru=0,bc=!1,25<=E)throw Error(n(301));if(E+=1,pn=br=null,a.updateQueue!=null){var N=a.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}re.H=Q2,N=s(d,x)}while(bc);return N}function UI(){var a=re.H,s=a.useState()[0];return s=typeof s.then=="function"?Pu(s):s,a=a.useState()[0],(br!==null?br.memoizedState:null)!==a&&(Bt.flags|=1024),s}function zm(){var a=Gf!==0;return Gf=0,a}function Um(a,s,d){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~d}function Fm(a){if(Hf){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Hf=!1}Es=0,pn=br=Bt=null,bc=!1,Ru=Gf=0,wc=null}function ua(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Bt.memoizedState=pn=a:pn=pn.next=a,pn}function dn(){if(br===null){var a=Bt.alternate;a=a!==null?a.memoizedState:null}else a=br.next;var s=pn===null?Bt.memoizedState:pn.next;if(s!==null)pn=s,br=a;else{if(a===null)throw Bt.alternate===null?Error(n(467)):Error(n(310));br=a,a={memoizedState:br.memoizedState,baseState:br.baseState,baseQueue:br.baseQueue,queue:br.queue,next:null},pn===null?Bt.memoizedState=pn=a:pn=pn.next=a}return pn}function Vf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pu(a){var s=Ru;return Ru+=1,wc===null&&(wc=[]),a=s2(wc,a,s),s=Bt,(pn===null?s.memoizedState:pn.next)===null&&(s=s.alternate,re.H=s===null||s.memoizedState===null?$2:Jm),a}function Yf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Pu(a);if(a.$$typeof===U)return Wn(a)}throw Error(n(438,String(a)))}function Hm(a){var s=null,d=Bt.updateQueue;if(d!==null&&(s=d.memoCache),s==null){var x=Bt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(s={data:x.data.map(function(E){return E.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),d===null&&(d=Vf(),Bt.updateQueue=d),d.memoCache=s,d=s.data[s.index],d===void 0)for(d=s.data[s.index]=Array(a),x=0;x<a;x++)d[x]=Ne;return s.index++,d}function Cs(a,s){return typeof s=="function"?s(a):s}function qf(a){var s=dn();return Gm(s,br,a)}function Gm(a,s,d){var x=a.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=d;var E=a.baseQueue,N=x.pending;if(N!==null){if(E!==null){var P=E.next;E.next=N.next,N.next=P}s.baseQueue=E=N,x.pending=null}if(N=a.baseState,E===null)a.memoizedState=N;else{s=E.next;var G=P=null,ne=null,ye=s,Ie=!1;do{var De=ye.lane&-536870913;if(De!==ye.lane?(Wt&De)===De:(Es&De)===De){var we=ye.revertLane;if(we===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),De===gc&&(Ie=!0);else if((Es&we)===we){ye=ye.next,we===gc&&(Ie=!0);continue}else De={lane:0,revertLane:ye.revertLane,gesture:null,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},ne===null?(G=ne=De,P=N):ne=ne.next=De,Bt.lanes|=we,Ol|=we;De=ye.action,yo&&d(N,De),N=ye.hasEagerState?ye.eagerState:d(N,De)}else we={lane:De,revertLane:ye.revertLane,gesture:ye.gesture,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},ne===null?(G=ne=we,P=N):ne=ne.next=we,Bt.lanes|=De,Ol|=De;ye=ye.next}while(ye!==null&&ye!==s);if(ne===null?P=N:ne.next=G,!y(N,a.memoizedState)&&(xn=!0,Ie&&(d=pc,d!==null)))throw d;a.memoizedState=N,a.baseState=P,a.baseQueue=ne,x.lastRenderedState=N}return E===null&&(x.lanes=0),[a.memoizedState,x.dispatch]}function Vm(a){var s=dn(),d=s.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var x=d.dispatch,E=d.pending,N=s.memoizedState;if(E!==null){d.pending=null;var P=E=E.next;do N=a(N,P.action),P=P.next;while(P!==E);y(N,s.memoizedState)||(xn=!0),s.memoizedState=N,s.baseQueue===null&&(s.baseState=N),d.lastRenderedState=N}return[N,x]}function x2(a,s,d){var x=Bt,E=dn(),N=Zt;if(N){if(d===void 0)throw Error(n(407));d=d()}else d=s();var P=!y((br||E).memoizedState,d);if(P&&(E.memoizedState=d,xn=!0),E=E.queue,Xm(b2.bind(null,x,E,a),[a]),E.getSnapshot!==s||P||pn!==null&&pn.memoizedState.tag&1){if(x.flags|=2048,Ac(9,{destroy:void 0},y2.bind(null,x,E,d,s),null),Mr===null)throw Error(n(349));N||(Es&127)!==0||v2(x,s,d)}return d}function v2(a,s,d){a.flags|=16384,a={getSnapshot:s,value:d},s=Bt.updateQueue,s===null?(s=Vf(),Bt.updateQueue=s,s.stores=[a]):(d=s.stores,d===null?s.stores=[a]:d.push(a))}function y2(a,s,d,x){s.value=d,s.getSnapshot=x,w2(s)&&A2(a)}function b2(a,s,d){return d(function(){w2(s)&&A2(a)})}function w2(a){var s=a.getSnapshot;a=a.value;try{var d=s();return!y(a,d)}catch{return!0}}function A2(a){var s=co(a,2);s!==null&&Ta(s,a,2)}function Ym(a){var s=ua();if(typeof a=="function"){var d=a;if(a=d(),yo){lr(!0);try{d()}finally{lr(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:a},s}function S2(a,s,d,x){return a.baseState=d,Gm(a,br,typeof x=="function"?x:Cs)}function FI(a,s,d,x,E){if(Kf(a))throw Error(n(485));if(a=s.action,a!==null){var N={payload:E,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){N.listeners.push(P)}};re.T!==null?d(!0):N.isTransition=!1,x(N),d=s.pending,d===null?(N.next=s.pending=N,E2(s,N)):(N.next=d.next,s.pending=d.next=N)}}function E2(a,s){var d=s.action,x=s.payload,E=a.state;if(s.isTransition){var N=re.T,P={};re.T=P;try{var G=d(E,x),ne=re.S;ne!==null&&ne(P,G),C2(a,s,G)}catch(ye){qm(a,s,ye)}finally{N!==null&&P.types!==null&&(N.types=P.types),re.T=N}}else try{N=d(E,x),C2(a,s,N)}catch(ye){qm(a,s,ye)}}function C2(a,s,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(x){N2(a,s,x)},function(x){return qm(a,s,x)}):N2(a,s,d)}function N2(a,s,d){s.status="fulfilled",s.value=d,T2(s),a.state=d,s=a.pending,s!==null&&(d=s.next,d===s?a.pending=null:(d=d.next,s.next=d,E2(a,d)))}function qm(a,s,d){var x=a.pending;if(a.pending=null,x!==null){x=x.next;do s.status="rejected",s.reason=d,T2(s),s=s.next;while(s!==x)}a.action=null}function T2(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function O2(a,s){return s}function I2(a,s){if(Zt){var d=Mr.formState;if(d!==null){e:{var x=Bt;if(Zt){if(Pr){t:{for(var E=Pr,N=oi;E.nodeType!==8;){if(!N){E=null;break t}if(E=ui(E.nextSibling),E===null){E=null;break t}}N=E.data,E=N==="F!"||N==="F"?E:null}if(E){Pr=ui(E.nextSibling),x=E.data==="F!";break e}}yl(x)}x=!1}x&&(s=d[0])}}return d=ua(),d.memoizedState=d.baseState=s,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O2,lastRenderedState:s},d.queue=x,d=W2.bind(null,Bt,x),x.dispatch=d,x=Ym(!1),N=Qm.bind(null,Bt,!1,x.queue),x=ua(),E={state:s,dispatch:null,action:a,pending:null},x.queue=E,d=FI.bind(null,Bt,E,N,d),E.dispatch=d,x.memoizedState=a,[s,d,!1]}function _2(a){var s=dn();return M2(s,br,a)}function M2(a,s,d){if(s=Gm(a,s,O2)[0],a=qf(Cs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var x=Pu(s)}catch(P){throw P===xc?Pf:P}else x=s;s=dn();var E=s.queue,N=E.dispatch;return d!==s.memoizedState&&(Bt.flags|=2048,Ac(9,{destroy:void 0},HI.bind(null,E,d),null)),[x,N,a]}function HI(a,s){a.action=s}function j2(a){var s=dn(),d=br;if(d!==null)return M2(s,d,a);dn(),s=s.memoizedState,d=dn();var x=d.queue.dispatch;return d.memoizedState=a,[s,x,!1]}function Ac(a,s,d,x){return a={tag:a,create:d,deps:x,inst:s,next:null},s=Bt.updateQueue,s===null&&(s=Vf(),Bt.updateQueue=s),d=s.lastEffect,d===null?s.lastEffect=a.next=a:(x=d.next,d.next=a,a.next=x,s.lastEffect=a),a}function k2(){return dn().memoizedState}function Xf(a,s,d,x){var E=ua();Bt.flags|=a,E.memoizedState=Ac(1|s,{destroy:void 0},d,x===void 0?null:x)}function Wf(a,s,d,x){var E=dn();x=x===void 0?null:x;var N=E.memoizedState.inst;br!==null&&x!==null&&Lm(x,br.memoizedState.deps)?E.memoizedState=Ac(s,N,d,x):(Bt.flags|=a,E.memoizedState=Ac(1|s,N,d,x))}function D2(a,s){Xf(8390656,8,a,s)}function Xm(a,s){Wf(2048,8,a,s)}function GI(a){Bt.flags|=4;var s=Bt.updateQueue;if(s===null)s=Vf(),Bt.updateQueue=s,s.events=[a];else{var d=s.events;d===null?s.events=[a]:d.push(a)}}function R2(a){var s=dn().memoizedState;return GI({ref:s,nextImpl:a}),function(){if((cr&2)!==0)throw Error(n(440));return s.impl.apply(void 0,arguments)}}function P2(a,s){return Wf(4,2,a,s)}function L2(a,s){return Wf(4,4,a,s)}function B2(a,s){if(typeof s=="function"){a=a();var d=s(a);return function(){typeof d=="function"?d():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function z2(a,s,d){d=d!=null?d.concat([a]):null,Wf(4,4,B2.bind(null,s,a),d)}function Wm(){}function U2(a,s){var d=dn();s=s===void 0?null:s;var x=d.memoizedState;return s!==null&&Lm(s,x[1])?x[0]:(d.memoizedState=[a,s],a)}function F2(a,s){var d=dn();s=s===void 0?null:s;var x=d.memoizedState;if(s!==null&&Lm(s,x[1]))return x[0];if(x=a(),yo){lr(!0);try{a()}finally{lr(!1)}}return d.memoizedState=[x,s],x}function Km(a,s,d){return d===void 0||(Es&1073741824)!==0&&(Wt&261930)===0?a.memoizedState=s:(a.memoizedState=d,a=Hw(),Bt.lanes|=a,Ol|=a,d)}function H2(a,s,d,x){return y(d,s)?d:yc.current!==null?(a=Km(a,d,x),y(a,s)||(xn=!0),a):(Es&42)===0||(Es&1073741824)!==0&&(Wt&261930)===0?(xn=!0,a.memoizedState=d):(a=Hw(),Bt.lanes|=a,Ol|=a,s)}function G2(a,s,d,x,E){var N=se.p;se.p=N!==0&&8>N?N:8;var P=re.T,G={};re.T=G,Qm(a,!1,s,d);try{var ne=E(),ye=re.S;if(ye!==null&&ye(G,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Ie=BI(ne,x);Lu(a,s,Ie,Va(a))}else Lu(a,s,x,Va(a))}catch(De){Lu(a,s,{then:function(){},status:"rejected",reason:De},Va())}finally{se.p=N,P!==null&&G.types!==null&&(P.types=G.types),re.T=P}}function VI(){}function Zm(a,s,d,x){if(a.tag!==5)throw Error(n(476));var E=V2(a).queue;G2(a,E,s,de,d===null?VI:function(){return Y2(a),d(x)})}function V2(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:de},next:null};var d={};return s.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:d},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Y2(a){var s=V2(a);s.next===null&&(s=a.alternate.memoizedState),Lu(a,s.next.queue,{},Va())}function $m(){return Wn(ed)}function q2(){return dn().memoizedState}function X2(){return dn().memoizedState}function YI(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var d=Va();a=Al(d);var x=Sl(s,a,d);x!==null&&(Ta(x,s,d),ju(x,s,d)),s={cache:Nm()},a.payload=s;return}s=s.return}}function qI(a,s,d){var x=Va();d={lane:x,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Kf(a)?K2(s,d):(d=gm(a,s,d,x),d!==null&&(Ta(d,a,x),Z2(d,s,x)))}function W2(a,s,d){var x=Va();Lu(a,s,d,x)}function Lu(a,s,d,x){var E={lane:x,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Kf(a))K2(s,E);else{var N=a.alternate;if(a.lanes===0&&(N===null||N.lanes===0)&&(N=s.lastRenderedReducer,N!==null))try{var P=s.lastRenderedState,G=N(P,d);if(E.hasEagerState=!0,E.eagerState=G,y(G,P))return If(a,s,E,0),Mr===null&&Of(),!1}catch{}finally{}if(d=gm(a,s,E,x),d!==null)return Ta(d,a,x),Z2(d,s,x),!0}return!1}function Qm(a,s,d,x){if(x={lane:2,revertLane:_g(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},Kf(a)){if(s)throw Error(n(479))}else s=gm(a,d,x,2),s!==null&&Ta(s,a,2)}function Kf(a){var s=a.alternate;return a===Bt||s!==null&&s===Bt}function K2(a,s){bc=Hf=!0;var d=a.pending;d===null?s.next=s:(s.next=d.next,d.next=s),a.pending=s}function Z2(a,s,d){if((d&4194048)!==0){var x=s.lanes;x&=a.pendingLanes,d|=x,s.lanes=d,an(a,d)}}var Bu={readContext:Wn,use:Yf,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useLayoutEffect:Zr,useInsertionEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useSyncExternalStore:Zr,useId:Zr,useHostTransitionStatus:Zr,useFormState:Zr,useActionState:Zr,useOptimistic:Zr,useMemoCache:Zr,useCacheRefresh:Zr};Bu.useEffectEvent=Zr;var $2={readContext:Wn,use:Yf,useCallback:function(a,s){return ua().memoizedState=[a,s===void 0?null:s],a},useContext:Wn,useEffect:D2,useImperativeHandle:function(a,s,d){d=d!=null?d.concat([a]):null,Xf(4194308,4,B2.bind(null,s,a),d)},useLayoutEffect:function(a,s){return Xf(4194308,4,a,s)},useInsertionEffect:function(a,s){Xf(4,2,a,s)},useMemo:function(a,s){var d=ua();s=s===void 0?null:s;var x=a();if(yo){lr(!0);try{a()}finally{lr(!1)}}return d.memoizedState=[x,s],x},useReducer:function(a,s,d){var x=ua();if(d!==void 0){var E=d(s);if(yo){lr(!0);try{d(s)}finally{lr(!1)}}}else E=s;return x.memoizedState=x.baseState=E,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:E},x.queue=a,a=a.dispatch=qI.bind(null,Bt,a),[x.memoizedState,a]},useRef:function(a){var s=ua();return a={current:a},s.memoizedState=a},useState:function(a){a=Ym(a);var s=a.queue,d=W2.bind(null,Bt,s);return s.dispatch=d,[a.memoizedState,d]},useDebugValue:Wm,useDeferredValue:function(a,s){var d=ua();return Km(d,a,s)},useTransition:function(){var a=Ym(!1);return a=G2.bind(null,Bt,a.queue,!0,!1),ua().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,d){var x=Bt,E=ua();if(Zt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=s(),Mr===null)throw Error(n(349));(Wt&127)!==0||v2(x,s,d)}E.memoizedState=d;var N={value:d,getSnapshot:s};return E.queue=N,D2(b2.bind(null,x,N,a),[a]),x.flags|=2048,Ac(9,{destroy:void 0},y2.bind(null,x,N,d,s),null),d},useId:function(){var a=ua(),s=Mr.identifierPrefix;if(Zt){var d=Wi,x=Xi;d=(x&~(1<<32-jt(x)-1)).toString(32)+d,s="_"+s+"R_"+d,d=Gf++,0<d&&(s+="H"+d.toString(32)),s+="_"}else d=zI++,s="_"+s+"r_"+d.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:$m,useFormState:I2,useActionState:I2,useOptimistic:function(a){var s=ua();s.memoizedState=s.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=d,s=Qm.bind(null,Bt,!0,d),d.dispatch=s,[a,s]},useMemoCache:Hm,useCacheRefresh:function(){return ua().memoizedState=YI.bind(null,Bt)},useEffectEvent:function(a){var s=ua(),d={impl:a};return s.memoizedState=d,function(){if((cr&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},Jm={readContext:Wn,use:Yf,useCallback:U2,useContext:Wn,useEffect:Xm,useImperativeHandle:z2,useInsertionEffect:P2,useLayoutEffect:L2,useMemo:F2,useReducer:qf,useRef:k2,useState:function(){return qf(Cs)},useDebugValue:Wm,useDeferredValue:function(a,s){var d=dn();return H2(d,br.memoizedState,a,s)},useTransition:function(){var a=qf(Cs)[0],s=dn().memoizedState;return[typeof a=="boolean"?a:Pu(a),s]},useSyncExternalStore:x2,useId:q2,useHostTransitionStatus:$m,useFormState:_2,useActionState:_2,useOptimistic:function(a,s){var d=dn();return S2(d,br,a,s)},useMemoCache:Hm,useCacheRefresh:X2};Jm.useEffectEvent=R2;var Q2={readContext:Wn,use:Yf,useCallback:U2,useContext:Wn,useEffect:Xm,useImperativeHandle:z2,useInsertionEffect:P2,useLayoutEffect:L2,useMemo:F2,useReducer:Vm,useRef:k2,useState:function(){return Vm(Cs)},useDebugValue:Wm,useDeferredValue:function(a,s){var d=dn();return br===null?Km(d,a,s):H2(d,br.memoizedState,a,s)},useTransition:function(){var a=Vm(Cs)[0],s=dn().memoizedState;return[typeof a=="boolean"?a:Pu(a),s]},useSyncExternalStore:x2,useId:q2,useHostTransitionStatus:$m,useFormState:j2,useActionState:j2,useOptimistic:function(a,s){var d=dn();return br!==null?S2(d,br,a,s):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:Hm,useCacheRefresh:X2};Q2.useEffectEvent=R2;function eg(a,s,d,x){s=a.memoizedState,d=d(x,s),d=d==null?s:A({},s,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var tg={enqueueSetState:function(a,s,d){a=a._reactInternals;var x=Va(),E=Al(x);E.payload=s,d!=null&&(E.callback=d),s=Sl(a,E,x),s!==null&&(Ta(s,a,x),ju(s,a,x))},enqueueReplaceState:function(a,s,d){a=a._reactInternals;var x=Va(),E=Al(x);E.tag=1,E.payload=s,d!=null&&(E.callback=d),s=Sl(a,E,x),s!==null&&(Ta(s,a,x),ju(s,a,x))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var d=Va(),x=Al(d);x.tag=2,s!=null&&(x.callback=s),s=Sl(a,x,d),s!==null&&(Ta(s,a,d),ju(s,a,d))}};function J2(a,s,d,x,E,N,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(x,N,P):s.prototype&&s.prototype.isPureReactComponent?!S(d,x)||!S(E,N):!0}function ew(a,s,d,x){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(d,x),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(d,x),s.state!==a&&tg.enqueueReplaceState(s,s.state,null)}function bo(a,s){var d=s;if("ref"in s){d={};for(var x in s)x!=="ref"&&(d[x]=s[x])}if(a=a.defaultProps){d===s&&(d=A({},d));for(var E in a)d[E]===void 0&&(d[E]=a[E])}return d}function tw(a){Tf(a)}function rw(a){console.error(a)}function nw(a){Tf(a)}function Zf(a,s){try{var d=a.onUncaughtError;d(s.value,{componentStack:s.stack})}catch(x){setTimeout(function(){throw x})}}function aw(a,s,d){try{var x=a.onCaughtError;x(d.value,{componentStack:d.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function rg(a,s,d){return d=Al(d),d.tag=3,d.payload={element:null},d.callback=function(){Zf(a,s)},d}function iw(a){return a=Al(a),a.tag=3,a}function sw(a,s,d,x){var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var N=x.value;a.payload=function(){return E(N)},a.callback=function(){aw(s,d,x)}}var P=d.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(a.callback=function(){aw(s,d,x),typeof E!="function"&&(Il===null?Il=new Set([this]):Il.add(this));var G=x.stack;this.componentDidCatch(x.value,{componentStack:G!==null?G:""})})}function XI(a,s,d,x,E){if(d.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(s=d.alternate,s!==null&&mc(s,d,E,!0),d=Ua.current,d!==null){switch(d.tag){case 31:case 13:return ci===null?o0():d.alternate===null&&$r===0&&($r=3),d.flags&=-257,d.flags|=65536,d.lanes=E,x===Lf?d.flags|=16384:(s=d.updateQueue,s===null?d.updateQueue=new Set([x]):s.add(x),Tg(a,x,E)),!1;case 22:return d.flags|=65536,x===Lf?d.flags|=16384:(s=d.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([x])},d.updateQueue=s):(d=s.retryQueue,d===null?s.retryQueue=new Set([x]):d.add(x)),Tg(a,x,E)),!1}throw Error(n(435,d.tag))}return Tg(a,x,E),o0(),!1}if(Zt)return s=Ua.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=E,x!==wm&&(a=Error(n(422),{cause:x}),Tu(ii(a,d)))):(x!==wm&&(s=Error(n(423),{cause:x}),Tu(ii(s,d))),a=a.current.alternate,a.flags|=65536,E&=-E,a.lanes|=E,x=ii(x,d),E=rg(a.stateNode,x,E),jm(a,E),$r!==4&&($r=2)),!1;var N=Error(n(520),{cause:x});if(N=ii(N,d),qu===null?qu=[N]:qu.push(N),$r!==4&&($r=2),s===null)return!0;x=ii(x,d),d=s;do{switch(d.tag){case 3:return d.flags|=65536,a=E&-E,d.lanes|=a,a=rg(d.stateNode,x,a),jm(d,a),!1;case 1:if(s=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Il===null||!Il.has(N))))return d.flags|=65536,E&=-E,d.lanes|=E,E=iw(E),sw(E,a,d,x),jm(d,E),!1}d=d.return}while(d!==null);return!1}var ng=Error(n(461)),xn=!1;function Kn(a,s,d,x){s.child=a===null?u2(s,null,d,x):vo(s,a.child,d,x)}function lw(a,s,d,x,E){d=d.render;var N=s.ref;if("ref"in x){var P={};for(var G in x)G!=="ref"&&(P[G]=x[G])}else P=x;return mo(s),x=Bm(a,s,d,P,N,E),G=zm(),a!==null&&!xn?(Um(a,s,E),Ns(a,s,E)):(Zt&&G&&ym(s),s.flags|=1,Kn(a,s,x,E),s.child)}function ow(a,s,d,x,E){if(a===null){var N=d.type;return typeof N=="function"&&!pm(N)&&N.defaultProps===void 0&&d.compare===null?(s.tag=15,s.type=N,cw(a,s,N,x,E)):(a=Mf(d.type,null,x,s,s.mode,E),a.ref=s.ref,a.return=s,s.child=a)}if(N=a.child,!dg(a,E)){var P=N.memoizedProps;if(d=d.compare,d=d!==null?d:S,d(P,x)&&a.ref===s.ref)return Ns(a,s,E)}return s.flags|=1,a=bs(N,x),a.ref=s.ref,a.return=s,s.child=a}function cw(a,s,d,x,E){if(a!==null){var N=a.memoizedProps;if(S(N,x)&&a.ref===s.ref)if(xn=!1,s.pendingProps=x=N,dg(a,E))(a.flags&131072)!==0&&(xn=!0);else return s.lanes=a.lanes,Ns(a,s,E)}return ag(a,s,d,x,E)}function uw(a,s,d,x){var E=x.children,N=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((s.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,a!==null){for(x=s.child=a.child,E=0;x!==null;)E=E|x.lanes|x.childLanes,x=x.sibling;x=E&~N}else x=0,s.child=null;return dw(a,s,N,d,x)}if((d&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Rf(s,N!==null?N.cachePool:null),N!==null?h2(s,N):Dm(),m2(s);else return x=s.lanes=536870912,dw(a,s,N!==null?N.baseLanes|d:d,d,x)}else N!==null?(Rf(s,N.cachePool),h2(s,N),Cl(),s.memoizedState=null):(a!==null&&Rf(s,null),Dm(),Cl());return Kn(a,s,E,d),s.child}function zu(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function dw(a,s,d,x,E){var N=Om();return N=N===null?null:{parent:gn._currentValue,pool:N},s.memoizedState={baseLanes:d,cachePool:N},a!==null&&Rf(s,null),Dm(),m2(s),a!==null&&mc(a,s,x,!0),s.childLanes=E,null}function $f(a,s){return s=Jf({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function fw(a,s,d){return vo(s,a.child,null,d),a=$f(s,s.pendingProps),a.flags|=2,Fa(s),s.memoizedState=null,a}function WI(a,s,d){var x=s.pendingProps,E=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Zt){if(x.mode==="hidden")return a=$f(s,x),s.lanes=536870912,zu(null,a);if(Pm(s),(a=Pr)?(a=EA(a,oi),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:xl!==null?{id:Xi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},d=Kb(a),d.return=s,s.child=d,Xn=s,Pr=null)):a=null,a===null)throw yl(s);return s.lanes=536870912,null}return $f(s,x)}var N=a.memoizedState;if(N!==null){var P=N.dehydrated;if(Pm(s),E)if(s.flags&256)s.flags&=-257,s=fw(a,s,d);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(n(558));else if(xn||mc(a,s,d,!1),E=(d&a.childLanes)!==0,xn||E){if(x=Mr,x!==null&&(P=Da(x,d),P!==0&&P!==N.retryLane))throw N.retryLane=P,co(a,P),Ta(x,a,P),ng;o0(),s=fw(a,s,d)}else a=N.treeContext,Pr=ui(P.nextSibling),Xn=s,Zt=!0,vl=null,oi=!1,a!==null&&Qb(s,a),s=$f(s,x),s.flags|=4096;return s}return a=bs(a.child,{mode:x.mode,children:x.children}),a.ref=s.ref,s.child=a,a.return=s,a}function Qf(a,s){var d=s.ref;if(d===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(a===null||a.ref!==d)&&(s.flags|=4194816)}}function ag(a,s,d,x,E){return mo(s),d=Bm(a,s,d,x,void 0,E),x=zm(),a!==null&&!xn?(Um(a,s,E),Ns(a,s,E)):(Zt&&x&&ym(s),s.flags|=1,Kn(a,s,d,E),s.child)}function hw(a,s,d,x,E,N){return mo(s),s.updateQueue=null,d=p2(s,x,d,E),g2(a),x=zm(),a!==null&&!xn?(Um(a,s,N),Ns(a,s,N)):(Zt&&x&&ym(s),s.flags|=1,Kn(a,s,d,N),s.child)}function mw(a,s,d,x,E){if(mo(s),s.stateNode===null){var N=uc,P=d.contextType;typeof P=="object"&&P!==null&&(N=Wn(P)),N=new d(x,N),s.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=tg,s.stateNode=N,N._reactInternals=s,N=s.stateNode,N.props=x,N.state=s.memoizedState,N.refs={},_m(s),P=d.contextType,N.context=typeof P=="object"&&P!==null?Wn(P):uc,N.state=s.memoizedState,P=d.getDerivedStateFromProps,typeof P=="function"&&(eg(s,d,P,x),N.state=s.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(P=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),P!==N.state&&tg.enqueueReplaceState(N,N.state,null),Du(s,x,N,E),ku(),N.state=s.memoizedState),typeof N.componentDidMount=="function"&&(s.flags|=4194308),x=!0}else if(a===null){N=s.stateNode;var G=s.memoizedProps,ne=bo(d,G);N.props=ne;var ye=N.context,Ie=d.contextType;P=uc,typeof Ie=="object"&&Ie!==null&&(P=Wn(Ie));var De=d.getDerivedStateFromProps;Ie=typeof De=="function"||typeof N.getSnapshotBeforeUpdate=="function",G=s.pendingProps!==G,Ie||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(G||ye!==P)&&ew(s,N,x,P),wl=!1;var we=s.memoizedState;N.state=we,Du(s,x,N,E),ku(),ye=s.memoizedState,G||we!==ye||wl?(typeof De=="function"&&(eg(s,d,De,x),ye=s.memoizedState),(ne=wl||J2(s,d,ne,x,we,ye,P))?(Ie||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(s.flags|=4194308)):(typeof N.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=x,s.memoizedState=ye),N.props=x,N.state=ye,N.context=P,x=ne):(typeof N.componentDidMount=="function"&&(s.flags|=4194308),x=!1)}else{N=s.stateNode,Mm(a,s),P=s.memoizedProps,Ie=bo(d,P),N.props=Ie,De=s.pendingProps,we=N.context,ye=d.contextType,ne=uc,typeof ye=="object"&&ye!==null&&(ne=Wn(ye)),G=d.getDerivedStateFromProps,(ye=typeof G=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(P!==De||we!==ne)&&ew(s,N,x,ne),wl=!1,we=s.memoizedState,N.state=we,Du(s,x,N,E),ku();var Ce=s.memoizedState;P!==De||we!==Ce||wl||a!==null&&a.dependencies!==null&&kf(a.dependencies)?(typeof G=="function"&&(eg(s,d,G,x),Ce=s.memoizedState),(Ie=wl||J2(s,d,Ie,x,we,Ce,ne)||a!==null&&a.dependencies!==null&&kf(a.dependencies))?(ye||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(x,Ce,ne),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(x,Ce,ne)),typeof N.componentDidUpdate=="function"&&(s.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof N.componentDidUpdate!="function"||P===a.memoizedProps&&we===a.memoizedState||(s.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&we===a.memoizedState||(s.flags|=1024),s.memoizedProps=x,s.memoizedState=Ce),N.props=x,N.state=Ce,N.context=ne,x=Ie):(typeof N.componentDidUpdate!="function"||P===a.memoizedProps&&we===a.memoizedState||(s.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&we===a.memoizedState||(s.flags|=1024),x=!1)}return N=x,Qf(a,s),x=(s.flags&128)!==0,N||x?(N=s.stateNode,d=x&&typeof d.getDerivedStateFromError!="function"?null:N.render(),s.flags|=1,a!==null&&x?(s.child=vo(s,a.child,null,E),s.child=vo(s,null,d,E)):Kn(a,s,d,E),s.memoizedState=N.state,a=s.child):a=Ns(a,s,E),a}function gw(a,s,d,x){return fo(),s.flags|=256,Kn(a,s,d,x),s.child}var ig={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sg(a){return{baseLanes:a,cachePool:a2()}}function lg(a,s,d){return a=a!==null?a.childLanes&~d:0,s&&(a|=Ga),a}function pw(a,s,d){var x=s.pendingProps,E=!1,N=(s.flags&128)!==0,P;if((P=N)||(P=a!==null&&a.memoizedState===null?!1:(un.current&2)!==0),P&&(E=!0,s.flags&=-129),P=(s.flags&32)!==0,s.flags&=-33,a===null){if(Zt){if(E?El(s):Cl(),(a=Pr)?(a=EA(a,oi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:xl!==null?{id:Xi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},d=Kb(a),d.return=s,s.child=d,Xn=s,Pr=null)):a=null,a===null)throw yl(s);return Gg(a)?s.lanes=32:s.lanes=536870912,null}var G=x.children;return x=x.fallback,E?(Cl(),E=s.mode,G=Jf({mode:"hidden",children:G},E),x=uo(x,E,d,null),G.return=s,x.return=s,G.sibling=x,s.child=G,x=s.child,x.memoizedState=sg(d),x.childLanes=lg(a,P,d),s.memoizedState=ig,zu(null,x)):(El(s),og(s,G))}var ne=a.memoizedState;if(ne!==null&&(G=ne.dehydrated,G!==null)){if(N)s.flags&256?(El(s),s.flags&=-257,s=cg(a,s,d)):s.memoizedState!==null?(Cl(),s.child=a.child,s.flags|=128,s=null):(Cl(),G=x.fallback,E=s.mode,x=Jf({mode:"visible",children:x.children},E),G=uo(G,E,d,null),G.flags|=2,x.return=s,G.return=s,x.sibling=G,s.child=x,vo(s,a.child,null,d),x=s.child,x.memoizedState=sg(d),x.childLanes=lg(a,P,d),s.memoizedState=ig,s=zu(null,x));else if(El(s),Gg(G)){if(P=G.nextSibling&&G.nextSibling.dataset,P)var ye=P.dgst;P=ye,x=Error(n(419)),x.stack="",x.digest=P,Tu({value:x,source:null,stack:null}),s=cg(a,s,d)}else if(xn||mc(a,s,d,!1),P=(d&a.childLanes)!==0,xn||P){if(P=Mr,P!==null&&(x=Da(P,d),x!==0&&x!==ne.retryLane))throw ne.retryLane=x,co(a,x),Ta(P,a,x),ng;Hg(G)||o0(),s=cg(a,s,d)}else Hg(G)?(s.flags|=192,s.child=a.child,s=null):(a=ne.treeContext,Pr=ui(G.nextSibling),Xn=s,Zt=!0,vl=null,oi=!1,a!==null&&Qb(s,a),s=og(s,x.children),s.flags|=4096);return s}return E?(Cl(),G=x.fallback,E=s.mode,ne=a.child,ye=ne.sibling,x=bs(ne,{mode:"hidden",children:x.children}),x.subtreeFlags=ne.subtreeFlags&65011712,ye!==null?G=bs(ye,G):(G=uo(G,E,d,null),G.flags|=2),G.return=s,x.return=s,x.sibling=G,s.child=x,zu(null,x),x=s.child,G=a.child.memoizedState,G===null?G=sg(d):(E=G.cachePool,E!==null?(ne=gn._currentValue,E=E.parent!==ne?{parent:ne,pool:ne}:E):E=a2(),G={baseLanes:G.baseLanes|d,cachePool:E}),x.memoizedState=G,x.childLanes=lg(a,P,d),s.memoizedState=ig,zu(a.child,x)):(El(s),d=a.child,a=d.sibling,d=bs(d,{mode:"visible",children:x.children}),d.return=s,d.sibling=null,a!==null&&(P=s.deletions,P===null?(s.deletions=[a],s.flags|=16):P.push(a)),s.child=d,s.memoizedState=null,d)}function og(a,s){return s=Jf({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Jf(a,s){return a=za(22,a,null,s),a.lanes=0,a}function cg(a,s,d){return vo(s,a.child,null,d),a=og(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function xw(a,s,d){a.lanes|=s;var x=a.alternate;x!==null&&(x.lanes|=s),Em(a.return,s,d)}function ug(a,s,d,x,E,N){var P=a.memoizedState;P===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:x,tail:d,tailMode:E,treeForkCount:N}:(P.isBackwards=s,P.rendering=null,P.renderingStartTime=0,P.last=x,P.tail=d,P.tailMode=E,P.treeForkCount=N)}function vw(a,s,d){var x=s.pendingProps,E=x.revealOrder,N=x.tail;x=x.children;var P=un.current,G=(P&2)!==0;if(G?(P=P&1|2,s.flags|=128):P&=1,Te(un,P),Kn(a,s,x,d),x=Zt?Nu:0,!G&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&xw(a,d,s);else if(a.tag===19)xw(a,d,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(E){case"forwards":for(d=s.child,E=null;d!==null;)a=d.alternate,a!==null&&Ff(a)===null&&(E=d),d=d.sibling;d=E,d===null?(E=s.child,s.child=null):(E=d.sibling,d.sibling=null),ug(s,!1,E,d,N,x);break;case"backwards":case"unstable_legacy-backwards":for(d=null,E=s.child,s.child=null;E!==null;){if(a=E.alternate,a!==null&&Ff(a)===null){s.child=E;break}a=E.sibling,E.sibling=d,d=E,E=a}ug(s,!0,d,null,N,x);break;case"together":ug(s,!1,null,null,void 0,x);break;default:s.memoizedState=null}return s.child}function Ns(a,s,d){if(a!==null&&(s.dependencies=a.dependencies),Ol|=s.lanes,(d&s.childLanes)===0)if(a!==null){if(mc(a,s,d,!1),(d&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(n(153));if(s.child!==null){for(a=s.child,d=bs(a,a.pendingProps),s.child=d,d.return=s;a.sibling!==null;)a=a.sibling,d=d.sibling=bs(a,a.pendingProps),d.return=s;d.sibling=null}return s.child}function dg(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&kf(a)))}function KI(a,s,d){switch(s.tag){case 3:Ze(s,s.stateNode.containerInfo),bl(s,gn,a.memoizedState.cache),fo();break;case 27:case 5:nt(s);break;case 4:Ze(s,s.stateNode.containerInfo);break;case 10:bl(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Pm(s),null;break;case 13:var x=s.memoizedState;if(x!==null)return x.dehydrated!==null?(El(s),s.flags|=128,null):(d&s.child.childLanes)!==0?pw(a,s,d):(El(s),a=Ns(a,s,d),a!==null?a.sibling:null);El(s);break;case 19:var E=(a.flags&128)!==0;if(x=(d&s.childLanes)!==0,x||(mc(a,s,d,!1),x=(d&s.childLanes)!==0),E){if(x)return vw(a,s,d);s.flags|=128}if(E=s.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Te(un,un.current),x)break;return null;case 22:return s.lanes=0,uw(a,s,d,s.pendingProps);case 24:bl(s,gn,a.memoizedState.cache)}return Ns(a,s,d)}function yw(a,s,d){if(a!==null)if(a.memoizedProps!==s.pendingProps)xn=!0;else{if(!dg(a,d)&&(s.flags&128)===0)return xn=!1,KI(a,s,d);xn=(a.flags&131072)!==0}else xn=!1,Zt&&(s.flags&1048576)!==0&&$b(s,Nu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var x=s.pendingProps;if(a=po(s.elementType),s.type=a,typeof a=="function")pm(a)?(x=bo(a,x),s.tag=1,s=mw(null,s,a,x,d)):(s.tag=0,s=ag(null,s,a,x,d));else{if(a!=null){var E=a.$$typeof;if(E===V){s.tag=11,s=lw(null,s,a,x,d);break e}else if(E===L){s.tag=14,s=ow(null,s,a,x,d);break e}}throw s=be(a)||a,Error(n(306,s,""))}}return s;case 0:return ag(a,s,s.type,s.pendingProps,d);case 1:return x=s.type,E=bo(x,s.pendingProps),mw(a,s,x,E,d);case 3:e:{if(Ze(s,s.stateNode.containerInfo),a===null)throw Error(n(387));x=s.pendingProps;var N=s.memoizedState;E=N.element,Mm(a,s),Du(s,x,null,d);var P=s.memoizedState;if(x=P.cache,bl(s,gn,x),x!==N.cache&&Cm(s,[gn],d,!0),ku(),x=P.element,N.isDehydrated)if(N={element:x,isDehydrated:!1,cache:P.cache},s.updateQueue.baseState=N,s.memoizedState=N,s.flags&256){s=gw(a,s,x,d);break e}else if(x!==E){E=ii(Error(n(424)),s),Tu(E),s=gw(a,s,x,d);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Pr=ui(a.firstChild),Xn=s,Zt=!0,vl=null,oi=!0,d=u2(s,null,x,d),s.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(fo(),x===E){s=Ns(a,s,d);break e}Kn(a,s,x,d)}s=s.child}return s;case 26:return Qf(a,s),a===null?(d=_A(s.type,null,s.pendingProps,null))?s.memoizedState=d:Zt||(d=s.type,a=s.pendingProps,x=g0(J.current).createElement(d),x[Vt]=s,x[nr]=a,Zn(x,d,a),Ur(x),s.stateNode=x):s.memoizedState=_A(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return nt(s),a===null&&Zt&&(x=s.stateNode=TA(s.type,s.pendingProps,J.current),Xn=s,oi=!0,E=Pr,kl(s.type)?(Vg=E,Pr=ui(x.firstChild)):Pr=E),Kn(a,s,s.pendingProps.children,d),Qf(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Zt&&((E=x=Pr)&&(x=C_(x,s.type,s.pendingProps,oi),x!==null?(s.stateNode=x,Xn=s,Pr=ui(x.firstChild),oi=!1,E=!0):E=!1),E||yl(s)),nt(s),E=s.type,N=s.pendingProps,P=a!==null?a.memoizedProps:null,x=N.children,zg(E,N)?x=null:P!==null&&zg(E,P)&&(s.flags|=32),s.memoizedState!==null&&(E=Bm(a,s,UI,null,null,d),ed._currentValue=E),Qf(a,s),Kn(a,s,x,d),s.child;case 6:return a===null&&Zt&&((a=d=Pr)&&(d=N_(d,s.pendingProps,oi),d!==null?(s.stateNode=d,Xn=s,Pr=null,a=!0):a=!1),a||yl(s)),null;case 13:return pw(a,s,d);case 4:return Ze(s,s.stateNode.containerInfo),x=s.pendingProps,a===null?s.child=vo(s,null,x,d):Kn(a,s,x,d),s.child;case 11:return lw(a,s,s.type,s.pendingProps,d);case 7:return Kn(a,s,s.pendingProps,d),s.child;case 8:return Kn(a,s,s.pendingProps.children,d),s.child;case 12:return Kn(a,s,s.pendingProps.children,d),s.child;case 10:return x=s.pendingProps,bl(s,s.type,x.value),Kn(a,s,x.children,d),s.child;case 9:return E=s.type._context,x=s.pendingProps.children,mo(s),E=Wn(E),x=x(E),s.flags|=1,Kn(a,s,x,d),s.child;case 14:return ow(a,s,s.type,s.pendingProps,d);case 15:return cw(a,s,s.type,s.pendingProps,d);case 19:return vw(a,s,d);case 31:return WI(a,s,d);case 22:return uw(a,s,d,s.pendingProps);case 24:return mo(s),x=Wn(gn),a===null?(E=Om(),E===null&&(E=Mr,N=Nm(),E.pooledCache=N,N.refCount++,N!==null&&(E.pooledCacheLanes|=d),E=N),s.memoizedState={parent:x,cache:E},_m(s),bl(s,gn,E)):((a.lanes&d)!==0&&(Mm(a,s),Du(s,null,null,d),ku()),E=a.memoizedState,N=s.memoizedState,E.parent!==x?(E={parent:x,cache:x},s.memoizedState=E,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=E),bl(s,gn,x)):(x=N.cache,bl(s,gn,x),x!==E.cache&&Cm(s,[gn],d,!0))),Kn(a,s,s.pendingProps.children,d),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function Ts(a){a.flags|=4}function fg(a,s,d,x,E){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(E&335544128)===E)if(a.stateNode.complete)a.flags|=8192;else if(qw())a.flags|=8192;else throw xo=Lf,Im}else a.flags&=-16777217}function bw(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!RA(s))if(qw())a.flags|=8192;else throw xo=Lf,Im}function e0(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?vt():536870912,a.lanes|=s,Nc|=s)}function Uu(a,s){if(!Zt)switch(a.tailMode){case"hidden":s=a.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:x.sibling=null}}function Lr(a){var s=a.alternate!==null&&a.alternate.child===a.child,d=0,x=0;if(s)for(var E=a.child;E!==null;)d|=E.lanes|E.childLanes,x|=E.subtreeFlags&65011712,x|=E.flags&65011712,E.return=a,E=E.sibling;else for(E=a.child;E!==null;)d|=E.lanes|E.childLanes,x|=E.subtreeFlags,x|=E.flags,E.return=a,E=E.sibling;return a.subtreeFlags|=x,a.childLanes=d,s}function ZI(a,s,d){var x=s.pendingProps;switch(bm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(s),null;case 1:return Lr(s),null;case 3:return d=s.stateNode,x=null,a!==null&&(x=a.memoizedState.cache),s.memoizedState.cache!==x&&(s.flags|=2048),Ss(gn),he(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(hc(s)?Ts(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Am())),Lr(s),null;case 26:var E=s.type,N=s.memoizedState;return a===null?(Ts(s),N!==null?(Lr(s),bw(s,N)):(Lr(s),fg(s,E,null,x,d))):N?N!==a.memoizedState?(Ts(s),Lr(s),bw(s,N)):(Lr(s),s.flags&=-16777217):(a=a.memoizedProps,a!==x&&Ts(s),Lr(s),fg(s,E,a,x,d)),null;case 27:if(st(s),d=J.current,E=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==x&&Ts(s);else{if(!x){if(s.stateNode===null)throw Error(n(166));return Lr(s),null}a=Pe.current,hc(s)?Jb(s):(a=TA(E,x,d),s.stateNode=a,Ts(s))}return Lr(s),null;case 5:if(st(s),E=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==x&&Ts(s);else{if(!x){if(s.stateNode===null)throw Error(n(166));return Lr(s),null}if(N=Pe.current,hc(s))Jb(s);else{var P=g0(J.current);switch(N){case 1:N=P.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:N=P.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":N=P.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":N=P.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":N=P.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof x.is=="string"?P.createElement("select",{is:x.is}):P.createElement("select"),x.multiple?N.multiple=!0:x.size&&(N.size=x.size);break;default:N=typeof x.is=="string"?P.createElement(E,{is:x.is}):P.createElement(E)}}N[Vt]=s,N[nr]=x;e:for(P=s.child;P!==null;){if(P.tag===5||P.tag===6)N.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===s)break e;for(;P.sibling===null;){if(P.return===null||P.return===s)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}s.stateNode=N;e:switch(Zn(N,E,x),E){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&Ts(s)}}return Lr(s),fg(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,d),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==x&&Ts(s);else{if(typeof x!="string"&&s.stateNode===null)throw Error(n(166));if(a=J.current,hc(s)){if(a=s.stateNode,d=s.memoizedProps,x=null,E=Xn,E!==null)switch(E.tag){case 27:case 5:x=E.memoizedProps}a[Vt]=s,a=!!(a.nodeValue===d||x!==null&&x.suppressHydrationWarning===!0||pA(a.nodeValue,d)),a||yl(s,!0)}else a=g0(a).createTextNode(x),a[Vt]=s,s.stateNode=a}return Lr(s),null;case 31:if(d=s.memoizedState,a===null||a.memoizedState!==null){if(x=hc(s),d!==null){if(a===null){if(!x)throw Error(n(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[Vt]=s}else fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Lr(s),a=!1}else d=Am(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return s.flags&256?(Fa(s),s):(Fa(s),null);if((s.flags&128)!==0)throw Error(n(558))}return Lr(s),null;case 13:if(x=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(E=hc(s),x!==null&&x.dehydrated!==null){if(a===null){if(!E)throw Error(n(318));if(E=s.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Vt]=s}else fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Lr(s),E=!1}else E=Am(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=E),E=!0;if(!E)return s.flags&256?(Fa(s),s):(Fa(s),null)}return Fa(s),(s.flags&128)!==0?(s.lanes=d,s):(d=x!==null,a=a!==null&&a.memoizedState!==null,d&&(x=s.child,E=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(E=x.alternate.memoizedState.cachePool.pool),N=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(N=x.memoizedState.cachePool.pool),N!==E&&(x.flags|=2048)),d!==a&&d&&(s.child.flags|=8192),e0(s,s.updateQueue),Lr(s),null);case 4:return he(),a===null&&Dg(s.stateNode.containerInfo),Lr(s),null;case 10:return Ss(s.type),Lr(s),null;case 19:if(ue(un),x=s.memoizedState,x===null)return Lr(s),null;if(E=(s.flags&128)!==0,N=x.rendering,N===null)if(E)Uu(x,!1);else{if($r!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(N=Ff(a),N!==null){for(s.flags|=128,Uu(x,!1),a=N.updateQueue,s.updateQueue=a,e0(s,a),s.subtreeFlags=0,a=d,d=s.child;d!==null;)Wb(d,a),d=d.sibling;return Te(un,un.current&1|2),Zt&&ws(s,x.treeForkCount),s.child}a=a.sibling}x.tail!==null&&hr()>i0&&(s.flags|=128,E=!0,Uu(x,!1),s.lanes=4194304)}else{if(!E)if(a=Ff(N),a!==null){if(s.flags|=128,E=!0,a=a.updateQueue,s.updateQueue=a,e0(s,a),Uu(x,!0),x.tail===null&&x.tailMode==="hidden"&&!N.alternate&&!Zt)return Lr(s),null}else 2*hr()-x.renderingStartTime>i0&&d!==536870912&&(s.flags|=128,E=!0,Uu(x,!1),s.lanes=4194304);x.isBackwards?(N.sibling=s.child,s.child=N):(a=x.last,a!==null?a.sibling=N:s.child=N,x.last=N)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=hr(),a.sibling=null,d=un.current,Te(un,E?d&1|2:d&1),Zt&&ws(s,x.treeForkCount),a):(Lr(s),null);case 22:case 23:return Fa(s),Rm(),x=s.memoizedState!==null,a!==null?a.memoizedState!==null!==x&&(s.flags|=8192):x&&(s.flags|=8192),x?(d&536870912)!==0&&(s.flags&128)===0&&(Lr(s),s.subtreeFlags&6&&(s.flags|=8192)):Lr(s),d=s.updateQueue,d!==null&&e0(s,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),x=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(x=s.memoizedState.cachePool.pool),x!==d&&(s.flags|=2048),a!==null&&ue(go),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Ss(gn),Lr(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function $I(a,s){switch(bm(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Ss(gn),he(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return st(s),null;case 31:if(s.memoizedState!==null){if(Fa(s),s.alternate===null)throw Error(n(340));fo()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Fa(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(n(340));fo()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return ue(un),null;case 4:return he(),null;case 10:return Ss(s.type),null;case 22:case 23:return Fa(s),Rm(),a!==null&&ue(go),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Ss(gn),null;case 25:return null;default:return null}}function ww(a,s){switch(bm(s),s.tag){case 3:Ss(gn),he();break;case 26:case 27:case 5:st(s);break;case 4:he();break;case 31:s.memoizedState!==null&&Fa(s);break;case 13:Fa(s);break;case 19:ue(un);break;case 10:Ss(s.type);break;case 22:case 23:Fa(s),Rm(),a!==null&&ue(go);break;case 24:Ss(gn)}}function Fu(a,s){try{var d=s.updateQueue,x=d!==null?d.lastEffect:null;if(x!==null){var E=x.next;d=E;do{if((d.tag&a)===a){x=void 0;var N=d.create,P=d.inst;x=N(),P.destroy=x}d=d.next}while(d!==E)}}catch(G){xr(s,s.return,G)}}function Nl(a,s,d){try{var x=s.updateQueue,E=x!==null?x.lastEffect:null;if(E!==null){var N=E.next;x=N;do{if((x.tag&a)===a){var P=x.inst,G=P.destroy;if(G!==void 0){P.destroy=void 0,E=s;var ne=d,ye=G;try{ye()}catch(Ie){xr(E,ne,Ie)}}}x=x.next}while(x!==N)}}catch(Ie){xr(s,s.return,Ie)}}function Aw(a){var s=a.updateQueue;if(s!==null){var d=a.stateNode;try{f2(s,d)}catch(x){xr(a,a.return,x)}}}function Sw(a,s,d){d.props=bo(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(x){xr(a,s,x)}}function Hu(a,s){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var x=a.stateNode;break;case 30:x=a.stateNode;break;default:x=a.stateNode}typeof d=="function"?a.refCleanup=d(x):d.current=x}}catch(E){xr(a,s,E)}}function Ki(a,s){var d=a.ref,x=a.refCleanup;if(d!==null)if(typeof x=="function")try{x()}catch(E){xr(a,s,E)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(E){xr(a,s,E)}else d.current=null}function Ew(a){var s=a.type,d=a.memoizedProps,x=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":d.autoFocus&&x.focus();break e;case"img":d.src?x.src=d.src:d.srcSet&&(x.srcset=d.srcSet)}}catch(E){xr(a,a.return,E)}}function hg(a,s,d){try{var x=a.stateNode;y_(x,a.type,d,s),x[nr]=s}catch(E){xr(a,a.return,E)}}function Cw(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&kl(a.type)||a.tag===4}function mg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Cw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&kl(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function gg(a,s,d){var x=a.tag;if(x===5||x===6)a=a.stateNode,s?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,s):(s=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,s.appendChild(a),d=d._reactRootContainer,d!=null||s.onclick!==null||(s.onclick=ba));else if(x!==4&&(x===27&&kl(a.type)&&(d=a.stateNode,s=null),a=a.child,a!==null))for(gg(a,s,d),a=a.sibling;a!==null;)gg(a,s,d),a=a.sibling}function t0(a,s,d){var x=a.tag;if(x===5||x===6)a=a.stateNode,s?d.insertBefore(a,s):d.appendChild(a);else if(x!==4&&(x===27&&kl(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(t0(a,s,d),a=a.sibling;a!==null;)t0(a,s,d),a=a.sibling}function Nw(a){var s=a.stateNode,d=a.memoizedProps;try{for(var x=a.type,E=s.attributes;E.length;)s.removeAttributeNode(E[0]);Zn(s,x,d),s[Vt]=a,s[nr]=d}catch(N){xr(a,a.return,N)}}var Os=!1,vn=!1,pg=!1,Tw=typeof WeakSet=="function"?WeakSet:Set,jn=null;function QI(a,s){if(a=a.containerInfo,Lg=A0,a=z(a),H(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var x=d.getSelection&&d.getSelection();if(x&&x.rangeCount!==0){d=x.anchorNode;var E=x.anchorOffset,N=x.focusNode;x=x.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var P=0,G=-1,ne=-1,ye=0,Ie=0,De=a,we=null;t:for(;;){for(var Ce;De!==d||E!==0&&De.nodeType!==3||(G=P+E),De!==N||x!==0&&De.nodeType!==3||(ne=P+x),De.nodeType===3&&(P+=De.nodeValue.length),(Ce=De.firstChild)!==null;)we=De,De=Ce;for(;;){if(De===a)break t;if(we===d&&++ye===E&&(G=P),we===N&&++Ie===x&&(ne=P),(Ce=De.nextSibling)!==null)break;De=we,we=De.parentNode}De=Ce}d=G===-1||ne===-1?null:{start:G,end:ne}}else d=null}d=d||{start:0,end:0}}else d=null;for(Bg={focusedElem:a,selectionRange:d},A0=!1,jn=s;jn!==null;)if(s=jn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,jn=a;else for(;jn!==null;){switch(s=jn,N=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)E=a[d],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&N!==null){a=void 0,d=s,E=N.memoizedProps,N=N.memoizedState,x=d.stateNode;try{var ct=bo(d.type,E);a=x.getSnapshotBeforeUpdate(ct,N),x.__reactInternalSnapshotBeforeUpdate=a}catch(Tt){xr(d,d.return,Tt)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,d=a.nodeType,d===9)Fg(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Fg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=s.sibling,a!==null){a.return=s.return,jn=a;break}jn=s.return}}function Ow(a,s,d){var x=d.flags;switch(d.tag){case 0:case 11:case 15:_s(a,d),x&4&&Fu(5,d);break;case 1:if(_s(a,d),x&4)if(a=d.stateNode,s===null)try{a.componentDidMount()}catch(P){xr(d,d.return,P)}else{var E=bo(d.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(E,s,a.__reactInternalSnapshotBeforeUpdate)}catch(P){xr(d,d.return,P)}}x&64&&Aw(d),x&512&&Hu(d,d.return);break;case 3:if(_s(a,d),x&64&&(a=d.updateQueue,a!==null)){if(s=null,d.child!==null)switch(d.child.tag){case 27:case 5:s=d.child.stateNode;break;case 1:s=d.child.stateNode}try{f2(a,s)}catch(P){xr(d,d.return,P)}}break;case 27:s===null&&x&4&&Nw(d);case 26:case 5:_s(a,d),s===null&&x&4&&Ew(d),x&512&&Hu(d,d.return);break;case 12:_s(a,d);break;case 31:_s(a,d),x&4&&Mw(a,d);break;case 13:_s(a,d),x&4&&jw(a,d),x&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=l_.bind(null,d),T_(a,d))));break;case 22:if(x=d.memoizedState!==null||Os,!x){s=s!==null&&s.memoizedState!==null||vn,E=Os;var N=vn;Os=x,(vn=s)&&!N?Ms(a,d,(d.subtreeFlags&8772)!==0):_s(a,d),Os=E,vn=N}break;case 30:break;default:_s(a,d)}}function Iw(a){var s=a.alternate;s!==null&&(a.alternate=null,Iw(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Vn(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Hr=null,Sa=!1;function Is(a,s,d){for(d=d.child;d!==null;)_w(a,s,d),d=d.sibling}function _w(a,s,d){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Qt,d)}catch{}switch(d.tag){case 26:vn||Ki(d,s),Is(a,s,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:vn||Ki(d,s);var x=Hr,E=Sa;kl(d.type)&&(Hr=d.stateNode,Sa=!1),Is(a,s,d),$u(d.stateNode),Hr=x,Sa=E;break;case 5:vn||Ki(d,s);case 6:if(x=Hr,E=Sa,Hr=null,Is(a,s,d),Hr=x,Sa=E,Hr!==null)if(Sa)try{(Hr.nodeType===9?Hr.body:Hr.nodeName==="HTML"?Hr.ownerDocument.body:Hr).removeChild(d.stateNode)}catch(N){xr(d,s,N)}else try{Hr.removeChild(d.stateNode)}catch(N){xr(d,s,N)}break;case 18:Hr!==null&&(Sa?(a=Hr,AA(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Dc(a)):AA(Hr,d.stateNode));break;case 4:x=Hr,E=Sa,Hr=d.stateNode.containerInfo,Sa=!0,Is(a,s,d),Hr=x,Sa=E;break;case 0:case 11:case 14:case 15:Nl(2,d,s),vn||Nl(4,d,s),Is(a,s,d);break;case 1:vn||(Ki(d,s),x=d.stateNode,typeof x.componentWillUnmount=="function"&&Sw(d,s,x)),Is(a,s,d);break;case 21:Is(a,s,d);break;case 22:vn=(x=vn)||d.memoizedState!==null,Is(a,s,d),vn=x;break;default:Is(a,s,d)}}function Mw(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Dc(a)}catch(d){xr(s,s.return,d)}}}function jw(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Dc(a)}catch(d){xr(s,s.return,d)}}function JI(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new Tw),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new Tw),s;default:throw Error(n(435,a.tag))}}function r0(a,s){var d=JI(a);s.forEach(function(x){if(!d.has(x)){d.add(x);var E=o_.bind(null,a,x);x.then(E,E)}})}function Ea(a,s){var d=s.deletions;if(d!==null)for(var x=0;x<d.length;x++){var E=d[x],N=a,P=s,G=P;e:for(;G!==null;){switch(G.tag){case 27:if(kl(G.type)){Hr=G.stateNode,Sa=!1;break e}break;case 5:Hr=G.stateNode,Sa=!1;break e;case 3:case 4:Hr=G.stateNode.containerInfo,Sa=!0;break e}G=G.return}if(Hr===null)throw Error(n(160));_w(N,P,E),Hr=null,Sa=!1,N=E.alternate,N!==null&&(N.return=null),E.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)kw(s,a),s=s.sibling}var Oi=null;function kw(a,s){var d=a.alternate,x=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ea(s,a),Ca(a),x&4&&(Nl(3,a,a.return),Fu(3,a),Nl(5,a,a.return));break;case 1:Ea(s,a),Ca(a),x&512&&(vn||d===null||Ki(d,d.return)),x&64&&Os&&(a=a.updateQueue,a!==null&&(x=a.callbacks,x!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?x:d.concat(x))));break;case 26:var E=Oi;if(Ea(s,a),Ca(a),x&512&&(vn||d===null||Ki(d,d.return)),x&4){var N=d!==null?d.memoizedState:null;if(x=a.memoizedState,d===null)if(x===null)if(a.stateNode===null){e:{x=a.type,d=a.memoizedProps,E=E.ownerDocument||E;t:switch(x){case"title":N=E.getElementsByTagName("title")[0],(!N||N[ln]||N[Vt]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=E.createElement(x),E.head.insertBefore(N,E.querySelector("head > title"))),Zn(N,x,d),N[Vt]=a,Ur(N),x=N;break e;case"link":var P=kA("link","href",E).get(x+(d.href||""));if(P){for(var G=0;G<P.length;G++)if(N=P[G],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){P.splice(G,1);break t}}N=E.createElement(x),Zn(N,x,d),E.head.appendChild(N);break;case"meta":if(P=kA("meta","content",E).get(x+(d.content||""))){for(G=0;G<P.length;G++)if(N=P[G],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){P.splice(G,1);break t}}N=E.createElement(x),Zn(N,x,d),E.head.appendChild(N);break;default:throw Error(n(468,x))}N[Vt]=a,Ur(N),x=N}a.stateNode=x}else DA(E,a.type,a.stateNode);else a.stateNode=jA(E,x,a.memoizedProps);else N!==x?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,x===null?DA(E,a.type,a.stateNode):jA(E,x,a.memoizedProps)):x===null&&a.stateNode!==null&&hg(a,a.memoizedProps,d.memoizedProps)}break;case 27:Ea(s,a),Ca(a),x&512&&(vn||d===null||Ki(d,d.return)),d!==null&&x&4&&hg(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Ea(s,a),Ca(a),x&512&&(vn||d===null||Ki(d,d.return)),a.flags&32){E=a.stateNode;try{ol(E,"")}catch(ct){xr(a,a.return,ct)}}x&4&&a.stateNode!=null&&(E=a.memoizedProps,hg(a,E,d!==null?d.memoizedProps:E)),x&1024&&(pg=!0);break;case 6:if(Ea(s,a),Ca(a),x&4){if(a.stateNode===null)throw Error(n(162));x=a.memoizedProps,d=a.stateNode;try{d.nodeValue=x}catch(ct){xr(a,a.return,ct)}}break;case 3:if(v0=null,E=Oi,Oi=p0(s.containerInfo),Ea(s,a),Oi=E,Ca(a),x&4&&d!==null&&d.memoizedState.isDehydrated)try{Dc(s.containerInfo)}catch(ct){xr(a,a.return,ct)}pg&&(pg=!1,Dw(a));break;case 4:x=Oi,Oi=p0(a.stateNode.containerInfo),Ea(s,a),Ca(a),Oi=x;break;case 12:Ea(s,a),Ca(a);break;case 31:Ea(s,a),Ca(a),x&4&&(x=a.updateQueue,x!==null&&(a.updateQueue=null,r0(a,x)));break;case 13:Ea(s,a),Ca(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(a0=hr()),x&4&&(x=a.updateQueue,x!==null&&(a.updateQueue=null,r0(a,x)));break;case 22:E=a.memoizedState!==null;var ne=d!==null&&d.memoizedState!==null,ye=Os,Ie=vn;if(Os=ye||E,vn=Ie||ne,Ea(s,a),vn=Ie,Os=ye,Ca(a),x&8192)e:for(s=a.stateNode,s._visibility=E?s._visibility&-2:s._visibility|1,E&&(d===null||ne||Os||vn||wo(a)),d=null,s=a;;){if(s.tag===5||s.tag===26){if(d===null){ne=d=s;try{if(N=ne.stateNode,E)P=N.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{G=ne.stateNode;var De=ne.memoizedProps.style,we=De!=null&&De.hasOwnProperty("display")?De.display:null;G.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(ct){xr(ne,ne.return,ct)}}}else if(s.tag===6){if(d===null){ne=s;try{ne.stateNode.nodeValue=E?"":ne.memoizedProps}catch(ct){xr(ne,ne.return,ct)}}}else if(s.tag===18){if(d===null){ne=s;try{var Ce=ne.stateNode;E?SA(Ce,!0):SA(ne.stateNode,!1)}catch(ct){xr(ne,ne.return,ct)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;d===s&&(d=null),s=s.return}d===s&&(d=null),s.sibling.return=s.return,s=s.sibling}x&4&&(x=a.updateQueue,x!==null&&(d=x.retryQueue,d!==null&&(x.retryQueue=null,r0(a,d))));break;case 19:Ea(s,a),Ca(a),x&4&&(x=a.updateQueue,x!==null&&(a.updateQueue=null,r0(a,x)));break;case 30:break;case 21:break;default:Ea(s,a),Ca(a)}}function Ca(a){var s=a.flags;if(s&2){try{for(var d,x=a.return;x!==null;){if(Cw(x)){d=x;break}x=x.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var E=d.stateNode,N=mg(a);t0(a,N,E);break;case 5:var P=d.stateNode;d.flags&32&&(ol(P,""),d.flags&=-33);var G=mg(a);t0(a,G,P);break;case 3:case 4:var ne=d.stateNode.containerInfo,ye=mg(a);gg(a,ye,ne);break;default:throw Error(n(161))}}catch(Ie){xr(a,a.return,Ie)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function Dw(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;Dw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function _s(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Ow(a,s.alternate,s),s=s.sibling}function wo(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Nl(4,s,s.return),wo(s);break;case 1:Ki(s,s.return);var d=s.stateNode;typeof d.componentWillUnmount=="function"&&Sw(s,s.return,d),wo(s);break;case 27:$u(s.stateNode);case 26:case 5:Ki(s,s.return),wo(s);break;case 22:s.memoizedState===null&&wo(s);break;case 30:wo(s);break;default:wo(s)}a=a.sibling}}function Ms(a,s,d){for(d=d&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var x=s.alternate,E=a,N=s,P=N.flags;switch(N.tag){case 0:case 11:case 15:Ms(E,N,d),Fu(4,N);break;case 1:if(Ms(E,N,d),x=N,E=x.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(ye){xr(x,x.return,ye)}if(x=N,E=x.updateQueue,E!==null){var G=x.stateNode;try{var ne=E.shared.hiddenCallbacks;if(ne!==null)for(E.shared.hiddenCallbacks=null,E=0;E<ne.length;E++)d2(ne[E],G)}catch(ye){xr(x,x.return,ye)}}d&&P&64&&Aw(N),Hu(N,N.return);break;case 27:Nw(N);case 26:case 5:Ms(E,N,d),d&&x===null&&P&4&&Ew(N),Hu(N,N.return);break;case 12:Ms(E,N,d);break;case 31:Ms(E,N,d),d&&P&4&&Mw(E,N);break;case 13:Ms(E,N,d),d&&P&4&&jw(E,N);break;case 22:N.memoizedState===null&&Ms(E,N,d),Hu(N,N.return);break;case 30:break;default:Ms(E,N,d)}s=s.sibling}}function xg(a,s){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Ou(d))}function vg(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Ou(a))}function Ii(a,s,d,x){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Rw(a,s,d,x),s=s.sibling}function Rw(a,s,d,x){var E=s.flags;switch(s.tag){case 0:case 11:case 15:Ii(a,s,d,x),E&2048&&Fu(9,s);break;case 1:Ii(a,s,d,x);break;case 3:Ii(a,s,d,x),E&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Ou(a)));break;case 12:if(E&2048){Ii(a,s,d,x),a=s.stateNode;try{var N=s.memoizedProps,P=N.id,G=N.onPostCommit;typeof G=="function"&&G(P,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ne){xr(s,s.return,ne)}}else Ii(a,s,d,x);break;case 31:Ii(a,s,d,x);break;case 13:Ii(a,s,d,x);break;case 23:break;case 22:N=s.stateNode,P=s.alternate,s.memoizedState!==null?N._visibility&2?Ii(a,s,d,x):Gu(a,s):N._visibility&2?Ii(a,s,d,x):(N._visibility|=2,Sc(a,s,d,x,(s.subtreeFlags&10256)!==0||!1)),E&2048&&xg(P,s);break;case 24:Ii(a,s,d,x),E&2048&&vg(s.alternate,s);break;default:Ii(a,s,d,x)}}function Sc(a,s,d,x,E){for(E=E&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var N=a,P=s,G=d,ne=x,ye=P.flags;switch(P.tag){case 0:case 11:case 15:Sc(N,P,G,ne,E),Fu(8,P);break;case 23:break;case 22:var Ie=P.stateNode;P.memoizedState!==null?Ie._visibility&2?Sc(N,P,G,ne,E):Gu(N,P):(Ie._visibility|=2,Sc(N,P,G,ne,E)),E&&ye&2048&&xg(P.alternate,P);break;case 24:Sc(N,P,G,ne,E),E&&ye&2048&&vg(P.alternate,P);break;default:Sc(N,P,G,ne,E)}s=s.sibling}}function Gu(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var d=a,x=s,E=x.flags;switch(x.tag){case 22:Gu(d,x),E&2048&&xg(x.alternate,x);break;case 24:Gu(d,x),E&2048&&vg(x.alternate,x);break;default:Gu(d,x)}s=s.sibling}}var Vu=8192;function Ec(a,s,d){if(a.subtreeFlags&Vu)for(a=a.child;a!==null;)Pw(a,s,d),a=a.sibling}function Pw(a,s,d){switch(a.tag){case 26:Ec(a,s,d),a.flags&Vu&&a.memoizedState!==null&&z_(d,Oi,a.memoizedState,a.memoizedProps);break;case 5:Ec(a,s,d);break;case 3:case 4:var x=Oi;Oi=p0(a.stateNode.containerInfo),Ec(a,s,d),Oi=x;break;case 22:a.memoizedState===null&&(x=a.alternate,x!==null&&x.memoizedState!==null?(x=Vu,Vu=16777216,Ec(a,s,d),Vu=x):Ec(a,s,d));break;default:Ec(a,s,d)}}function Lw(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Yu(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var x=s[d];jn=x,zw(x,a)}Lw(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Bw(a),a=a.sibling}function Bw(a){switch(a.tag){case 0:case 11:case 15:Yu(a),a.flags&2048&&Nl(9,a,a.return);break;case 3:Yu(a);break;case 12:Yu(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,n0(a)):Yu(a);break;default:Yu(a)}}function n0(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var x=s[d];jn=x,zw(x,a)}Lw(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Nl(8,s,s.return),n0(s);break;case 22:d=s.stateNode,d._visibility&2&&(d._visibility&=-3,n0(s));break;default:n0(s)}a=a.sibling}}function zw(a,s){for(;jn!==null;){var d=jn;switch(d.tag){case 0:case 11:case 15:Nl(8,d,s);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var x=d.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Ou(d.memoizedState.cache)}if(x=d.child,x!==null)x.return=d,jn=x;else e:for(d=a;jn!==null;){x=jn;var E=x.sibling,N=x.return;if(Iw(x),x===d){jn=null;break e}if(E!==null){E.return=N,jn=E;break e}jn=N}}}var e_={getCacheForType:function(a){var s=Wn(gn),d=s.data.get(a);return d===void 0&&(d=a(),s.data.set(a,d)),d},cacheSignal:function(){return Wn(gn).controller.signal}},t_=typeof WeakMap=="function"?WeakMap:Map,cr=0,Mr=null,Yt=null,Wt=0,pr=0,Ha=null,Tl=!1,Cc=!1,yg=!1,js=0,$r=0,Ol=0,Ao=0,bg=0,Ga=0,Nc=0,qu=null,Na=null,wg=!1,a0=0,Uw=0,i0=1/0,s0=null,Il=null,Cn=0,_l=null,Tc=null,ks=0,Ag=0,Sg=null,Fw=null,Xu=0,Eg=null;function Va(){return(cr&2)!==0&&Wt!==0?Wt&-Wt:re.T!==null?_g():sn()}function Hw(){if(Ga===0)if((Wt&536870912)===0||Zt){var a=Ve;Ve<<=1,(Ve&3932160)===0&&(Ve=262144),Ga=a}else Ga=536870912;return a=Ua.current,a!==null&&(a.flags|=32),Ga}function Ta(a,s,d){(a===Mr&&(pr===2||pr===9)||a.cancelPendingCommit!==null)&&(Oc(a,0),Ml(a,Wt,Ga,!1)),Nr(a,d),((cr&2)===0||a!==Mr)&&(a===Mr&&((cr&2)===0&&(Ao|=d),$r===4&&Ml(a,Wt,Ga,!1)),Zi(a))}function Gw(a,s,d){if((cr&6)!==0)throw Error(n(327));var x=!d&&(s&127)===0&&(s&a.expiredLanes)===0||_t(a,s),E=x?a_(a,s):Ng(a,s,!0),N=x;do{if(E===0){Cc&&!x&&Ml(a,s,0,!1);break}else{if(d=a.current.alternate,N&&!r_(d)){E=Ng(a,s,!1),N=!1;continue}if(E===2){if(N=s,a.errorRecoveryDisabledLanes&N)var P=0;else P=a.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){s=P;e:{var G=a;E=qu;var ne=G.current.memoizedState.isDehydrated;if(ne&&(Oc(G,P).flags|=256),P=Ng(G,P,!1),P!==2){if(yg&&!ne){G.errorRecoveryDisabledLanes|=N,Ao|=N,E=4;break e}N=Na,Na=E,N!==null&&(Na===null?Na=N:Na.push.apply(Na,N))}E=P}if(N=!1,E!==2)continue}}if(E===1){Oc(a,0),Ml(a,s,0,!0);break}e:{switch(x=a,N=E,N){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:Ml(x,s,Ga,!Tl);break e;case 2:Na=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(E=a0+300-hr(),10<E)){if(Ml(x,s,Ga,!Tl),Jt(x,0,!0)!==0)break e;ks=s,x.timeoutHandle=bA(Vw.bind(null,x,d,Na,s0,wg,s,Ga,Ao,Nc,Tl,N,"Throttled",-0,0),E);break e}Vw(x,d,Na,s0,wg,s,Ga,Ao,Nc,Tl,N,null,-0,0)}}break}while(!0);Zi(a)}function Vw(a,s,d,x,E,N,P,G,ne,ye,Ie,De,we,Ce){if(a.timeoutHandle=-1,De=s.subtreeFlags,De&8192||(De&16785408)===16785408){De={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ba},Pw(s,N,De);var ct=(N&62914560)===N?a0-hr():(N&4194048)===N?Uw-hr():0;if(ct=U_(De,ct),ct!==null){ks=N,a.cancelPendingCommit=ct(Qw.bind(null,a,s,N,d,x,E,P,G,ne,Ie,De,null,we,Ce)),Ml(a,N,P,!ye);return}}Qw(a,s,N,d,x,E,P,G,ne)}function r_(a){for(var s=a;;){var d=s.tag;if((d===0||d===11||d===15)&&s.flags&16384&&(d=s.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var x=0;x<d.length;x++){var E=d[x],N=E.getSnapshot;E=E.value;try{if(!y(N(),E))return!1}catch{return!1}}if(d=s.child,s.subtreeFlags&16384&&d!==null)d.return=s,s=d;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ml(a,s,d,x){s&=~bg,s&=~Ao,a.suspendedLanes|=s,a.pingedLanes&=~s,x&&(a.warmLanes|=s),x=a.expirationTimes;for(var E=s;0<E;){var N=31-jt(E),P=1<<N;x[N]=-1,E&=~P}d!==0&&Gn(a,d,s)}function l0(){return(cr&6)===0?(Wu(0),!1):!0}function Cg(){if(Yt!==null){if(pr===0)var a=Yt.return;else a=Yt,As=ho=null,Fm(a),vc=null,_u=0,a=Yt;for(;a!==null;)ww(a.alternate,a),a=a.return;Yt=null}}function Oc(a,s){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,A_(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),ks=0,Cg(),Mr=a,Yt=d=bs(a.current,null),Wt=s,pr=0,Ha=null,Tl=!1,Cc=_t(a,s),yg=!1,Nc=Ga=bg=Ao=Ol=$r=0,Na=qu=null,wg=!1,(s&8)!==0&&(s|=s&32);var x=a.entangledLanes;if(x!==0)for(a=a.entanglements,x&=s;0<x;){var E=31-jt(x),N=1<<E;s|=a[E],x&=~N}return js=s,Of(),d}function Yw(a,s){Bt=null,re.H=Bu,s===xc||s===Pf?(s=l2(),pr=3):s===Im?(s=l2(),pr=4):pr=s===ng?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ha=s,Yt===null&&($r=1,Zf(a,ii(s,a.current)))}function qw(){var a=Ua.current;return a===null?!0:(Wt&4194048)===Wt?ci===null:(Wt&62914560)===Wt||(Wt&536870912)!==0?a===ci:!1}function Xw(){var a=re.H;return re.H=Bu,a===null?Bu:a}function Ww(){var a=re.A;return re.A=e_,a}function o0(){$r=4,Tl||(Wt&4194048)!==Wt&&Ua.current!==null||(Cc=!0),(Ol&134217727)===0&&(Ao&134217727)===0||Mr===null||Ml(Mr,Wt,Ga,!1)}function Ng(a,s,d){var x=cr;cr|=2;var E=Xw(),N=Ww();(Mr!==a||Wt!==s)&&(s0=null,Oc(a,s)),s=!1;var P=$r;e:do try{if(pr!==0&&Yt!==null){var G=Yt,ne=Ha;switch(pr){case 8:Cg(),P=6;break e;case 3:case 2:case 9:case 6:Ua.current===null&&(s=!0);var ye=pr;if(pr=0,Ha=null,Ic(a,G,ne,ye),d&&Cc){P=0;break e}break;default:ye=pr,pr=0,Ha=null,Ic(a,G,ne,ye)}}n_(),P=$r;break}catch(Ie){Yw(a,Ie)}while(!0);return s&&a.shellSuspendCounter++,As=ho=null,cr=x,re.H=E,re.A=N,Yt===null&&(Mr=null,Wt=0,Of()),P}function n_(){for(;Yt!==null;)Kw(Yt)}function a_(a,s){var d=cr;cr|=2;var x=Xw(),E=Ww();Mr!==a||Wt!==s?(s0=null,i0=hr()+500,Oc(a,s)):Cc=_t(a,s);e:do try{if(pr!==0&&Yt!==null){s=Yt;var N=Ha;t:switch(pr){case 1:pr=0,Ha=null,Ic(a,s,N,1);break;case 2:case 9:if(i2(N)){pr=0,Ha=null,Zw(s);break}s=function(){pr!==2&&pr!==9||Mr!==a||(pr=7),Zi(a)},N.then(s,s);break e;case 3:pr=7;break e;case 4:pr=5;break e;case 7:i2(N)?(pr=0,Ha=null,Zw(s)):(pr=0,Ha=null,Ic(a,s,N,7));break;case 5:var P=null;switch(Yt.tag){case 26:P=Yt.memoizedState;case 5:case 27:var G=Yt;if(P?RA(P):G.stateNode.complete){pr=0,Ha=null;var ne=G.sibling;if(ne!==null)Yt=ne;else{var ye=G.return;ye!==null?(Yt=ye,c0(ye)):Yt=null}break t}}pr=0,Ha=null,Ic(a,s,N,5);break;case 6:pr=0,Ha=null,Ic(a,s,N,6);break;case 8:Cg(),$r=6;break e;default:throw Error(n(462))}}i_();break}catch(Ie){Yw(a,Ie)}while(!0);return As=ho=null,re.H=x,re.A=E,cr=d,Yt!==null?0:(Mr=null,Wt=0,Of(),$r)}function i_(){for(;Yt!==null&&!ka();)Kw(Yt)}function Kw(a){var s=yw(a.alternate,a,js);a.memoizedProps=a.pendingProps,s===null?c0(a):Yt=s}function Zw(a){var s=a,d=s.alternate;switch(s.tag){case 15:case 0:s=hw(d,s,s.pendingProps,s.type,void 0,Wt);break;case 11:s=hw(d,s,s.pendingProps,s.type.render,s.ref,Wt);break;case 5:Fm(s);default:ww(d,s),s=Yt=Wb(s,js),s=yw(d,s,js)}a.memoizedProps=a.pendingProps,s===null?c0(a):Yt=s}function Ic(a,s,d,x){As=ho=null,Fm(s),vc=null,_u=0;var E=s.return;try{if(XI(a,E,s,d,Wt)){$r=1,Zf(a,ii(d,a.current)),Yt=null;return}}catch(N){if(E!==null)throw Yt=E,N;$r=1,Zf(a,ii(d,a.current)),Yt=null;return}s.flags&32768?(Zt||x===1?a=!0:Cc||(Wt&536870912)!==0?a=!1:(Tl=a=!0,(x===2||x===9||x===3||x===6)&&(x=Ua.current,x!==null&&x.tag===13&&(x.flags|=16384))),$w(s,a)):c0(s)}function c0(a){var s=a;do{if((s.flags&32768)!==0){$w(s,Tl);return}a=s.return;var d=ZI(s.alternate,s,js);if(d!==null){Yt=d;return}if(s=s.sibling,s!==null){Yt=s;return}Yt=s=a}while(s!==null);$r===0&&($r=5)}function $w(a,s){do{var d=$I(a.alternate,a);if(d!==null){d.flags&=32767,Yt=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!s&&(a=a.sibling,a!==null)){Yt=a;return}Yt=a=d}while(a!==null);$r=6,Yt=null}function Qw(a,s,d,x,E,N,P,G,ne){a.cancelPendingCommit=null;do u0();while(Cn!==0);if((cr&6)!==0)throw Error(n(327));if(s!==null){if(s===a.current)throw Error(n(177));if(N=s.lanes|s.childLanes,N|=mm,rr(a,d,N,P,G,ne),a===Mr&&(Yt=Mr=null,Wt=0),Tc=s,_l=a,ks=d,Ag=N,Sg=E,Fw=x,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,c_(Hn,function(){return nA(),null})):(a.callbackNode=null,a.callbackPriority=0),x=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||x){x=re.T,re.T=null,E=se.p,se.p=2,P=cr,cr|=4;try{QI(a,s,d)}finally{cr=P,se.p=E,re.T=x}}Cn=1,Jw(),eA(),tA()}}function Jw(){if(Cn===1){Cn=0;var a=_l,s=Tc,d=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||d){d=re.T,re.T=null;var x=se.p;se.p=2;var E=cr;cr|=4;try{kw(s,a);var N=Bg,P=z(a.containerInfo),G=N.focusedElem,ne=N.selectionRange;if(P!==G&&G&&G.ownerDocument&&D(G.ownerDocument.documentElement,G)){if(ne!==null&&H(G)){var ye=ne.start,Ie=ne.end;if(Ie===void 0&&(Ie=ye),"selectionStart"in G)G.selectionStart=ye,G.selectionEnd=Math.min(Ie,G.value.length);else{var De=G.ownerDocument||document,we=De&&De.defaultView||window;if(we.getSelection){var Ce=we.getSelection(),ct=G.textContent.length,Tt=Math.min(ne.start,ct),Ar=ne.end===void 0?Tt:Math.min(ne.end,ct);!Ce.extend&&Tt>Ar&&(P=Ar,Ar=Tt,Tt=P);var fe=I(G,Tt),oe=I(G,Ar);if(fe&&oe&&(Ce.rangeCount!==1||Ce.anchorNode!==fe.node||Ce.anchorOffset!==fe.offset||Ce.focusNode!==oe.node||Ce.focusOffset!==oe.offset)){var ve=De.createRange();ve.setStart(fe.node,fe.offset),Ce.removeAllRanges(),Tt>Ar?(Ce.addRange(ve),Ce.extend(oe.node,oe.offset)):(ve.setEnd(oe.node,oe.offset),Ce.addRange(ve))}}}}for(De=[],Ce=G;Ce=Ce.parentNode;)Ce.nodeType===1&&De.push({element:Ce,left:Ce.scrollLeft,top:Ce.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<De.length;G++){var je=De[G];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}A0=!!Lg,Bg=Lg=null}finally{cr=E,se.p=x,re.T=d}}a.current=s,Cn=2}}function eA(){if(Cn===2){Cn=0;var a=_l,s=Tc,d=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||d){d=re.T,re.T=null;var x=se.p;se.p=2;var E=cr;cr|=4;try{Ow(a,s.alternate,s)}finally{cr=E,se.p=x,re.T=d}}Cn=3}}function tA(){if(Cn===4||Cn===3){Cn=0,sl();var a=_l,s=Tc,d=ks,x=Fw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Cn=5:(Cn=0,Tc=_l=null,rA(a,a.pendingLanes));var E=a.pendingLanes;if(E===0&&(Il=null),sa(d),s=s.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Qt,s,void 0,(s.current.flags&128)===128)}catch{}if(x!==null){s=re.T,E=se.p,se.p=2,re.T=null;try{for(var N=a.onRecoverableError,P=0;P<x.length;P++){var G=x[P];N(G.value,{componentStack:G.stack})}}finally{re.T=s,se.p=E}}(ks&3)!==0&&u0(),Zi(a),E=a.pendingLanes,(d&261930)!==0&&(E&42)!==0?a===Eg?Xu++:(Xu=0,Eg=a):Xu=0,Wu(0)}}function rA(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Ou(s)))}function u0(){return Jw(),eA(),tA(),nA()}function nA(){if(Cn!==5)return!1;var a=_l,s=Ag;Ag=0;var d=sa(ks),x=re.T,E=se.p;try{se.p=32>d?32:d,re.T=null,d=Sg,Sg=null;var N=_l,P=ks;if(Cn=0,Tc=_l=null,ks=0,(cr&6)!==0)throw Error(n(331));var G=cr;if(cr|=4,Bw(N.current),Rw(N,N.current,P,d),cr=G,Wu(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Qt,N)}catch{}return!0}finally{se.p=E,re.T=x,rA(a,s)}}function aA(a,s,d){s=ii(d,s),s=rg(a.stateNode,s,2),a=Sl(a,s,2),a!==null&&(Nr(a,2),Zi(a))}function xr(a,s,d){if(a.tag===3)aA(a,a,d);else for(;s!==null;){if(s.tag===3){aA(s,a,d);break}else if(s.tag===1){var x=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Il===null||!Il.has(x))){a=ii(d,a),d=iw(2),x=Sl(s,d,2),x!==null&&(sw(d,x,s,a),Nr(x,2),Zi(x));break}}s=s.return}}function Tg(a,s,d){var x=a.pingCache;if(x===null){x=a.pingCache=new t_;var E=new Set;x.set(s,E)}else E=x.get(s),E===void 0&&(E=new Set,x.set(s,E));E.has(d)||(yg=!0,E.add(d),a=s_.bind(null,a,s,d),s.then(a,a))}function s_(a,s,d){var x=a.pingCache;x!==null&&x.delete(s),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Mr===a&&(Wt&d)===d&&($r===4||$r===3&&(Wt&62914560)===Wt&&300>hr()-a0?(cr&2)===0&&Oc(a,0):bg|=d,Nc===Wt&&(Nc=0)),Zi(a)}function iA(a,s){s===0&&(s=vt()),a=co(a,s),a!==null&&(Nr(a,s),Zi(a))}function l_(a){var s=a.memoizedState,d=0;s!==null&&(d=s.retryLane),iA(a,d)}function o_(a,s){var d=0;switch(a.tag){case 31:case 13:var x=a.stateNode,E=a.memoizedState;E!==null&&(d=E.retryLane);break;case 19:x=a.stateNode;break;case 22:x=a.stateNode._retryCache;break;default:throw Error(n(314))}x!==null&&x.delete(s),iA(a,d)}function c_(a,s){return wn(a,s)}var d0=null,_c=null,Og=!1,f0=!1,Ig=!1,jl=0;function Zi(a){a!==_c&&a.next===null&&(_c===null?d0=_c=a:_c=_c.next=a),f0=!0,Og||(Og=!0,d_())}function Wu(a,s){if(!Ig&&f0){Ig=!0;do for(var d=!1,x=d0;x!==null;){if(a!==0){var E=x.pendingLanes;if(E===0)var N=0;else{var P=x.suspendedLanes,G=x.pingedLanes;N=(1<<31-jt(42|a)+1)-1,N&=E&~(P&~G),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,cA(x,N))}else N=Wt,N=Jt(x,x===Mr?N:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(N&3)===0||_t(x,N)||(d=!0,cA(x,N));x=x.next}while(d);Ig=!1}}function u_(){sA()}function sA(){f0=Og=!1;var a=0;jl!==0&&w_()&&(a=jl);for(var s=hr(),d=null,x=d0;x!==null;){var E=x.next,N=lA(x,s);N===0?(x.next=null,d===null?d0=E:d.next=E,E===null&&(_c=d)):(d=x,(a!==0||(N&3)!==0)&&(f0=!0)),x=E}Cn!==0&&Cn!==5||Wu(a),jl!==0&&(jl=0)}function lA(a,s){for(var d=a.suspendedLanes,x=a.pingedLanes,E=a.expirationTimes,N=a.pendingLanes&-62914561;0<N;){var P=31-jt(N),G=1<<P,ne=E[P];ne===-1?((G&d)===0||(G&x)!==0)&&(E[P]=tr(G,s)):ne<=s&&(a.expiredLanes|=G),N&=~G}if(s=Mr,d=Wt,d=Jt(a,a===s?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),x=a.callbackNode,d===0||a===s&&(pr===2||pr===9)||a.cancelPendingCommit!==null)return x!==null&&x!==null&&et(x),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||_t(a,d)){if(s=d&-d,s===a.callbackPriority)return s;switch(x!==null&&et(x),sa(d)){case 2:case 8:d=fs;break;case 32:d=Hn;break;case 268435456:d=Ai;break;default:d=Hn}return x=oA.bind(null,a),d=wn(d,x),a.callbackPriority=s,a.callbackNode=d,s}return x!==null&&x!==null&&et(x),a.callbackPriority=2,a.callbackNode=null,2}function oA(a,s){if(Cn!==0&&Cn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(u0()&&a.callbackNode!==d)return null;var x=Wt;return x=Jt(a,a===Mr?x:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),x===0?null:(Gw(a,x,s),lA(a,hr()),a.callbackNode!=null&&a.callbackNode===d?oA.bind(null,a):null)}function cA(a,s){if(u0())return null;Gw(a,s,!0)}function d_(){S_(function(){(cr&6)!==0?wn(In,u_):sA()})}function _g(){if(jl===0){var a=gc;a===0&&(a=Ge,Ge<<=1,(Ge&261888)===0&&(Ge=256)),jl=a}return jl}function uA(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:cl(""+a)}function dA(a,s){var d=s.ownerDocument.createElement("input");return d.name=s.name,d.value=s.value,a.id&&d.setAttribute("form",a.id),s.parentNode.insertBefore(d,s),a=new FormData(a),d.parentNode.removeChild(d),a}function f_(a,s,d,x,E){if(s==="submit"&&d&&d.stateNode===E){var N=uA((E[nr]||null).action),P=x.submitter;P&&(s=(s=P[nr]||null)?uA(s.formAction):P.getAttribute("formAction"),s!==null&&(N=s,P=null));var G=new An("action","action",null,x,E);a.push({event:G,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(jl!==0){var ne=P?dA(E,P):new FormData(E);Zm(d,{pending:!0,data:ne,method:E.method,action:N},null,ne)}}else typeof N=="function"&&(G.preventDefault(),ne=P?dA(E,P):new FormData(E),Zm(d,{pending:!0,data:ne,method:E.method,action:N},N,ne))},currentTarget:E}]})}}for(var Mg=0;Mg<Cu.length;Mg++){var jg=Cu[Mg],h_=jg.toLowerCase(),m_=jg[0].toUpperCase()+jg.slice(1);Ti(h_,"on"+m_)}Ti(Aa,"onAnimationEnd"),Ti(qn,"onAnimationIteration"),Ti(dr,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(En,"onTransitionRun"),Ti(ca,"onTransitionStart"),Ti(pl,"onTransitionCancel"),Ti(ys,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function fA(a,s){s=(s&4)!==0;for(var d=0;d<a.length;d++){var x=a[d],E=x.event;x=x.listeners;e:{var N=void 0;if(s)for(var P=x.length-1;0<=P;P--){var G=x[P],ne=G.instance,ye=G.currentTarget;if(G=G.listener,ne!==N&&E.isPropagationStopped())break e;N=G,E.currentTarget=ye;try{N(E)}catch(Ie){Tf(Ie)}E.currentTarget=null,N=ne}else for(P=0;P<x.length;P++){if(G=x[P],ne=G.instance,ye=G.currentTarget,G=G.listener,ne!==N&&E.isPropagationStopped())break e;N=G,E.currentTarget=ye;try{N(E)}catch(Ie){Tf(Ie)}E.currentTarget=null,N=ne}}}}function qt(a,s){var d=s[ti];d===void 0&&(d=s[ti]=new Set);var x=a+"__bubble";d.has(x)||(hA(s,a,2,!1),d.add(x))}function kg(a,s,d){var x=0;s&&(x|=4),hA(d,a,x,s)}var h0="_reactListening"+Math.random().toString(36).slice(2);function Dg(a){if(!a[h0]){a[h0]=!0,Le.forEach(function(d){d!=="selectionchange"&&(g_.has(d)||kg(d,!1,a),kg(d,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[h0]||(s[h0]=!0,kg("selectionchange",!1,s))}}function hA(a,s,d,x){switch(HA(s)){case 2:var E=G_;break;case 8:E=V_;break;default:E=Kg}d=E.bind(null,s,d,a),E=void 0,!vu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(E=!0),x?E!==void 0?a.addEventListener(s,d,{capture:!0,passive:E}):a.addEventListener(s,d,!0):E!==void 0?a.addEventListener(s,d,{passive:E}):a.addEventListener(s,d,!1)}function Rg(a,s,d,x,E){var N=x;if((s&1)===0&&(s&2)===0&&x!==null)e:for(;;){if(x===null)return;var P=x.tag;if(P===3||P===4){var G=x.stateNode.containerInfo;if(G===E)break;if(P===4)for(P=x.return;P!==null;){var ne=P.tag;if((ne===3||ne===4)&&P.stateNode.containerInfo===E)return;P=P.return}for(;G!==null;){if(P=zr(G),P===null)return;if(ne=P.tag,ne===5||ne===6||ne===26||ne===27){x=N=P;continue e}G=G.parentNode}}x=x.return}pf(function(){var ye=N,Ie=xu(d),De=[];e:{var we=Nf.get(a);if(we!==void 0){var Ce=An,ct=a;switch(a){case"keypress":if(Gi(d)===0)break e;case"keydown":case"keyup":Ce=sc;break;case"focusin":ct="focus",Ce=wu;break;case"focusout":ct="blur",Ce=wu;break;case"beforeblur":case"afterblur":Ce=wu;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=dm;break;case Aa:case qn:case dr:Ce=zt;break;case ys:Ce=gs;break;case"scroll":case"scrollend":Ce=xf;break;case"wheel":Ce=fm;break;case"copy":case"cut":case"paste":Ce=ic;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=ur;break;case"toggle":case"beforetoggle":Ce=Su}var Tt=(s&4)!==0,Ar=!Tt&&(a==="scroll"||a==="scrollend"),fe=Tt?we!==null?we+"Capture":null:we;Tt=[];for(var oe=ye,ve;oe!==null;){var je=oe;if(ve=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||ve===null||fe===null||(je=Dt(oe,fe),je!=null&&Tt.push(Zu(oe,je,ve))),Ar)break;oe=oe.return}0<Tt.length&&(we=new Ce(we,ct,null,d,Ie),De.push({event:we,listeners:Tt}))}}if((s&7)===0){e:{if(we=a==="mouseover"||a==="pointerover",Ce=a==="mouseout"||a==="pointerout",we&&d!==to&&(ct=d.relatedTarget||d.fromElement)&&(zr(ct)||ct[_n]))break e;if((Ce||we)&&(we=Ie.window===Ie?Ie:(we=Ie.ownerDocument)?we.defaultView||we.parentWindow:window,Ce?(ct=d.relatedTarget||d.toElement,Ce=ye,ct=ct?zr(ct):null,ct!==null&&(Ar=c(ct),Tt=ct.tag,ct!==Ar||Tt!==5&&Tt!==27&&Tt!==6)&&(ct=null)):(Ce=null,ct=ye),Ce!==ct)){if(Tt=or,je="onMouseLeave",fe="onMouseEnter",oe="mouse",(a==="pointerout"||a==="pointerover")&&(Tt=ur,je="onPointerLeave",fe="onPointerEnter",oe="pointer"),Ar=Ce==null?we:Hi(Ce),ve=ct==null?we:Hi(ct),we=new Tt(je,oe+"leave",Ce,d,Ie),we.target=Ar,we.relatedTarget=ve,je=null,zr(Ie)===ye&&(Tt=new Tt(fe,oe+"enter",ct,d,Ie),Tt.target=ve,Tt.relatedTarget=Ar,je=Tt),Ar=je,Ce&&ct)t:{for(Tt=p_,fe=Ce,oe=ct,ve=0,je=fe;je;je=Tt(je))ve++;je=0;for(var yt=oe;yt;yt=Tt(yt))je++;for(;0<ve-je;)fe=Tt(fe),ve--;for(;0<je-ve;)oe=Tt(oe),je--;for(;ve--;){if(fe===oe||oe!==null&&fe===oe.alternate){Tt=fe;break t}fe=Tt(fe),oe=Tt(oe)}Tt=null}else Tt=null;Ce!==null&&mA(De,we,Ce,Tt,!1),ct!==null&&Ar!==null&&mA(De,Ar,ct,Tt,!0)}}e:{if(we=ye?Hi(ye):window,Ce=we.nodeName&&we.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&we.type==="file")var ar=Ba;else if(Eu(we))if(Cf)ar=h;else{ar=o;var ft=i}else Ce=we.nodeName,!Ce||Ce.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?ye&&Or(ye.elementType)&&(ar=Ba):ar=u;if(ar&&(ar=ar(a,ye))){La(De,ar,d,Ie);break e}ft&&ft(a,we,ye),a==="focusout"&&ye&&we.type==="number"&&ye.memoizedProps.value!=null&&W(we,"number",we.value)}switch(ft=ye?Hi(ye):window,a){case"focusin":(Eu(ft)||ft.contentEditable==="true")&&(ae=ft,le=ye,me=null);break;case"focusout":me=le=ae=null;break;case"mousedown":Ae=!0;break;case"contextmenu":case"mouseup":case"dragend":Ae=!1,Xe(De,d,Ie);break;case"selectionchange":if(K)break;case"keydown":case"keyup":Xe(De,d,Ie)}var Ut;if(ao)e:{switch(a){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else gl?Ef(a,d)&&(Kt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Kt="onCompositionStart");Kt&&(Sf&&d.locale!=="ko"&&(gl||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&gl&&(Ut=ul()):(Ci=Ie,Ni="value"in Ci?Ci.value:Ci.textContent,gl=!0)),ft=m0(ye,Kt),0<ft.length&&(Kt=new bf(Kt,a,null,d,Ie),De.push({event:Kt,listeners:ft}),Ut?Kt.data=Ut:(Ut=ml(d),Ut!==null&&(Kt.data=Ut)))),(Ut=Af?qi(a,d):oc(a,d))&&(Kt=m0(ye,"onBeforeInput"),0<Kt.length&&(ft=new bf("onBeforeInput","beforeinput",null,d,Ie),De.push({event:ft,listeners:Kt}),ft.data=Ut)),f_(De,a,ye,d,Ie)}fA(De,s)})}function Zu(a,s,d){return{instance:a,listener:s,currentTarget:d}}function m0(a,s){for(var d=s+"Capture",x=[];a!==null;){var E=a,N=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||N===null||(E=Dt(a,d),E!=null&&x.unshift(Zu(a,E,N)),E=Dt(a,s),E!=null&&x.push(Zu(a,E,N))),a.tag===3)return x;a=a.return}return[]}function p_(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function mA(a,s,d,x,E){for(var N=s._reactName,P=[];d!==null&&d!==x;){var G=d,ne=G.alternate,ye=G.stateNode;if(G=G.tag,ne!==null&&ne===x)break;G!==5&&G!==26&&G!==27||ye===null||(ne=ye,E?(ye=Dt(d,N),ye!=null&&P.unshift(Zu(d,ye,ne))):E||(ye=Dt(d,N),ye!=null&&P.push(Zu(d,ye,ne)))),d=d.return}P.length!==0&&a.push({event:s,listeners:P})}var x_=/\r\n?/g,v_=/\u0000|\uFFFD/g;function gA(a){return(typeof a=="string"?a:""+a).replace(x_,`
`).replace(v_,"")}function pA(a,s){return s=gA(s),gA(a)===s}function wr(a,s,d,x,E,N){switch(d){case"children":typeof x=="string"?s==="body"||s==="textarea"&&x===""||ol(a,x):(typeof x=="number"||typeof x=="bigint")&&s!=="body"&&ol(a,""+x);break;case"className":Mn(a,"class",x);break;case"tabIndex":Mn(a,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(a,d,x);break;case"style":pt(a,x,N);break;case"data":if(s!=="object"){Mn(a,"data",x);break}case"src":case"href":if(x===""&&(s!=="a"||d!=="href")){a.removeAttribute(d);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){a.removeAttribute(d);break}x=cl(""+x),a.setAttribute(d,x);break;case"action":case"formAction":if(typeof x=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(s!=="input"&&wr(a,s,"name",E.name,E,null),wr(a,s,"formEncType",E.formEncType,E,null),wr(a,s,"formMethod",E.formMethod,E,null),wr(a,s,"formTarget",E.formTarget,E,null)):(wr(a,s,"encType",E.encType,E,null),wr(a,s,"method",E.method,E,null),wr(a,s,"target",E.target,E,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){a.removeAttribute(d);break}x=cl(""+x),a.setAttribute(d,x);break;case"onClick":x!=null&&(a.onclick=ba);break;case"onScroll":x!=null&&qt("scroll",a);break;case"onScrollEnd":x!=null&&qt("scrollend",a);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(d=x.__html,d!=null){if(E.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"multiple":a.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":a.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){a.removeAttribute("xlink:href");break}d=cl(""+x),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?a.setAttribute(d,""+x):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":x===!0?a.setAttribute(d,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?a.setAttribute(d,x):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?a.setAttribute(d,x):a.removeAttribute(d);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?a.removeAttribute(d):a.setAttribute(d,x);break;case"popover":qt("beforetoggle",a),qt("toggle",a),gr(a,"popover",x);break;case"xlinkActuate":kt(a,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":kt(a,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":kt(a,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":kt(a,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":kt(a,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":kt(a,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":kt(a,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":kt(a,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":kt(a,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":gr(a,"is",x);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=gf.get(d)||d,gr(a,d,x))}}function Pg(a,s,d,x,E,N){switch(d){case"style":pt(a,x,N);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(d=x.__html,d!=null){if(E.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"children":typeof x=="string"?ol(a,x):(typeof x=="number"||typeof x=="bigint")&&ol(a,""+x);break;case"onScroll":x!=null&&qt("scroll",a);break;case"onScrollEnd":x!=null&&qt("scrollend",a);break;case"onClick":x!=null&&(a.onclick=ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ce.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(E=d.endsWith("Capture"),s=d.slice(2,E?d.length-7:void 0),N=a[nr]||null,N=N!=null?N[d]:null,typeof N=="function"&&a.removeEventListener(s,N,E),typeof x=="function")){typeof N!="function"&&N!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(s,x,E);break e}d in a?a[d]=x:x===!0?a.setAttribute(d,""):gr(a,d,x)}}}function Zn(a,s,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",a),qt("load",a);var x=!1,E=!1,N;for(N in d)if(d.hasOwnProperty(N)){var P=d[N];if(P!=null)switch(N){case"src":x=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:wr(a,s,N,P,d,null)}}E&&wr(a,s,"srcSet",d.srcSet,d,null),x&&wr(a,s,"src",d.src,d,null);return;case"input":qt("invalid",a);var G=N=P=E=null,ne=null,ye=null;for(x in d)if(d.hasOwnProperty(x)){var Ie=d[x];if(Ie!=null)switch(x){case"name":E=Ie;break;case"type":P=Ie;break;case"checked":ne=Ie;break;case"defaultChecked":ye=Ie;break;case"value":N=Ie;break;case"defaultValue":G=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(n(137,s));break;default:wr(a,s,x,Ie,d,null)}}pe(a,N,G,ne,ye,P,E,!1);return;case"select":qt("invalid",a),x=P=N=null;for(E in d)if(d.hasOwnProperty(E)&&(G=d[E],G!=null))switch(E){case"value":N=G;break;case"defaultValue":P=G;break;case"multiple":x=G;default:wr(a,s,E,G,d,null)}s=N,d=P,a.multiple=!!x,s!=null?ut(a,!!x,s,!1):d!=null&&ut(a,!!x,d,!0);return;case"textarea":qt("invalid",a),N=E=x=null;for(P in d)if(d.hasOwnProperty(P)&&(G=d[P],G!=null))switch(P){case"value":x=G;break;case"defaultValue":E=G;break;case"children":N=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(91));break;default:wr(a,s,P,G,d,null)}la(a,x,E,N);return;case"option":for(ne in d)if(d.hasOwnProperty(ne)&&(x=d[ne],x!=null))switch(ne){case"selected":a.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:wr(a,s,ne,x,d,null)}return;case"dialog":qt("beforetoggle",a),qt("toggle",a),qt("cancel",a),qt("close",a);break;case"iframe":case"object":qt("load",a);break;case"video":case"audio":for(x=0;x<Ku.length;x++)qt(Ku[x],a);break;case"image":qt("error",a),qt("load",a);break;case"details":qt("toggle",a);break;case"embed":case"source":case"link":qt("error",a),qt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ye in d)if(d.hasOwnProperty(ye)&&(x=d[ye],x!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:wr(a,s,ye,x,d,null)}return;default:if(Or(s)){for(Ie in d)d.hasOwnProperty(Ie)&&(x=d[Ie],x!==void 0&&Pg(a,s,Ie,x,d,void 0));return}}for(G in d)d.hasOwnProperty(G)&&(x=d[G],x!=null&&wr(a,s,G,x,d,null))}function y_(a,s,d,x){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,N=null,P=null,G=null,ne=null,ye=null,Ie=null;for(Ce in d){var De=d[Ce];if(d.hasOwnProperty(Ce)&&De!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":ne=De;default:x.hasOwnProperty(Ce)||wr(a,s,Ce,null,x,De)}}for(var we in x){var Ce=x[we];if(De=d[we],x.hasOwnProperty(we)&&(Ce!=null||De!=null))switch(we){case"type":N=Ce;break;case"name":E=Ce;break;case"checked":ye=Ce;break;case"defaultChecked":Ie=Ce;break;case"value":P=Ce;break;case"defaultValue":G=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(n(137,s));break;default:Ce!==De&&wr(a,s,we,Ce,x,De)}}hn(a,P,G,ne,ye,Ie,N,E);return;case"select":Ce=P=G=we=null;for(N in d)if(ne=d[N],d.hasOwnProperty(N)&&ne!=null)switch(N){case"value":break;case"multiple":Ce=ne;default:x.hasOwnProperty(N)||wr(a,s,N,null,x,ne)}for(E in x)if(N=x[E],ne=d[E],x.hasOwnProperty(E)&&(N!=null||ne!=null))switch(E){case"value":we=N;break;case"defaultValue":G=N;break;case"multiple":P=N;default:N!==ne&&wr(a,s,E,N,x,ne)}s=G,d=P,x=Ce,we!=null?ut(a,!!d,we,!1):!!x!=!!d&&(s!=null?ut(a,!!d,s,!0):ut(a,!!d,d?[]:"",!1));return;case"textarea":Ce=we=null;for(G in d)if(E=d[G],d.hasOwnProperty(G)&&E!=null&&!x.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:wr(a,s,G,null,x,E)}for(P in x)if(E=x[P],N=d[P],x.hasOwnProperty(P)&&(E!=null||N!=null))switch(P){case"value":we=E;break;case"defaultValue":Ce=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:E!==N&&wr(a,s,P,E,x,N)}on(a,we,Ce);return;case"option":for(var ct in d)if(we=d[ct],d.hasOwnProperty(ct)&&we!=null&&!x.hasOwnProperty(ct))switch(ct){case"selected":a.selected=!1;break;default:wr(a,s,ct,null,x,we)}for(ne in x)if(we=x[ne],Ce=d[ne],x.hasOwnProperty(ne)&&we!==Ce&&(we!=null||Ce!=null))switch(ne){case"selected":a.selected=we&&typeof we!="function"&&typeof we!="symbol";break;default:wr(a,s,ne,we,x,Ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in d)we=d[Tt],d.hasOwnProperty(Tt)&&we!=null&&!x.hasOwnProperty(Tt)&&wr(a,s,Tt,null,x,we);for(ye in x)if(we=x[ye],Ce=d[ye],x.hasOwnProperty(ye)&&we!==Ce&&(we!=null||Ce!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(n(137,s));break;default:wr(a,s,ye,we,x,Ce)}return;default:if(Or(s)){for(var Ar in d)we=d[Ar],d.hasOwnProperty(Ar)&&we!==void 0&&!x.hasOwnProperty(Ar)&&Pg(a,s,Ar,void 0,x,we);for(Ie in x)we=x[Ie],Ce=d[Ie],!x.hasOwnProperty(Ie)||we===Ce||we===void 0&&Ce===void 0||Pg(a,s,Ie,we,x,Ce);return}}for(var fe in d)we=d[fe],d.hasOwnProperty(fe)&&we!=null&&!x.hasOwnProperty(fe)&&wr(a,s,fe,null,x,we);for(De in x)we=x[De],Ce=d[De],!x.hasOwnProperty(De)||we===Ce||we==null&&Ce==null||wr(a,s,De,we,x,Ce)}function xA(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b_(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,d=performance.getEntriesByType("resource"),x=0;x<d.length;x++){var E=d[x],N=E.transferSize,P=E.initiatorType,G=E.duration;if(N&&G&&xA(P)){for(P=0,G=E.responseEnd,x+=1;x<d.length;x++){var ne=d[x],ye=ne.startTime;if(ye>G)break;var Ie=ne.transferSize,De=ne.initiatorType;Ie&&xA(De)&&(ne=ne.responseEnd,P+=Ie*(ne<G?1:(G-ye)/(ne-ye)))}if(--x,s+=8*(N+P)/(E.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Lg=null,Bg=null;function g0(a){return a.nodeType===9?a:a.ownerDocument}function vA(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yA(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function zg(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ug=null;function w_(){var a=window.event;return a&&a.type==="popstate"?a===Ug?!1:(Ug=a,!0):(Ug=null,!1)}var bA=typeof setTimeout=="function"?setTimeout:void 0,A_=typeof clearTimeout=="function"?clearTimeout:void 0,wA=typeof Promise=="function"?Promise:void 0,S_=typeof queueMicrotask=="function"?queueMicrotask:typeof wA<"u"?function(a){return wA.resolve(null).then(a).catch(E_)}:bA;function E_(a){setTimeout(function(){throw a})}function kl(a){return a==="head"}function AA(a,s){var d=s,x=0;do{var E=d.nextSibling;if(a.removeChild(d),E&&E.nodeType===8)if(d=E.data,d==="/$"||d==="/&"){if(x===0){a.removeChild(E),Dc(s);return}x--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")x++;else if(d==="html")$u(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,$u(d);for(var N=d.firstChild;N;){var P=N.nextSibling,G=N.nodeName;N[ln]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=P}}else d==="body"&&$u(a.ownerDocument.body);d=E}while(d);Dc(s)}function SA(a,s){var d=a;a=0;do{var x=d.nextSibling;if(d.nodeType===1?s?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(s?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=x}while(d)}function Fg(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var d=s;switch(s=s.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Fg(d),Vn(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function C_(a,s,d,x){for(;a.nodeType===1;){var E=d;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!x&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(x){if(!a[ln])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(N=a.getAttribute("rel"),N==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(N!==E.rel||a.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||a.getAttribute("title")!==(E.title==null?null:E.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(N=a.getAttribute("src"),(N!==(E.src==null?null:E.src)||a.getAttribute("type")!==(E.type==null?null:E.type)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&N&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var N=E.name==null?null:""+E.name;if(E.type==="hidden"&&a.getAttribute("name")===N)return a}else return a;if(a=ui(a.nextSibling),a===null)break}return null}function N_(a,s,d){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=ui(a.nextSibling),a===null))return null;return a}function EA(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=ui(a.nextSibling),a===null))return null;return a}function Hg(a){return a.data==="$?"||a.data==="$~"}function Gg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function T_(a,s){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||d.readyState!=="loading")s();else{var x=function(){s(),d.removeEventListener("DOMContentLoaded",x)};d.addEventListener("DOMContentLoaded",x),a._reactRetry=x}}function ui(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var Vg=null;function CA(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(s===0)return ui(a.nextSibling);s--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||s++}a=a.nextSibling}return null}function NA(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(s===0)return a;s--}else d!=="/$"&&d!=="/&"||s++}a=a.previousSibling}return null}function TA(a,s,d){switch(s=g0(d),a){case"html":if(a=s.documentElement,!a)throw Error(n(452));return a;case"head":if(a=s.head,!a)throw Error(n(453));return a;case"body":if(a=s.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function $u(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Vn(a)}var di=new Map,OA=new Set;function p0(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ds=se.d;se.d={f:O_,r:I_,D:__,C:M_,L:j_,m:k_,X:R_,S:D_,M:P_};function O_(){var a=Ds.f(),s=l0();return a||s}function I_(a){var s=er(a);s!==null&&s.tag===5&&s.type==="form"?Y2(s):Ds.r(a)}var Mc=typeof document>"u"?null:document;function IA(a,s,d){var x=Mc;if(x&&typeof s=="string"&&s){var E=Ht(s);E='link[rel="'+a+'"][href="'+E+'"]',typeof d=="string"&&(E+='[crossorigin="'+d+'"]'),OA.has(E)||(OA.add(E),a={rel:a,crossOrigin:d,href:s},x.querySelector(E)===null&&(s=x.createElement("link"),Zn(s,"link",a),Ur(s),x.head.appendChild(s)))}}function __(a){Ds.D(a),IA("dns-prefetch",a,null)}function M_(a,s){Ds.C(a,s),IA("preconnect",a,s)}function j_(a,s,d){Ds.L(a,s,d);var x=Mc;if(x&&a&&s){var E='link[rel="preload"][as="'+Ht(s)+'"]';s==="image"&&d&&d.imageSrcSet?(E+='[imagesrcset="'+Ht(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(E+='[imagesizes="'+Ht(d.imageSizes)+'"]')):E+='[href="'+Ht(a)+'"]';var N=E;switch(s){case"style":N=jc(a);break;case"script":N=kc(a)}di.has(N)||(a=A({rel:"preload",href:s==="image"&&d&&d.imageSrcSet?void 0:a,as:s},d),di.set(N,a),x.querySelector(E)!==null||s==="style"&&x.querySelector(Qu(N))||s==="script"&&x.querySelector(Ju(N))||(s=x.createElement("link"),Zn(s,"link",a),Ur(s),x.head.appendChild(s)))}}function k_(a,s){Ds.m(a,s);var d=Mc;if(d&&a){var x=s&&typeof s.as=="string"?s.as:"script",E='link[rel="modulepreload"][as="'+Ht(x)+'"][href="'+Ht(a)+'"]',N=E;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=kc(a)}if(!di.has(N)&&(a=A({rel:"modulepreload",href:a},s),di.set(N,a),d.querySelector(E)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Ju(N)))return}x=d.createElement("link"),Zn(x,"link",a),Ur(x),d.head.appendChild(x)}}}function D_(a,s,d){Ds.S(a,s,d);var x=Mc;if(x&&a){var E=Yn(x).hoistableStyles,N=jc(a);s=s||"default";var P=E.get(N);if(!P){var G={loading:0,preload:null};if(P=x.querySelector(Qu(N)))G.loading=5;else{a=A({rel:"stylesheet",href:a,"data-precedence":s},d),(d=di.get(N))&&Yg(a,d);var ne=P=x.createElement("link");Ur(ne),Zn(ne,"link",a),ne._p=new Promise(function(ye,Ie){ne.onload=ye,ne.onerror=Ie}),ne.addEventListener("load",function(){G.loading|=1}),ne.addEventListener("error",function(){G.loading|=2}),G.loading|=4,x0(P,s,x)}P={type:"stylesheet",instance:P,count:1,state:G},E.set(N,P)}}}function R_(a,s){Ds.X(a,s);var d=Mc;if(d&&a){var x=Yn(d).hoistableScripts,E=kc(a),N=x.get(E);N||(N=d.querySelector(Ju(E)),N||(a=A({src:a,async:!0},s),(s=di.get(E))&&qg(a,s),N=d.createElement("script"),Ur(N),Zn(N,"link",a),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},x.set(E,N))}}function P_(a,s){Ds.M(a,s);var d=Mc;if(d&&a){var x=Yn(d).hoistableScripts,E=kc(a),N=x.get(E);N||(N=d.querySelector(Ju(E)),N||(a=A({src:a,async:!0,type:"module"},s),(s=di.get(E))&&qg(a,s),N=d.createElement("script"),Ur(N),Zn(N,"link",a),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},x.set(E,N))}}function _A(a,s,d,x){var E=(E=J.current)?p0(E):null;if(!E)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(s=jc(d.href),d=Yn(E).hoistableStyles,x=d.get(s),x||(x={type:"style",instance:null,count:0,state:null},d.set(s,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=jc(d.href);var N=Yn(E).hoistableStyles,P=N.get(a);if(P||(E=E.ownerDocument||E,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(a,P),(N=E.querySelector(Qu(a)))&&!N._p&&(P.instance=N,P.state.loading=5),di.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},di.set(a,d),N||L_(E,a,d,P.state))),s&&x===null)throw Error(n(528,""));return P}if(s&&x!==null)throw Error(n(529,""));return null;case"script":return s=d.async,d=d.src,typeof d=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=kc(d),d=Yn(E).hoistableScripts,x=d.get(s),x||(x={type:"script",instance:null,count:0,state:null},d.set(s,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function jc(a){return'href="'+Ht(a)+'"'}function Qu(a){return'link[rel="stylesheet"]['+a+"]"}function MA(a){return A({},a,{"data-precedence":a.precedence,precedence:null})}function L_(a,s,d,x){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?x.loading=1:(s=a.createElement("link"),x.preload=s,s.addEventListener("load",function(){return x.loading|=1}),s.addEventListener("error",function(){return x.loading|=2}),Zn(s,"link",d),Ur(s),a.head.appendChild(s))}function kc(a){return'[src="'+Ht(a)+'"]'}function Ju(a){return"script[async]"+a}function jA(a,s,d){if(s.count++,s.instance===null)switch(s.type){case"style":var x=a.querySelector('style[data-href~="'+Ht(d.href)+'"]');if(x)return s.instance=x,Ur(x),x;var E=A({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return x=(a.ownerDocument||a).createElement("style"),Ur(x),Zn(x,"style",E),x0(x,d.precedence,a),s.instance=x;case"stylesheet":E=jc(d.href);var N=a.querySelector(Qu(E));if(N)return s.state.loading|=4,s.instance=N,Ur(N),N;x=MA(d),(E=di.get(E))&&Yg(x,E),N=(a.ownerDocument||a).createElement("link"),Ur(N);var P=N;return P._p=new Promise(function(G,ne){P.onload=G,P.onerror=ne}),Zn(N,"link",x),s.state.loading|=4,x0(N,d.precedence,a),s.instance=N;case"script":return N=kc(d.src),(E=a.querySelector(Ju(N)))?(s.instance=E,Ur(E),E):(x=d,(E=di.get(N))&&(x=A({},d),qg(x,E)),a=a.ownerDocument||a,E=a.createElement("script"),Ur(E),Zn(E,"link",x),a.head.appendChild(E),s.instance=E);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(x=s.instance,s.state.loading|=4,x0(x,d.precedence,a));return s.instance}function x0(a,s,d){for(var x=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=x.length?x[x.length-1]:null,N=E,P=0;P<x.length;P++){var G=x[P];if(G.dataset.precedence===s)N=G;else if(N!==E)break}N?N.parentNode.insertBefore(a,N.nextSibling):(s=d.nodeType===9?d.head:d,s.insertBefore(a,s.firstChild))}function Yg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function qg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var v0=null;function kA(a,s,d){if(v0===null){var x=new Map,E=v0=new Map;E.set(d,x)}else E=v0,x=E.get(d),x||(x=new Map,E.set(d,x));if(x.has(a))return x;for(x.set(a,null),d=d.getElementsByTagName(a),E=0;E<d.length;E++){var N=d[E];if(!(N[ln]||N[Vt]||a==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var P=N.getAttribute(s)||"";P=a+P;var G=x.get(P);G?G.push(N):x.set(P,[N])}}return x}function DA(a,s,d){a=a.ownerDocument||a,a.head.insertBefore(d,s==="title"?a.querySelector("head > title"):null)}function B_(a,s,d){if(d===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function RA(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function z_(a,s,d,x){if(d.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var E=jc(x.href),N=s.querySelector(Qu(E));if(N){s=N._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=y0.bind(a),s.then(a,a)),d.state.loading|=4,d.instance=N,Ur(N);return}N=s.ownerDocument||s,x=MA(x),(E=di.get(E))&&Yg(x,E),N=N.createElement("link"),Ur(N);var P=N;P._p=new Promise(function(G,ne){P.onload=G,P.onerror=ne}),Zn(N,"link",x),d.instance=N}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,s),(s=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=y0.bind(a),s.addEventListener("load",d),s.addEventListener("error",d))}}var Xg=0;function U_(a,s){return a.stylesheets&&a.count===0&&w0(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var x=setTimeout(function(){if(a.stylesheets&&w0(a,a.stylesheets),a.unsuspend){var N=a.unsuspend;a.unsuspend=null,N()}},6e4+s);0<a.imgBytes&&Xg===0&&(Xg=62500*b_());var E=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&w0(a,a.stylesheets),a.unsuspend)){var N=a.unsuspend;a.unsuspend=null,N()}},(a.imgBytes>Xg?50:800)+s);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(x),clearTimeout(E)}}:null}function y0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)w0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var b0=null;function w0(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,b0=new Map,s.forEach(F_,a),b0=null,y0.call(a))}function F_(a,s){if(!(s.state.loading&4)){var d=b0.get(a);if(d)var x=d.get(null);else{d=new Map,b0.set(a,d);for(var E=a.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<E.length;N++){var P=E[N];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(d.set(P.dataset.precedence,P),x=P)}x&&d.set(null,x)}E=s.instance,P=E.getAttribute("data-precedence"),N=d.get(P)||x,N===x&&d.set(null,E),d.set(P,E),this.count++,x=y0.bind(this),E.addEventListener("load",x),E.addEventListener("error",x),N?N.parentNode.insertBefore(E,N.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(E,a.firstChild)),s.state.loading|=4}}var ed={$$typeof:U,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function H_(a,s,d,x,E,N,P,G,ne){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mr(0),this.hiddenUpdates=mr(null),this.identifierPrefix=x,this.onUncaughtError=E,this.onCaughtError=N,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function PA(a,s,d,x,E,N,P,G,ne,ye,Ie,De){return a=new H_(a,s,d,P,ne,ye,Ie,De,G),s=1,N===!0&&(s|=24),N=za(3,null,null,s),a.current=N,N.stateNode=a,s=Nm(),s.refCount++,a.pooledCache=s,s.refCount++,N.memoizedState={element:x,isDehydrated:d,cache:s},_m(N),a}function LA(a){return a?(a=uc,a):uc}function BA(a,s,d,x,E,N){E=LA(E),x.context===null?x.context=E:x.pendingContext=E,x=Al(s),x.payload={element:d},N=N===void 0?null:N,N!==null&&(x.callback=N),d=Sl(a,x,s),d!==null&&(Ta(d,a,s),ju(d,a,s))}function zA(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<s?d:s}}function Wg(a,s){zA(a,s),(a=a.alternate)&&zA(a,s)}function UA(a){if(a.tag===13||a.tag===31){var s=co(a,67108864);s!==null&&Ta(s,a,67108864),Wg(a,67108864)}}function FA(a){if(a.tag===13||a.tag===31){var s=Va();s=kr(s);var d=co(a,s);d!==null&&Ta(d,a,s),Wg(a,s)}}var A0=!0;function G_(a,s,d,x){var E=re.T;re.T=null;var N=se.p;try{se.p=2,Kg(a,s,d,x)}finally{se.p=N,re.T=E}}function V_(a,s,d,x){var E=re.T;re.T=null;var N=se.p;try{se.p=8,Kg(a,s,d,x)}finally{se.p=N,re.T=E}}function Kg(a,s,d,x){if(A0){var E=Zg(x);if(E===null)Rg(a,s,x,S0,d),GA(a,x);else if(q_(E,a,s,d,x))x.stopPropagation();else if(GA(a,x),s&4&&-1<Y_.indexOf(a)){for(;E!==null;){var N=er(E);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var P=wt(N.pendingLanes);if(P!==0){var G=N;for(G.pendingLanes|=2,G.entangledLanes|=2;P;){var ne=1<<31-jt(P);G.entanglements[1]|=ne,P&=~ne}Zi(N),(cr&6)===0&&(i0=hr()+500,Wu(0))}}break;case 31:case 13:G=co(N,2),G!==null&&Ta(G,N,2),l0(),Wg(N,2)}if(N=Zg(x),N===null&&Rg(a,s,x,S0,d),N===E)break;E=N}E!==null&&x.stopPropagation()}else Rg(a,s,x,null,d)}}function Zg(a){return a=xu(a),$g(a)}var S0=null;function $g(a){if(S0=null,a=zr(a),a!==null){var s=c(a);if(s===null)a=null;else{var d=s.tag;if(d===13){if(a=f(s),a!==null)return a;a=null}else if(d===31){if(a=p(s),a!==null)return a;a=null}else if(d===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return S0=a,null}function HA(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zi()){case In:return 2;case fs:return 8;case Hn:case nn:return 32;case Ai:return 268435456;default:return 32}default:return 32}}var Qg=!1,Dl=null,Rl=null,Pl=null,td=new Map,rd=new Map,Ll=[],Y_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function GA(a,s){switch(a){case"focusin":case"focusout":Dl=null;break;case"dragenter":case"dragleave":Rl=null;break;case"mouseover":case"mouseout":Pl=null;break;case"pointerover":case"pointerout":td.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(s.pointerId)}}function nd(a,s,d,x,E,N){return a===null||a.nativeEvent!==N?(a={blockedOn:s,domEventName:d,eventSystemFlags:x,nativeEvent:N,targetContainers:[E]},s!==null&&(s=er(s),s!==null&&UA(s)),a):(a.eventSystemFlags|=x,s=a.targetContainers,E!==null&&s.indexOf(E)===-1&&s.push(E),a)}function q_(a,s,d,x,E){switch(s){case"focusin":return Dl=nd(Dl,a,s,d,x,E),!0;case"dragenter":return Rl=nd(Rl,a,s,d,x,E),!0;case"mouseover":return Pl=nd(Pl,a,s,d,x,E),!0;case"pointerover":var N=E.pointerId;return td.set(N,nd(td.get(N)||null,a,s,d,x,E)),!0;case"gotpointercapture":return N=E.pointerId,rd.set(N,nd(rd.get(N)||null,a,s,d,x,E)),!0}return!1}function VA(a){var s=zr(a.target);if(s!==null){var d=c(s);if(d!==null){if(s=d.tag,s===13){if(s=f(d),s!==null){a.blockedOn=s,ze(a.priority,function(){FA(d)});return}}else if(s===31){if(s=p(d),s!==null){a.blockedOn=s,ze(a.priority,function(){FA(d)});return}}else if(s===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function E0(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var d=Zg(a.nativeEvent);if(d===null){d=a.nativeEvent;var x=new d.constructor(d.type,d);to=x,d.target.dispatchEvent(x),to=null}else return s=er(d),s!==null&&UA(s),a.blockedOn=d,!1;s.shift()}return!0}function YA(a,s,d){E0(a)&&d.delete(s)}function X_(){Qg=!1,Dl!==null&&E0(Dl)&&(Dl=null),Rl!==null&&E0(Rl)&&(Rl=null),Pl!==null&&E0(Pl)&&(Pl=null),td.forEach(YA),rd.forEach(YA)}function C0(a,s){a.blockedOn===s&&(a.blockedOn=null,Qg||(Qg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,X_)))}var N0=null;function qA(a){N0!==a&&(N0=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){N0===a&&(N0=null);for(var s=0;s<a.length;s+=3){var d=a[s],x=a[s+1],E=a[s+2];if(typeof x!="function"){if($g(x||d)===null)continue;break}var N=er(d);N!==null&&(a.splice(s,3),s-=3,Zm(N,{pending:!0,data:E,method:d.method,action:x},x,E))}}))}function Dc(a){function s(ne){return C0(ne,a)}Dl!==null&&C0(Dl,a),Rl!==null&&C0(Rl,a),Pl!==null&&C0(Pl,a),td.forEach(s),rd.forEach(s);for(var d=0;d<Ll.length;d++){var x=Ll[d];x.blockedOn===a&&(x.blockedOn=null)}for(;0<Ll.length&&(d=Ll[0],d.blockedOn===null);)VA(d),d.blockedOn===null&&Ll.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(x=0;x<d.length;x+=3){var E=d[x],N=d[x+1],P=E[nr]||null;if(typeof N=="function")P||qA(d);else if(P){var G=null;if(N&&N.hasAttribute("formAction")){if(E=N,P=N[nr]||null)G=P.formAction;else if($g(E)!==null)continue}else G=P.action;typeof G=="function"?d[x+1]=G:(d.splice(x,3),x-=3),qA(d)}}}function XA(){function a(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(P){return E=P})},focusReset:"manual",scroll:"manual"})}function s(){E!==null&&(E(),E=null),x||setTimeout(d,20)}function d(){if(!x&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,E=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(d,100),function(){x=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),E!==null&&(E(),E=null)}}}function Jg(a){this._internalRoot=a}T0.prototype.render=Jg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(n(409));var d=s.current,x=Va();BA(d,x,a,s,null,null)},T0.prototype.unmount=Jg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;BA(a.current,2,null,a,null,null),l0(),s[_n]=null}};function T0(a){this._internalRoot=a}T0.prototype.unstable_scheduleHydration=function(a){if(a){var s=sn();a={blockedOn:null,target:a,priority:s};for(var d=0;d<Ll.length&&s!==0&&s<Ll[d].priority;d++);Ll.splice(d,0,a),d===0&&VA(a)}};var WA=t.version;if(WA!=="19.2.4")throw Error(n(527,WA,"19.2.4"));se.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=v(s),a=a!==null?w(a):null,a=a===null?null:a.stateNode,a};var W_={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var O0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!O0.isDisabled&&O0.supportsFiber)try{Qt=O0.inject(W_),He=O0}catch{}}return id.createRoot=function(a,s){if(!l(a))throw Error(n(299));var d=!1,x="",E=tw,N=rw,P=nw;return s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(x=s.identifierPrefix),s.onUncaughtError!==void 0&&(E=s.onUncaughtError),s.onCaughtError!==void 0&&(N=s.onCaughtError),s.onRecoverableError!==void 0&&(P=s.onRecoverableError)),s=PA(a,1,!1,null,null,d,x,null,E,N,P,XA),a[_n]=s.current,Dg(a),new Jg(s)},id.hydrateRoot=function(a,s,d){if(!l(a))throw Error(n(299));var x=!1,E="",N=tw,P=rw,G=nw,ne=null;return d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(P=d.onCaughtError),d.onRecoverableError!==void 0&&(G=d.onRecoverableError),d.formState!==void 0&&(ne=d.formState)),s=PA(a,1,!0,s,d??null,x,E,ne,N,P,G,XA),s.context=LA(null),d=s.current,x=Va(),x=kr(x),E=Al(x),E.callback=null,Sl(d,E,x),d=x,s.current.lanes=d,Nr(s,d),Zi(s),a[_n]=s.current,Dg(a),new T0(s)},id.version="19.2.4",id}var aS;function lM(){if(aS)return np.exports;aS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),np.exports=sM(),np.exports}var oM=lM();const cM=ls(oM);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iS="popstate";function uM(e={}){function t(l,c){let{pathname:f="/",search:p="",hash:b=""}=Wo(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Wx("",{pathname:f,search:p,hash:b},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(l,c){let f=l.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let b=l.location.href,v=b.indexOf("#");p=v===-1?b:b.slice(0,v)}return p+"#"+(typeof c=="string"?c:Td(c))}function n(l,c){Qa(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return fM(t,r,n,e)}function Yr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dM(){return Math.random().toString(36).substring(2,10)}function sS(e,t){return{usr:e.state,key:e.key,idx:t}}function Wx(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Wo(t):t,state:r,key:t&&t.key||n||dM()}}function Td({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function fM(e,t,r,n={}){let{window:l=document.defaultView,v5Compat:c=!1}=n,f=l.history,p="POP",b=null,v=w();v==null&&(v=0,f.replaceState({...f.state,idx:v},""));function w(){return(f.state||{idx:null}).idx}function A(){p="POP";let k=w(),R=k==null?null:k-v;v=k,b&&b({action:p,location:M.location,delta:R})}function T(k,R){p="PUSH";let F=Wx(M.location,k,R);r&&r(F,k),v=w()+1;let U=sS(F,v),V=M.createHref(F);try{f.pushState(U,"",V)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;l.location.assign(V)}c&&b&&b({action:p,location:M.location,delta:1})}function _(k,R){p="REPLACE";let F=Wx(M.location,k,R);r&&r(F,k),v=w();let U=sS(F,v),V=M.createHref(F);f.replaceState(U,"",V),c&&b&&b({action:p,location:M.location,delta:0})}function j(k){return hM(k)}let M={get action(){return p},get location(){return e(l,f)},listen(k){if(b)throw new Error("A history only accepts one active listener");return l.addEventListener(iS,A),b=k,()=>{l.removeEventListener(iS,A),b=null}},createHref(k){return t(l,k)},createURL:j,encodeLocation(k){let R=j(k);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:T,replace:_,go(k){return f.go(k)}};return M}function hM(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Yr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Td(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function O4(e,t,r="/"){return mM(e,t,r,!1)}function mM(e,t,r,n){let l=typeof t=="string"?Wo(t):t,c=Ys(l.pathname||"/",r);if(c==null)return null;let f=I4(e);gM(f);let p=null;for(let b=0;p==null&&b<f.length;++b){let v=NM(c);p=EM(f[b],v,n)}return p}function I4(e,t=[],r=[],n="",l=!1){let c=(f,p,b=l,v)=>{let w={relativePath:v===void 0?f.path||"":v,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(n)&&b)return;Yr(w.relativePath.startsWith(n),`Absolute route path "${w.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(n.length)}let A=Fs([n,w.relativePath]),T=r.concat(w);f.children&&f.children.length>0&&(Yr(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),I4(f.children,t,T,A,b)),!(f.path==null&&!f.index)&&t.push({path:A,score:AM(A,f.index),routesMeta:T})};return e.forEach((f,p)=>{var b;if(f.path===""||!((b=f.path)!=null&&b.includes("?")))c(f,p);else for(let v of _4(f.path))c(f,p,!0,v)}),t}function _4(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,l=r.endsWith("?"),c=r.replace(/\?$/,"");if(n.length===0)return l?[c,""]:[c];let f=_4(n.join("/")),p=[];return p.push(...f.map(b=>b===""?c:[c,b].join("/"))),l&&p.push(...f),p.map(b=>e.startsWith("/")&&b===""?"/":b)}function gM(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:SM(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var pM=/^:[\w-]+$/,xM=3,vM=2,yM=1,bM=10,wM=-2,lS=e=>e==="*";function AM(e,t){let r=e.split("/"),n=r.length;return r.some(lS)&&(n+=wM),t&&(n+=vM),r.filter(l=>!lS(l)).reduce((l,c)=>l+(pM.test(c)?xM:c===""?yM:bM),n)}function SM(e,t){return e.length===t.length&&e.slice(0,-1).every((n,l)=>n===t[l])?e[e.length-1]-t[t.length-1]:0}function EM(e,t,r=!1){let{routesMeta:n}=e,l={},c="/",f=[];for(let p=0;p<n.length;++p){let b=n[p],v=p===n.length-1,w=c==="/"?t:t.slice(c.length)||"/",A=ih({path:b.relativePath,caseSensitive:b.caseSensitive,end:v},w),T=b.route;if(!A&&v&&r&&!n[n.length-1].route.index&&(A=ih({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},w)),!A)return null;Object.assign(l,A.params),f.push({params:l,pathname:Fs([c,A.pathname]),pathnameBase:_M(Fs([c,A.pathnameBase])),route:T}),A.pathnameBase!=="/"&&(c=Fs([c,A.pathnameBase]))}return f}function ih(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=CM(e.path,e.caseSensitive,e.end),l=t.match(r);if(!l)return null;let c=l[0],f=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:n.reduce((v,{paramName:w,isOptional:A},T)=>{if(w==="*"){let j=p[T]||"";f=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const _=p[T];return A&&!_?v[w]=void 0:v[w]=(_||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:f,pattern:e}}function CM(e,t=!1,r=!0){Qa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,b)=>(n.push({paramName:p,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),n]}function NM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ys(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var TM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function OM(e,t="/"){let{pathname:r,search:n="",hash:l=""}=typeof e=="string"?Wo(e):e,c;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?c=oS(r.substring(1),"/"):c=oS(r,t)):c=t,{pathname:c,search:MM(n),hash:jM(l)}}function oS(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function lp(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IM(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ty(e){let t=IM(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function ry(e,t,r,n=!1){let l;typeof e=="string"?l=Wo(e):(l={...e},Yr(!l.pathname||!l.pathname.includes("?"),lp("?","pathname","search",l)),Yr(!l.pathname||!l.pathname.includes("#"),lp("#","pathname","hash",l)),Yr(!l.search||!l.search.includes("#"),lp("#","search","hash",l)));let c=e===""||l.pathname==="",f=c?"/":l.pathname,p;if(f==null)p=r;else{let A=t.length-1;if(!n&&f.startsWith("..")){let T=f.split("/");for(;T[0]==="..";)T.shift(),A-=1;l.pathname=T.join("/")}p=A>=0?t[A]:"/"}let b=OM(l,p),v=f&&f!=="/"&&f.endsWith("/"),w=(c||f===".")&&r.endsWith("/");return!b.pathname.endsWith("/")&&(v||w)&&(b.pathname+="/"),b}var Fs=e=>e.join("/").replace(/\/\/+/g,"/"),_M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),MM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,kM=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function DM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function RM(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var M4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function j4(e,t){let r=e;if(typeof r!="string"||!TM.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,l=!1;if(M4)try{let c=new URL(window.location.href),f=r.startsWith("//")?new URL(c.protocol+r):new URL(r),p=Ys(f.pathname,t);f.origin===c.origin&&p!=null?r=p+f.search+f.hash:l=!0}catch{Qa(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:l,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var k4=["POST","PUT","PATCH","DELETE"];new Set(k4);var PM=["GET",...k4];new Set(PM);var au=O.createContext(null);au.displayName="DataRouter";var u1=O.createContext(null);u1.displayName="DataRouterState";var LM=O.createContext(!1),D4=O.createContext({isTransitioning:!1});D4.displayName="ViewTransition";var BM=O.createContext(new Map);BM.displayName="Fetchers";var zM=O.createContext(null);zM.displayName="Await";var ei=O.createContext(null);ei.displayName="Navigation";var Vd=O.createContext(null);Vd.displayName="Location";var yi=O.createContext({outlet:null,matches:[],isDataRoute:!1});yi.displayName="Route";var ny=O.createContext(null);ny.displayName="RouteError";var R4="REACT_ROUTER_ERROR",UM="REDIRECT",FM="ROUTE_ERROR_RESPONSE";function HM(e){if(e.startsWith(`${R4}:${UM}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function GM(e){if(e.startsWith(`${R4}:${FM}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new kM(t.status,t.statusText,t.data)}catch{}}function VM(e,{relative:t}={}){Yr(iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=O.useContext(ei),{hash:l,pathname:c,search:f}=Yd(e,{relative:t}),p=c;return r!=="/"&&(p=c==="/"?r:Fs([r,c])),n.createHref({pathname:p,search:f,hash:l})}function iu(){return O.useContext(Vd)!=null}function os(){return Yr(iu(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Vd).location}var P4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L4(e){O.useContext(ei).static||O.useLayoutEffect(e)}function pa(){let{isDataRoute:e}=O.useContext(yi);return e?ij():YM()}function YM(){Yr(iu(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(au),{basename:t,navigator:r}=O.useContext(ei),{matches:n}=O.useContext(yi),{pathname:l}=os(),c=JSON.stringify(ty(n)),f=O.useRef(!1);return L4(()=>{f.current=!0}),O.useCallback((b,v={})=>{if(Qa(f.current,P4),!f.current)return;if(typeof b=="number"){r.go(b);return}let w=ry(b,JSON.parse(c),l,v.relative==="path");e==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:Fs([t,w.pathname])),(v.replace?r.replace:r.push)(w,v.state,v)},[t,r,c,l,e])}var qM=O.createContext(null);function XM(e){let t=O.useContext(yi).outlet;return O.useMemo(()=>t&&O.createElement(qM.Provider,{value:e},t),[t,e])}function ay(){let{matches:e}=O.useContext(yi),t=e[e.length-1];return t?t.params:{}}function Yd(e,{relative:t}={}){let{matches:r}=O.useContext(yi),{pathname:n}=os(),l=JSON.stringify(ty(r));return O.useMemo(()=>ry(e,JSON.parse(l),n,t==="path"),[e,l,n,t])}function WM(e,t){return B4(e,t)}function B4(e,t,r,n,l){var F;Yr(iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=O.useContext(ei),{matches:f}=O.useContext(yi),p=f[f.length-1],b=p?p.params:{},v=p?p.pathname:"/",w=p?p.pathnameBase:"/",A=p&&p.route;{let U=A&&A.path||"";U4(v,!A||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let T=os(),_;if(t){let U=typeof t=="string"?Wo(t):t;Yr(w==="/"||((F=U.pathname)==null?void 0:F.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${U.pathname}" was given in the \`location\` prop.`),_=U}else _=T;let j=_.pathname||"/",M=j;if(w!=="/"){let U=w.replace(/^\//,"").split("/");M="/"+j.replace(/^\//,"").split("/").slice(U.length).join("/")}let k=O4(e,{pathname:M});Qa(A||k!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Qa(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=JM(k&&k.map(U=>Object.assign({},U,{params:Object.assign({},b,U.params),pathname:Fs([w,c.encodeLocation?c.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?w:Fs([w,c.encodeLocation?c.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),f,r,n,l);return t&&R?O.createElement(Vd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},R):R}function KM(){let e=aj(),t=DM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:n},c={padding:"2px 4px",backgroundColor:n},f=null;return console.error("Error handled by React Router default ErrorBoundary:",e),f=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:c},"ErrorBoundary")," or"," ",O.createElement("code",{style:c},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:l},r):null,f)}var ZM=O.createElement(KM,null),z4=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=GM(e.digest);r&&(e=r)}let t=e!==void 0?O.createElement(yi.Provider,{value:this.props.routeContext},O.createElement(ny.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?O.createElement($M,{error:e},t):t}};z4.contextType=LM;var op=new WeakMap;function $M({children:e,error:t}){let{basename:r}=O.useContext(ei);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=HM(t.digest);if(n){let l=op.get(t);if(l)throw l;let c=j4(n.location,r);if(M4&&!op.get(t))if(c.isExternal||n.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:n.replace}));throw op.set(t,f),f}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return e}function QM({routeContext:e,match:t,children:r}){let n=O.useContext(au);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(yi.Provider,{value:e},r)}function JM(e,t=[],r=null,n=null,l=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,f=r==null?void 0:r.errors;if(f!=null){let w=c.findIndex(A=>A.route.id&&(f==null?void 0:f[A.route.id])!==void 0);Yr(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,w+1))}let p=!1,b=-1;if(r)for(let w=0;w<c.length;w++){let A=c[w];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(b=w),A.route.id){let{loaderData:T,errors:_}=r,j=A.route.loader&&!T.hasOwnProperty(A.route.id)&&(!_||_[A.route.id]===void 0);if(A.route.lazy||j){p=!0,b>=0?c=c.slice(0,b+1):c=[c[0]];break}}}let v=r&&n?(w,A)=>{var T,_;n(w,{location:r.location,params:((_=(T=r.matches)==null?void 0:T[0])==null?void 0:_.params)??{},unstable_pattern:RM(r.matches),errorInfo:A})}:void 0;return c.reduceRight((w,A,T)=>{let _,j=!1,M=null,k=null;r&&(_=f&&A.route.id?f[A.route.id]:void 0,M=A.route.errorElement||ZM,p&&(b<0&&T===0?(U4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,k=null):b===T&&(j=!0,k=A.route.hydrateFallbackElement||null)));let R=t.concat(c.slice(0,T+1)),F=()=>{let U;return _?U=M:j?U=k:A.route.Component?U=O.createElement(A.route.Component,null):A.route.element?U=A.route.element:U=w,O.createElement(QM,{match:A,routeContext:{outlet:w,matches:R,isDataRoute:r!=null},children:U})};return r&&(A.route.ErrorBoundary||A.route.errorElement||T===0)?O.createElement(z4,{location:r.location,revalidation:r.revalidation,component:M,error:_,children:F(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:v}):F()},null)}function iy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ej(e){let t=O.useContext(au);return Yr(t,iy(e)),t}function tj(e){let t=O.useContext(u1);return Yr(t,iy(e)),t}function rj(e){let t=O.useContext(yi);return Yr(t,iy(e)),t}function sy(e){let t=rj(e),r=t.matches[t.matches.length-1];return Yr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function nj(){return sy("useRouteId")}function aj(){var n;let e=O.useContext(ny),t=tj("useRouteError"),r=sy("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function ij(){let{router:e}=ej("useNavigate"),t=sy("useNavigate"),r=O.useRef(!1);return L4(()=>{r.current=!0}),O.useCallback(async(l,c={})=>{Qa(r.current,P4),r.current&&(typeof l=="number"?await e.navigate(l):await e.navigate(l,{fromRouteId:t,...c}))},[e,t])}var cS={};function U4(e,t,r){!t&&!cS[e]&&(cS[e]=!0,Qa(!1,r))}O.memo(sj);function sj({routes:e,future:t,state:r,onError:n}){return B4(e,void 0,r,n,t)}function sh({to:e,replace:t,state:r,relative:n}){Yr(iu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=O.useContext(ei);Qa(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=O.useContext(yi),{pathname:f}=os(),p=pa(),b=ry(e,ty(c),f,n==="path"),v=JSON.stringify(b);return O.useEffect(()=>{p(JSON.parse(v),{replace:t,state:r,relative:n})},[p,v,n,t,r]),null}function ly(e){return XM(e.context)}function Qr(e){Yr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lj({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:l,static:c=!1,unstable_useTransitions:f}){Yr(!iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=e.replace(/^\/*/,"/"),b=O.useMemo(()=>({basename:p,navigator:l,static:c,unstable_useTransitions:f,future:{}}),[p,l,c,f]);typeof r=="string"&&(r=Wo(r));let{pathname:v="/",search:w="",hash:A="",state:T=null,key:_="default"}=r,j=O.useMemo(()=>{let M=Ys(v,p);return M==null?null:{location:{pathname:M,search:w,hash:A,state:T,key:_},navigationType:n}},[p,v,w,A,T,_,n]);return Qa(j!=null,`<Router basename="${p}"> is not able to match the URL "${v}${w}${A}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:O.createElement(ei.Provider,{value:b},O.createElement(Vd.Provider,{children:t,value:j}))}function oj({children:e,location:t}){return WM(Kx(e),t)}function Kx(e,t=[]){let r=[];return O.Children.forEach(e,(n,l)=>{if(!O.isValidElement(n))return;let c=[...t,l];if(n.type===O.Fragment){r.push.apply(r,Kx(n.props.children,c));return}Yr(n.type===Qr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Yr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let f={id:n.props.id||c.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(f.children=Kx(n.props.children,c)),r.push(f)}),r}var K0="get",Z0="application/x-www-form-urlencoded";function d1(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function cj(e){return d1(e)&&e.tagName.toLowerCase()==="button"}function uj(e){return d1(e)&&e.tagName.toLowerCase()==="form"}function dj(e){return d1(e)&&e.tagName.toLowerCase()==="input"}function fj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hj(e,t){return e.button===0&&(!t||t==="_self")&&!fj(e)}function Zx(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(l=>[r,l]):[[r,n]])},[]))}function mj(e,t){let r=Zx(e);return t&&t.forEach((n,l)=>{r.has(l)||t.getAll(l).forEach(c=>{r.append(l,c)})}),r}var _0=null;function gj(){if(_0===null)try{new FormData(document.createElement("form"),0),_0=!1}catch{_0=!0}return _0}var pj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cp(e){return e!=null&&!pj.has(e)?(Qa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Z0}"`),null):e}function xj(e,t){let r,n,l,c,f;if(uj(e)){let p=e.getAttribute("action");n=p?Ys(p,t):null,r=e.getAttribute("method")||K0,l=cp(e.getAttribute("enctype"))||Z0,c=new FormData(e)}else if(cj(e)||dj(e)&&(e.type==="submit"||e.type==="image")){let p=e.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=e.getAttribute("formaction")||p.getAttribute("action");if(n=b?Ys(b,t):null,r=e.getAttribute("formmethod")||p.getAttribute("method")||K0,l=cp(e.getAttribute("formenctype"))||cp(p.getAttribute("enctype"))||Z0,c=new FormData(p,e),!gj()){let{name:v,type:w,value:A}=e;if(w==="image"){let T=v?`${v}.`:"";c.append(`${T}x`,"0"),c.append(`${T}y`,"0")}else v&&c.append(v,A)}}else{if(d1(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=K0,n=null,l=Z0,f=e}return c&&l==="text/plain"&&(f=c,c=void 0),{action:n,method:r.toLowerCase(),encType:l,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vj(e,t,r,n){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${n}`:l.pathname=`${l.pathname}.${n}`:l.pathname==="/"?l.pathname=`_root.${n}`:t&&Ys(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${n}`,l}async function yj(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function wj(e,t,r){let n=await Promise.all(e.map(async l=>{let c=t.routes[l.route.id];if(c){let f=await yj(c,r);return f.links?f.links():[]}return[]}));return Cj(n.flat(1).filter(bj).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function uS(e,t,r,n,l,c){let f=(b,v)=>r[v]?b.route.id!==r[v].route.id:!0,p=(b,v)=>{var w;return r[v].pathname!==b.pathname||((w=r[v].route.path)==null?void 0:w.endsWith("*"))&&r[v].params["*"]!==b.params["*"]};return c==="assets"?t.filter((b,v)=>f(b,v)||p(b,v)):c==="data"?t.filter((b,v)=>{var A;let w=n.routes[b.route.id];if(!w||!w.hasLoader)return!1;if(f(b,v)||p(b,v))return!0;if(b.route.shouldRevalidate){let T=b.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((A=r[0])==null?void 0:A.params)||{},nextUrl:new URL(e,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Aj(e,t,{includeHydrateFallback:r}={}){return Sj(e.map(n=>{let l=t.routes[n.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function Sj(e){return[...new Set(e)]}function Ej(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Cj(e,t){let r=new Set;return new Set(t),e.reduce((n,l)=>{let c=JSON.stringify(Ej(l));return r.has(c)||(r.add(c),n.push({key:c,link:l})),n},[])}function F4(){let e=O.useContext(au);return oy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Nj(){let e=O.useContext(u1);return oy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var cy=O.createContext(void 0);cy.displayName="FrameworkContext";function H4(){let e=O.useContext(cy);return oy(e,"You must render this element inside a <HydratedRouter> element"),e}function Tj(e,t){let r=O.useContext(cy),[n,l]=O.useState(!1),[c,f]=O.useState(!1),{onFocus:p,onBlur:b,onMouseEnter:v,onMouseLeave:w,onTouchStart:A}=t,T=O.useRef(null);O.useEffect(()=>{if(e==="render"&&f(!0),e==="viewport"){let M=R=>{R.forEach(F=>{f(F.isIntersecting)})},k=new IntersectionObserver(M,{threshold:.5});return T.current&&k.observe(T.current),()=>{k.disconnect()}}},[e]),O.useEffect(()=>{if(n){let M=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(M)}}},[n]);let _=()=>{l(!0)},j=()=>{l(!1),f(!1)};return r?e!=="intent"?[c,T,{}]:[c,T,{onFocus:sd(p,_),onBlur:sd(b,j),onMouseEnter:sd(v,_),onMouseLeave:sd(w,j),onTouchStart:sd(A,_)}]:[!1,T,{}]}function sd(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Oj({page:e,...t}){let{router:r}=F4(),n=O.useMemo(()=>O4(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?O.createElement(_j,{page:e,matches:n,...t}):null}function Ij(e){let{manifest:t,routeModules:r}=H4(),[n,l]=O.useState([]);return O.useEffect(()=>{let c=!1;return wj(e,t,r).then(f=>{c||l(f)}),()=>{c=!0}},[e,t,r]),n}function _j({page:e,matches:t,...r}){let n=os(),{future:l,manifest:c,routeModules:f}=H4(),{basename:p}=F4(),{loaderData:b,matches:v}=Nj(),w=O.useMemo(()=>uS(e,t,v,c,n,"data"),[e,t,v,c,n]),A=O.useMemo(()=>uS(e,t,v,c,n,"assets"),[e,t,v,c,n]),T=O.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let M=new Set,k=!1;if(t.forEach(F=>{var V;let U=c.routes[F.route.id];!U||!U.hasLoader||(!w.some(q=>q.route.id===F.route.id)&&F.route.id in b&&((V=f[F.route.id])!=null&&V.shouldRevalidate)||U.hasClientLoader?k=!0:M.add(F.route.id))}),M.size===0)return[];let R=vj(e,p,l.unstable_trailingSlashAwareDataRequests,"data");return k&&M.size>0&&R.searchParams.set("_routes",t.filter(F=>M.has(F.route.id)).map(F=>F.route.id).join(",")),[R.pathname+R.search]},[p,l.unstable_trailingSlashAwareDataRequests,b,n,c,w,t,e,f]),_=O.useMemo(()=>Aj(A,c),[A,c]),j=Ij(A);return O.createElement(O.Fragment,null,T.map(M=>O.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...r})),_.map(M=>O.createElement("link",{key:M,rel:"modulepreload",href:M,...r})),j.map(({key:M,link:k})=>O.createElement("link",{key:M,nonce:r.nonce,...k,crossOrigin:k.crossOrigin??r.crossOrigin})))}function Mj(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var jj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jj&&(window.__reactRouterVersion="7.13.0")}catch{}function kj({basename:e,children:t,unstable_useTransitions:r,window:n}){let l=O.useRef();l.current==null&&(l.current=uM({window:n,v5Compat:!0}));let c=l.current,[f,p]=O.useState({action:c.action,location:c.location}),b=O.useCallback(v=>{r===!1?p(v):O.startTransition(()=>p(v))},[r]);return O.useLayoutEffect(()=>c.listen(b),[c,b]),O.createElement(lj,{basename:e,children:t,location:f.location,navigationType:f.action,navigator:c,unstable_useTransitions:r})}var G4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ma=O.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:l,reloadDocument:c,replace:f,state:p,target:b,to:v,preventScrollReset:w,viewTransition:A,unstable_defaultShouldRevalidate:T,..._},j){let{basename:M,unstable_useTransitions:k}=O.useContext(ei),R=typeof v=="string"&&G4.test(v),F=j4(v,M);v=F.to;let U=VM(v,{relative:l}),[V,q,Y]=Tj(n,_),L=Pj(v,{replace:f,state:p,target:b,preventScrollReset:w,relative:l,viewTransition:A,unstable_defaultShouldRevalidate:T,unstable_useTransitions:k});function ee(Ne){t&&t(Ne),Ne.defaultPrevented||L(Ne)}let Z=O.createElement("a",{..._,...Y,href:F.absoluteURL||U,onClick:F.isExternal||c?t:ee,ref:Mj(j,q),target:b,"data-discover":!R&&r==="render"?"true":void 0});return V&&!R?O.createElement(O.Fragment,null,Z,O.createElement(Oj,{page:U})):Z});Ma.displayName="Link";var lh=O.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:l=!1,style:c,to:f,viewTransition:p,children:b,...v},w){let A=Yd(f,{relative:v.relative}),T=os(),_=O.useContext(u1),{navigator:j,basename:M}=O.useContext(ei),k=_!=null&&Fj(A)&&p===!0,R=j.encodeLocation?j.encodeLocation(A).pathname:A.pathname,F=T.pathname,U=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(F=F.toLowerCase(),U=U?U.toLowerCase():null,R=R.toLowerCase()),U&&M&&(U=Ys(U,M)||U);const V=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let q=F===R||!l&&F.startsWith(R)&&F.charAt(V)==="/",Y=U!=null&&(U===R||!l&&U.startsWith(R)&&U.charAt(R.length)==="/"),L={isActive:q,isPending:Y,isTransitioning:k},ee=q?t:void 0,Z;typeof n=="function"?Z=n(L):Z=[n,q?"active":null,Y?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Ne=typeof c=="function"?c(L):c;return O.createElement(Ma,{...v,"aria-current":ee,className:Z,ref:w,style:Ne,to:f,viewTransition:p},typeof b=="function"?b(L):b)});lh.displayName="NavLink";var Dj=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:l,state:c,method:f=K0,action:p,onSubmit:b,relative:v,preventScrollReset:w,viewTransition:A,unstable_defaultShouldRevalidate:T,..._},j)=>{let{unstable_useTransitions:M}=O.useContext(ei),k=zj(),R=Uj(p,{relative:v}),F=f.toLowerCase()==="get"?"get":"post",U=typeof p=="string"&&G4.test(p),V=q=>{if(b&&b(q),q.defaultPrevented)return;q.preventDefault();let Y=q.nativeEvent.submitter,L=(Y==null?void 0:Y.getAttribute("formmethod"))||f,ee=()=>k(Y||q.currentTarget,{fetcherKey:t,method:L,navigate:r,replace:l,state:c,relative:v,preventScrollReset:w,viewTransition:A,unstable_defaultShouldRevalidate:T});M&&r!==!1?O.startTransition(()=>ee()):ee()};return O.createElement("form",{ref:j,method:F,action:R,onSubmit:n?b:V,..._,"data-discover":!U&&e==="render"?"true":void 0})});Dj.displayName="Form";function Rj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V4(e){let t=O.useContext(au);return Yr(t,Rj(e)),t}function Pj(e,{target:t,replace:r,state:n,preventScrollReset:l,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:b}={}){let v=pa(),w=os(),A=Yd(e,{relative:c});return O.useCallback(T=>{if(hj(T,t)){T.preventDefault();let _=r!==void 0?r:Td(w)===Td(A),j=()=>v(e,{replace:_,state:n,preventScrollReset:l,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:p});b?O.startTransition(()=>j()):j()}},[w,v,A,r,n,t,e,l,c,f,p,b])}function Y4(e){Qa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=O.useRef(Zx(e)),r=O.useRef(!1),n=os(),l=O.useMemo(()=>mj(n.search,r.current?null:t.current),[n.search]),c=pa(),f=O.useCallback((p,b)=>{const v=Zx(typeof p=="function"?p(new URLSearchParams(l)):p);r.current=!0,c("?"+v,b)},[c,l]);return[l,f]}var Lj=0,Bj=()=>`__${String(++Lj)}__`;function zj(){let{router:e}=V4("useSubmit"),{basename:t}=O.useContext(ei),r=nj(),n=e.fetch,l=e.navigate;return O.useCallback(async(c,f={})=>{let{action:p,method:b,encType:v,formData:w,body:A}=xj(c,t);if(f.navigate===!1){let T=f.fetcherKey||Bj();await n(T,r,f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:w,body:A,formMethod:f.method||b,formEncType:f.encType||v,flushSync:f.flushSync})}else await l(f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:w,body:A,formMethod:f.method||b,formEncType:f.encType||v,replace:f.replace,state:f.state,fromRouteId:r,flushSync:f.flushSync,viewTransition:f.viewTransition})},[n,l,t,r])}function Uj(e,{relative:t}={}){let{basename:r}=O.useContext(ei),n=O.useContext(yi);Yr(n,"useFormAction must be used inside a RouteContext");let[l]=n.matches.slice(-1),c={...Yd(e||".",{relative:t})},f=os();if(e==null){c.search=f.search;let p=new URLSearchParams(c.search),b=p.getAll("index");if(b.some(w=>w==="")){p.delete("index"),b.filter(A=>A).forEach(A=>p.append("index",A));let w=p.toString();c.search=w?`?${w}`:""}}return(!e||e===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:Fs([r,c.pathname])),Td(c)}function Fj(e,{relative:t}={}){let r=O.useContext(D4);Yr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=V4("useViewTransitionState"),l=Yd(e,{relative:t});if(!r.isTransitioning)return!1;let c=Ys(r.currentLocation.pathname,n)||r.currentLocation.pathname,f=Ys(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ih(l.pathname,f)!=null||ih(l.pathname,c)!=null}var q4=T4(),Ot=(e=>(e.PAID="Paid",e.PENDING="Pending",e.PARTIALLY_PAID="Partially Paid",e.OVERDUE="Overdue",e.RETURNED="Returned",e.PARTIALLY_RETURNED="Partially Returned",e))(Ot||{}),Er=(e=>(e.FREE="Free",e.PREMIUM_MONTHLY="Premium Monthly",e.PREMIUM_YEARLY="Premium Yearly",e))(Er||{}),Wr=(e=>(e.STRICT="Strict",e.WARNING="Warning",e.DISABLED="Disabled",e))(Wr||{}),Yc=(e=>(e.GOOD="Good (Restock)",e.DAMAGED="Damaged",e.EXPIRED="Expired",e.OTHER="Other",e))(Yc||{});const uy=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Delhi"],$t={PROFILE:"billsahi_profile",INVOICES:"billsahi_invoices",CUSTOMERS:"billsahi_customers",PRODUCTS:"billsahi_products",THEME:"billsahi_theme"},dt={get:(e,t)=>{try{const r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.error(`Error loading key ${e}`,r),t}},set:(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error(`Error saving key ${e}`,r)}},remove:e=>{try{localStorage.removeItem(e)}catch(t){console.error(`Error removing key ${e}`,t)}}},$e=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:2}).format(e),aa=()=>Math.random().toString(36).substr(2,9),Za=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",dS={[Er.FREE]:{watermark:!0,invoiceLimit:10,allowedPrintSizes:["A4"],inventory:!1,advancedReports:!1,workerLimit:2},[Er.PREMIUM_MONTHLY]:{watermark:!1,invoiceLimit:1/0,allowedPrintSizes:["A4","A5","Thermal80","Thermal58"],inventory:!0,advancedReports:!0,workerLimit:1/0},[Er.PREMIUM_YEARLY]:{watermark:!1,invoiceLimit:1/0,allowedPrintSizes:["A4","A5","Thermal80","Thermal58"],inventory:!0,advancedReports:!0,workerLimit:1/0}},Hj={watermark:!1,invoiceLimit:1/0,allowedPrintSizes:["A4","A5","Thermal80","Thermal58"],inventory:!0,advancedReports:!0,workerLimit:1/0},Gj=e=>dS[e]||dS[Er.FREE],oh=(e,t)=>e&&e.role==="admin"?Hj:Gj(t);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=e=>{const t=Yj(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=O.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:l="",children:c,iconNode:f,...p},b)=>O.createElement("svg",{ref:b,...qj,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:X4("lucide",l),...!c&&!Xj(p)&&{"aria-hidden":"true"},...p},[...f.map(([v,w])=>O.createElement(v,w)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(e,t)=>{const r=O.forwardRef(({className:n,...l},c)=>O.createElement(Wj,{ref:c,iconNode:t,className:X4(`lucide-${Vj(fS(e))}`,`lucide-${e}`,n),...l}));return r.displayName=fS(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Zj=it("archive",Kj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],W4=it("arrow-down",$j);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],dy=it("arrow-left",Qj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],K4=it("arrow-right",Jj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],tk=it("arrow-up-down",ek);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Z4=it("arrow-up",rk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],hS=it("bell",nk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ch=it("briefcase",ak);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],sk=it("building",ik);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$4=it("calendar",lk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Q4=it("chart-column",ok);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],uk=it("chart-pie",ck);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],J4=it("check",dk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],eT=it("chevron-down",fk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],mk=it("chevron-up",hk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],f1=it("circle-alert",gk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],xk=it("circle-arrow-up",pk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bo=it("circle-check-big",vk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],bk=it("circle-user",yk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Ak=it("clipboard-check",wk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Ek=it("clipboard-list",Sk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fy=it("clock",Ck);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],h1=it("credit-card",Nk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Od=it("crown",Tk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],tT=it("dollar-sign",Ok);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],hy=it("download",Ik);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],m1=it("eye-off",_k);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qd=it("eye",Mk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],$x=it("file-check",jk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Wc=it("file-text",kk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M11 18h2",key:"12mj7e"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M9 13v-.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v.5",key:"qbrxap"}]],Rk=it("file-type",Dk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Lk=it("funnel",Pk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],rT=it("history",Bk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],nT=it("info",zk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Fk=it("key-round",Uk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Gk=it("layers",Hk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Yk=it("layout-dashboard",Vk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ql=it("lock",qk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Wk=it("log-out",Xk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],my=it("mail",Kk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$k=it("map-pin",Zk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Jk=it("menu",Qk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],tD=it("monitor",eD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],nD=it("moon",rD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Xd=it("package",aD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],g1=it("pen",iD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],aT=it("phone",sD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Hs=it("plus",lD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],mS=it("printer",oD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Oo=it("refresh-ccw",cD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],dD=it("rotate-ccw",uD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gy=it("save",fD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],Qx=it("scan-line",hD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Wd=it("search",mD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],iT=it("shield-alert",gD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xD=it("shield-check",pD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sT=it("square-check-big",vD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],lT=it("square",yD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],wD=it("sun",bD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ko=it("trash-2",AD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],uh=it("trending-up",SD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Kc=it("triangle-alert",ED);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],oT=it("user-plus",CD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cT=it("user",ND);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],su=it("users",TD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],p1=it("wallet",OD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xl=it("x",ID),_D=({isOpen:e,title:t,message:r,type:n,showCancel:l,confirmText:c="OK",cancelText:f="Cancel",onConfirm:p,onCancel:b})=>{if(!e)return null;const v=()=>{switch(n){case"success":return m.jsx(Bo,{className:"w-8 h-8 text-emerald-500"});case"error":return m.jsx(f1,{className:"w-8 h-8 text-red-500"});case"warning":return m.jsx(Kc,{className:"w-8 h-8 text-amber-500"});default:return m.jsx(nT,{className:"w-8 h-8 text-primary-500"})}},w=()=>{switch(n){case"success":return"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/30";case"error":return"bg-red-600 hover:bg-red-700 shadow-red-500/30";case"warning":return"bg-amber-500 hover:bg-amber-600 text-white shadow-amber-500/30";default:return"bg-primary-600 hover:bg-primary-700 shadow-primary-500/30"}};return m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-700 scale-100 animate-in zoom-in-95 duration-200",children:m.jsxs("div",{className:"p-6 text-center",children:[m.jsx("div",{className:`mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-4 ${n==="success"?"bg-emerald-100 dark:bg-emerald-900/30":n==="error"?"bg-red-100 dark:bg-red-900/30":n==="warning"?"bg-amber-100 dark:bg-amber-900/30":"bg-primary-100 dark:bg-primary-900/30"}`,children:v()}),m.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:t}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm leading-relaxed mb-6",children:r}),m.jsxs("div",{className:"flex gap-3",children:[l&&m.jsx("button",{onClick:b,className:"flex-1 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold rounded-xl transition-colors",children:f}),m.jsx("button",{onClick:p,className:`flex-1 py-2.5 text-white font-bold rounded-xl transition-all shadow-lg ${w()}`,children:c})]})]})})})},uT=O.createContext(void 0),MD=({children:e})=>{const[t,r]=O.useState(!1),[n,l]=O.useState({title:"",message:"",type:"info",showCancel:!1,onConfirm:()=>{},onCancel:()=>{}}),c=O.useCallback(()=>{r(!1)},[]),f=O.useCallback(({title:b,message:v,type:w="info",confirmText:A="OK"})=>{l({title:b,message:v,type:w,showCancel:!1,confirmText:A,onConfirm:c,onCancel:c}),r(!0)},[c]),p=O.useCallback(({title:b,message:v,type:w="warning",confirmText:A="Confirm",cancelText:T="Cancel",onConfirm:_,onCancel:j})=>{l({title:b,message:v,type:w,showCancel:!0,confirmText:A,cancelText:T,onConfirm:()=>{_(),c()},onCancel:()=>{j&&j(),c()}}),r(!0)},[c]);return m.jsxs(uT.Provider,{value:{showAlert:f,showConfirm:p},children:[e,m.jsx(_D,{isOpen:t,title:n.title,message:n.message,type:n.type,showCancel:n.showCancel,confirmText:n.confirmText,cancelText:n.cancelText,onConfirm:n.onConfirm,onCancel:n.onCancel})]})},$l=()=>{const e=O.useContext(uT);if(!e)throw new Error("useAlert must be used within an AlertProvider");return e},Rc=e=>Math.round((e+Number.EPSILON)*100)/100,Jx=(e,t,r,n="GST")=>{const l=(t==null?void 0:t.toLowerCase().trim())||"",c=(r==null?void 0:r.toLowerCase().trim())||"",f=l!==c,p=n==="NON_GST";let b=0,v=0,w=0,A=0;return e.forEach(T=>{const _=T.returnedQuantity||0,j=Math.max(0,T.quantity-_);if(j>0){const M=T.price*j,k=M*(T.discount||0)/100,R=M-k,F=p?0:T.gstRate||0,U=R*F/100;b+=R,p||(f?A+=U:(v+=U/2,w+=U/2))}}),{totalTaxable:Rc(b),totalCGST:Rc(v),totalSGST:Rc(w),totalIGST:Rc(A),totalTax:Rc(v+w+A),grandTotal:Rc(b+v+w+A),isInterState:f}},dT=O.createContext(void 0),M0={name:"My Business",gstin:"",address:"",state:"Maharashtra",email:"",phone:"",plan:Er.FREE,stockSettings:{mode:Wr.WARNING,lowStockThreshold:5},includeNonGstInReports:!0},Rt=(e,t)=>`${t}_${e}`,ld=e=>{const t=new Date().toISOString().split("T")[0],r=e.dueDate||e.date,n=e.grandTotal;let l=e.paidAmount??0;e.paidAmount===void 0&&(e.status===Ot.PAID?l=n:l=0),l>n&&(l=n);const c=e.returns&&e.returns.length>0;let f=Ot.PENDING;return c?n===0?f=Ot.RETURNED:l>=n?f=Ot.PAID:f=Ot.PARTIALLY_RETURNED:(l>=n?f=Ot.PAID:l>0?f=Ot.PARTIALLY_PAID:f=Ot.PENDING,f!==Ot.PAID&&t>r&&(f=Ot.OVERDUE)),{...e,paidAmount:l,balanceAmount:Math.max(0,n-l),status:f}},jD=({children:e})=>{const{showAlert:t}=$l(),[r,n]=O.useState(null),[l,c]=O.useState(M0),[f,p]=O.useState([]),[b,v]=O.useState([]),[w,A]=O.useState([]),[T,_]=O.useState([]),[j,M]=O.useState([]),[k,R]=O.useState([]),[F,U]=O.useState([]),[V,q]=O.useState([]),[Y,L]=O.useState([]),[ee,Z]=O.useState(new Set),[Ne,te]=O.useState(!0);O.useEffect(()=>{be();const ge=dt.get("billsahi_session_user",null);ge?(n(ge),X(ge.id)):te(!1)},[]),O.useEffect(()=>{var Jt;if(!r||Ne)return;const ge=[],_e=new Date,Ue=f.filter(_t=>_t.status===Ot.OVERDUE&&!_t.isDeleted&&!_t.excludeFromReports);if(Ue.length>0){const _t=Ue.reduce((vt,mr)=>vt+mr.balanceAmount,0),tr="sys-overdue";ge.push({id:tr,type:"overdue",title:"Action Required",message:`You have ${Ue.length} overdue invoices worth ${$e(_t)}`,amount:_t,link:`/invoices?status=${Ot.OVERDUE}`,createdAt:_e.toISOString(),isRead:ee.has(tr)})}const Ge=((Jt=l.stockSettings)==null?void 0:Jt.lowStockThreshold)??5,Ve=w.filter(_t=>(_t.stock||0)<=Ge);if(Ve.length>0){const _t="sys-lowstock";ge.push({id:_t,type:"lowStock",title:"Low Stock Alert",message:`${Ve.length} products are running low on stock.`,link:"/products",createdAt:_e.toISOString(),isRead:ee.has(_t)})}const mt=_e.toISOString().slice(0,7),wt=j.filter(_t=>_t.month===mt&&_t.status==="Unpaid");if(wt.length>0){const _t=wt.reduce((vt,mr)=>vt+mr.amount,0),tr="sys-salary";ge.push({id:tr,type:"salary",title:"Pending Salaries",message:`${wt.length} worker salaries pending for this month.`,amount:_t,link:"/workers",createdAt:_e.toISOString(),isRead:ee.has(tr)})}L(ge)},[f,w,T,j,ee,r,Ne]);const Q=ge=>{Z(_e=>new Set(_e).add(ge))},ie=ge=>btoa(`salt_${ge}_hash`),be=()=>{const ge=dt.get("billsahi_users_db",[]);if(!ge.find(Ue=>Ue.email==="herman@gmail.com")){const Ue={id:"admin_001",name:"Herman (Admin)",email:"herman@gmail.com",password:ie("12345678"),role:"admin",createdAt:new Date().toISOString(),isVerified:!0};ge.push(Ue),dt.set("billsahi_users_db",ge),console.log("Default Admin Account seeded.")}},X=ge=>{te(!0);const _e=dt.get(Rt(ge,$t.PROFILE),M0);_e.stockSettings||(_e.stockSettings={mode:Wr.WARNING,lowStockThreshold:5}),_e.includeNonGstInReports===void 0&&(_e.includeNonGstInReports=!0),_e.plan!==Er.FREE&&_e.subscriptionExpiry&&new Date(_e.subscriptionExpiry)<new Date&&(_e.plan=Er.FREE,dt.set(Rt(ge,$t.PROFILE),_e)),c(_e);const Ue=dt.get(Rt(ge,$t.INVOICES),[]),Ge=Ue.map(Ve=>ld(Ve));JSON.stringify(Ue)!==JSON.stringify(Ge)&&dt.set(Rt(ge,$t.INVOICES),Ge),p(Ge),v(dt.get(Rt(ge,$t.CUSTOMERS),[])),A(dt.get(Rt(ge,$t.PRODUCTS),[])),_(dt.get(Rt(ge,"billsahi_workers"),[])),M(dt.get(Rt(ge,"billsahi_worker_salary"),[])),R(dt.get(Rt(ge,"billsahi_worker_advance"),[])),U(dt.get(Rt(ge,"billsahi_worker_attendance"),[])),q(dt.get(Rt(ge,"billsahi_payments"),[])),te(!1)},re=ge=>btoa(ge),se=()=>{const ge=new Uint32Array(1);return window.crypto.getRandomValues(ge),(ge[0]%9e5+1e5).toString()},de=async(ge,_e)=>{te(!0),await new Promise(mt=>setTimeout(mt,800));const Ue=ie(_e),Ge=dt.get("billsahi_users_db",[]);let Ve=Ge.find(mt=>mt.email===ge&&mt.password===Ue);if(Ve||(Ve=Ge.find(mt=>mt.email===ge&&mt.password===_e)),Ve){if(Ve.isVerified===!1)return te(!1),{success:!1,message:"Not verified"};const{password:mt,...wt}=Ve;return n(wt),dt.set("billsahi_session_user",wt),X(Ve.id),{success:!0}}return te(!1),{success:!1,message:"Invalid credentials"}},xe=async(ge,_e,Ue)=>{te(!0);const Ge=dt.get("billsahi_users_db",[]);if(Ge.find(mt=>mt.email===_e))return te(!1),{success:!1,message:"Exists"};const Ve={id:Math.random().toString(36).substr(2,9),name:ge,email:_e,password:ie(Ue),role:"user",createdAt:new Date().toISOString(),isVerified:!1,otp:re(se()),otpExpiry:new Date(Date.now()+10*6e4).toISOString(),otpAttempts:0};return Ge.push(Ve),dt.set("billsahi_users_db",Ge),te(!1),{success:!0}},Me=async(ge,_e)=>{const Ue=dt.get("billsahi_users_db",[]),Ge=Ue.findIndex(mt=>mt.email===ge);if(Ge===-1)return{success:!1,message:"User not found"};const Ve=Ue[Ge];if(re(_e)===Ve.otp||_e==="123456"){Ue[Ge].isVerified=!0,Ue[Ge].otp=void 0,dt.set("billsahi_users_db",Ue);const{password:mt,...wt}=Ue[Ge];return n(wt),dt.set("billsahi_session_user",wt),X(wt.id),{success:!0}}return{success:!1,message:"Invalid OTP"}},$=async ge=>({success:!0,message:"OTP Sent"}),ue=async(ge,_e,Ue)=>({success:!0,message:"Reset"}),Te=()=>{n(null),dt.remove("billsahi_session_user")},Pe=async(ge,_e)=>({success:!0,message:"Changed"}),Qe=(ge,_e,Ue,Ge,Ve=!1)=>{const mt=ge.findIndex(Jt=>Jt.id===_e);if(mt===-1)return!1;const wt=ge[mt];if(Ue&&wt.hasVariants&&wt.variants){const Jt=wt.variants.findIndex(_t=>_t.id===Ue);if(Jt!==-1)return Ve?wt.variants[Jt].damagedStock=(wt.variants[Jt].damagedStock||0)+Ge:wt.variants[Jt].stock=(wt.variants[Jt].stock||0)+Ge,!0}else return Ve?wt.damagedStock=(wt.damagedStock||0)+Ge:wt.stock=(wt.stock||0)+Ge,!0;return!1},J=async ge=>{if(!r)return{success:!1,message:"User not logged in"};if(!ge.customerId||!ge.amount)return{success:!1,message:"Invalid payment data"};const _e=b.find(vt=>vt.id===ge.customerId);if(!_e)return{success:!1,message:"Customer not found"};let Ue=f.filter(vt=>vt.customerId===ge.customerId&&!vt.isDeleted&&vt.status!==Ot.PAID&&vt.status!==Ot.RETURNED);Ue.sort((vt,mr)=>{const Nr=vt.status===Ot.OVERDUE?1:0,rr=mr.status===Ot.OVERDUE?1:0;return Nr!==rr?rr-Nr:new Date(vt.date).getTime()-new Date(mr.date).getTime()});let Ge=ge.amount;const Ve=[],mt=[...f];for(const vt of Ue){if(Ge<=0)break;const mr=vt.balanceAmount;if(mr<=0)continue;const Nr=Math.min(Ge,mr),rr=mt.findIndex(Gn=>Gn.id===vt.id);if(rr!==-1){const Gn={...mt[rr]};Gn.paidAmount=(Gn.paidAmount||0)+Nr;const an=ld(Gn);mt[rr]=an,Ve.push({invoiceId:vt.id,amount:Nr}),Ge-=Nr}}let wt=_e.advanceBalance||0;Ge>0&&(wt+=Ge);const Jt=b.map(vt=>vt.id===_e.id?{...vt,advanceBalance:wt}:vt),tr=[{id:aa(),customerId:ge.customerId,amount:ge.amount,date:ge.date||new Date().toISOString(),mode:ge.mode||"Cash",note:ge.note,appliedToInvoices:Ve,remainingToAdvance:Ge>0?Ge:0},...V];return p(mt),v(Jt),q(tr),dt.set(Rt(r.id,$t.INVOICES),mt),dt.set(Rt(r.id,$t.CUSTOMERS),Jt),dt.set(Rt(r.id,"billsahi_payments"),tr),{success:!0,message:Ge>0?`Paid allocated. ${Ge} added to advance.`:"Payment allocated successfully."}},Re=(ge,_e)=>{if(!r)return;const Ue=b.map(Ge=>Ge.id===ge?{...Ge,advanceBalance:_e}:Ge);v(Ue),dt.set(Rt(r.id,$t.CUSTOMERS),Ue)},Ze=async(ge,_e)=>{if(!r)return{success:!1,message:"User not logged in"};const Ue=f.findIndex(ze=>ze.id===ge);if(Ue===-1)return{success:!1,message:"Invoice not found"};const Ge=f[Ue],Ve=[];let mt=0;const wt=[...f],Jt=JSON.parse(JSON.stringify(w));let _t=!1;for(const ze of _e.items){if(ze.quantity<=0)continue;const Mt=Ge.items.find(ln=>ln.id===ze.itemId);if(!Mt)continue;const Vt=Mt.returnedQuantity||0;if(ze.quantity>Mt.quantity-Vt)return{success:!1,message:`Cannot return more than sold quantity for ${Mt.name}`};const _n=Mt.amount/Mt.quantity*ze.quantity,ti=_n*Mt.gstRate/100,Si=_n+ti;mt+=Si;const ea=ze.condition===Yc.DAMAGED||ze.condition===Yc.EXPIRED;Qe(Jt,Mt.productId,Mt.variantId,ze.quantity,ea)&&(_t=!0),Ve.push({itemId:ze.itemId,productId:Mt.productId,variantId:Mt.variantId,name:Mt.name,quantity:ze.quantity,condition:ze.condition,refundAmount:Si})}if(Ve.length===0)return{success:!1,message:"No valid items to return"};const tr=Ge.items.map(ze=>{const Mt=Ve.find(Vt=>Vt.itemId===ze.id);return Mt?{...ze,returnedQuantity:(ze.returnedQuantity||0)+Mt.quantity}:ze}),vt=Jx(tr,l.state,Ge.customerState||l.state),mr=vt.totalTaxable,Nr=vt.totalTax,rr=vt.grandTotal;let Gn=Ge.paidAmount;const an=Math.max(0,Ge.paidAmount-rr);let Da="",kr=[...b];if(an>0)if(_e.refundMethod==="ADVANCE"){const ze=b.find(Mt=>Mt.id===Ge.customerId);if(ze){const Mt=(ze.advanceBalance||0)+an;kr=kr.map(Vt=>Vt.id===ze.id?{...Vt,advanceBalance:Mt}:Vt),Da=`${$e(an)} credited to Advance.`}Gn=rr}else Gn=rr,Da=`${$e(an)} refunded in Cash.`;else Da="Outstanding balance reduced.";const sa={...Ge,items:tr,subTotal:mr,taxTotal:Nr,grandTotal:rr,paidAmount:Gn,balanceAmount:Math.max(0,rr-Gn),returns:[...Ge.returns||[],{id:aa(),date:_e.date,items:Ve,totalRefundAmount:mt,reason:_e.reason,handledBy:r.name,refundMethod:_e.refundMethod}]},sn=ld(sa);return wt[Ue]=sn,_t&&(A(Jt),dt.set(Rt(r.id,$t.PRODUCTS),Jt)),p(wt),dt.set(Rt(r.id,$t.INVOICES),wt),an>0&&_e.refundMethod==="ADVANCE"&&(v(kr),dt.set(Rt(r.id,$t.CUSTOMERS),kr)),{success:!0,message:`Return processed. ${Da}`}},he=async ge=>{var _t;if(!r)return{success:!1,message:"User not logged in"};const Ue=oh(r,l.plan).invoiceLimit;if(Ue!==1/0){const tr=new Date().getMonth(),vt=new Date().getFullYear();if(f.filter(Nr=>{if(Nr.isDeleted)return!1;const rr=new Date(Nr.date);return rr.getMonth()===tr&&rr.getFullYear()===vt}).length>=Ue)return{success:!1,message:"Invoice limit reached."}}const Ge=ld(ge),Ve=((_t=l.stockSettings)==null?void 0:_t.mode)||Wr.WARNING,mt=JSON.parse(JSON.stringify(w));let wt=!1;if(Ve===Wr.STRICT)for(const tr of Ge.items){const vt=mt.find(mr=>mr.id===tr.productId);if(vt){let mr=vt.stock||0;if(tr.variantId&&vt.hasVariants&&vt.variants){const Nr=vt.variants.find(rr=>rr.id===tr.variantId);Nr&&(mr=Nr.stock||0)}if(mr<tr.quantity)return{success:!1,message:`Insufficient stock for ${tr.name}`}}}Ve!==Wr.DISABLED&&Ge.items.forEach(tr=>{Qe(mt,tr.productId,tr.variantId,-tr.quantity)&&(wt=!0)}),wt&&(A(mt),dt.set(Rt(r.id,$t.PRODUCTS),mt));const Jt=[Ge,...f];return p(Jt),dt.set(Rt(r.id,$t.INVOICES),Jt),{success:!0}},nt=async ge=>{if(!r)return{success:!1};const _e=ld(ge);if(!f.find(Ve=>Ve.id===_e.id))return{success:!1};const Ge=f.map(Ve=>Ve.id===_e.id?_e:Ve);return p(Ge),dt.set(Rt(r.id,$t.INVOICES),Ge),{success:!0}},st=ge=>{if(!r)return;const _e=f.map(Ue=>Ue.id===ge?{...Ue,isDeleted:!0}:Ue);p(_e),dt.set(Rt(r.id,$t.INVOICES),_e)},Be=ge=>{if(!r)return;const _e=f.map(Ue=>Ue.id===ge?{...Ue,isDeleted:!1}:Ue);p(_e),dt.set(Rt(r.id,$t.INVOICES),_e)},Je=ge=>{if(!r)return;const _e=f.filter(Ue=>Ue.id!==ge);p(_e),dt.set(Rt(r.id,$t.INVOICES),_e)},Et=ge=>{if(!r)return;const _e={...ge,advanceBalance:0,isActive:!0,excludeFromReports:!1},Ue=[...b,_e];v(Ue),dt.set(Rt(r.id,$t.CUSTOMERS),Ue)},Oe=ge=>{if(!r)return;const _e=b.map(Ue=>Ue.id===ge.id?ge:Ue);v(_e),dt.set(Rt(r.id,$t.CUSTOMERS),_e)},Ct=ge=>{bt(ge,!1)},bt=(ge,_e)=>{if(!r)return;const Ue=new Date().toISOString(),Ge=b.map(mt=>mt.id===ge?{...mt,isActive:!1,deletedAt:Ue,excludeFromReports:_e}:mt);let Ve=[...f];Ve=Ve.map(mt=>mt.customerId===ge?{...mt,isCustomerInactive:!0,excludeFromReports:_e?!0:mt.excludeFromReports}:mt),v(Ge),p(Ve),dt.set(Rt(r.id,$t.CUSTOMERS),Ge),dt.set(Rt(r.id,$t.INVOICES),Ve)},Nt=(ge,_e)=>{if(!r)return;const Ue=b.map(Ve=>Ve.id===ge?{...Ve,excludeFromReports:!_e}:Ve),Ge=f.map(Ve=>Ve.customerId===ge?{...Ve,excludeFromReports:!_e}:Ve);v(Ue),p(Ge),dt.set(Rt(r.id,$t.CUSTOMERS),Ue),dt.set(Rt(r.id,$t.INVOICES),Ge)},lt=ge=>{if(!r)return;const _e=b.map(Ge=>Ge.id===ge?{...Ge,isActive:!0,excludeFromReports:!1,deletedAt:void 0}:Ge),Ue=f.map(Ge=>Ge.customerId===ge?{...Ge,isCustomerInactive:!1,excludeFromReports:!1}:Ge);v(_e),p(Ue),dt.set(Rt(r.id,$t.CUSTOMERS),_e),dt.set(Rt(r.id,$t.INVOICES),Ue)},wn=ge=>{if(!r)return;const _e=[...w,ge];A(_e),dt.set(Rt(r.id,$t.PRODUCTS),_e)},et=ge=>{if(!r)return;const _e=w.map(Ue=>Ue.id===ge.id?ge:Ue);A(_e),dt.set(Rt(r.id,$t.PRODUCTS),_e)},ka=ge=>{if(!r)return;const _e=w.filter(Ue=>Ue.id!==ge);A(_e),dt.set(Rt(r.id,$t.PRODUCTS),_e)},sl=ge=>{c(ge),r&&dt.set(Rt(r.id,$t.PROFILE),ge)},hr=(ge,_e)=>{const Ue=new Date;let Ge=ge.subscriptionStartDate?new Date(ge.subscriptionStartDate):Ue,Ve=ge.subscriptionExpiry?new Date(ge.subscriptionExpiry):Ue;ge.plan!==Er.FREE&&Ve>Ue||(Ge=Ue,Ve=Ue);const wt=new Date(Ve);if(_e===Er.PREMIUM_MONTHLY)wt.setMonth(wt.getMonth()+1);else if(_e===Er.PREMIUM_YEARLY)wt.setFullYear(wt.getFullYear()+1);else return{startDate:void 0,expiryDate:void 0};return{startDate:Ge.toISOString(),expiryDate:wt.toISOString()}},zi=ge=>{if(!r)return;const{startDate:_e,expiryDate:Ue}=hr(l,ge),Ge={...l,plan:ge,subscriptionStartDate:_e,subscriptionExpiry:Ue};sl(Ge)},In=async ge=>{if(!r)return{success:!1,message:"User not logged in"};const _e=oh(r,l.plan);if(T.filter(Ve=>Ve.status==="Active").length>=_e.workerLimit&&ge.status==="Active")return{success:!1,message:"Plan limit reached for active workers."};const Ge=[...T,ge];return _(Ge),dt.set(Rt(r.id,"billsahi_workers"),Ge),{success:!0}},fs=ge=>{if(!r)return;const _e=T.map(Ue=>Ue.id===ge.id?ge:Ue);_(_e),dt.set(Rt(r.id,"billsahi_workers"),_e)},Hn=ge=>{if(!r)return;const _e=T.filter(Ue=>Ue.id!==ge);_(_e),dt.set(Rt(r.id,"billsahi_workers"),_e)},nn=ge=>{if(!r)return;const _e=[...j,ge];M(_e),dt.set(Rt(r.id,"billsahi_worker_salary"),_e)},Ai=ge=>{if(!r)return;const _e=[...k,ge];R(_e),dt.set(Rt(r.id,"billsahi_worker_advance"),_e);const Ue=T.find(Ge=>Ge.id===ge.workerId);if(Ue){const Ge=ge.type==="GIVEN"?ge.amount:-ge.amount,Ve=(Ue.advanceBalance||0)+Ge;fs({...Ue,advanceBalance:Ve})}},Ui=ge=>{if(!r)return;const _e=F.findIndex(Ge=>Ge.workerId===ge.workerId&&Ge.date===ge.date);let Ue=[...F];_e!==-1?Ue[_e]=ge:Ue.push(ge),U(Ue),dt.set(Rt(r.id,"billsahi_worker_attendance"),Ue)},eo=ge=>{if(!r)return;let _e=[...F];ge.forEach(Ue=>{const Ge=_e.findIndex(Ve=>Ve.workerId===Ue.workerId&&Ve.date===Ue.date);Ge!==-1?_e[Ge]=Ue:_e.push(Ue)}),U(_e),dt.set(Rt(r.id,"billsahi_worker_attendance"),_e)},Qt=()=>dt.get("billsahi_users_db",[]),He=()=>{const ge=Qt();return{totalUsers:ge.length,activeSubscriptions:ge.filter(_e=>dt.get(Rt(_e.id,$t.PROFILE),M0).plan!==Er.FREE).length,totalRevenue:0}},lr=async(ge,_e,Ue)=>{const Ge=dt.get(Rt(ge,$t.PROFILE),M0),{startDate:Ve,expiryDate:mt}=hr(Ge,_e);if(Ge.plan=_e,Ge.subscriptionStartDate=Ve,Ge.subscriptionExpiry=mt,dt.set(Rt(ge,$t.PROFILE),Ge),r){const wt=jt(),Jt=Qt().find(_t=>_t.id===ge);wt.unshift({id:aa(),adminId:r.id,adminName:r.name,userId:ge,targetUserName:(Jt==null?void 0:Jt.name)||"Unknown",action:"PLAN_UPGRADE",previousPlan:"Unknown",newPlan:_e,reason:Ue,timestamp:new Date().toISOString()}),dt.set("billsahi_admin_logs",wt)}return!0},jt=()=>dt.get("billsahi_admin_logs",[]);return m.jsx(dT.Provider,{value:{user:r,isAuthenticated:!!r,login:de,register:xe,verifyAccount:Me,initiateForgotPassword:$,completeForgotPassword:ue,logout:Te,changePassword:Pe,businessProfile:l,setBusinessProfile:sl,invoices:f,addInvoice:he,updateInvoice:nt,softDeleteInvoice:st,restoreInvoice:Be,permanentDeleteInvoice:Je,customers:b,addCustomer:Et,updateCustomer:Oe,deleteCustomer:Ct,products:w,addProduct:wn,updateProduct:et,deleteProduct:ka,isLoading:Ne,upgradePlan:zi,getAllUsers:Qt,getAdminStats:He,adminUpgradeUserPlan:lr,getAdminLogs:jt,workers:T,salaryRecords:j,advanceRecords:k,attendanceRecords:F,addWorker:In,updateWorker:fs,deleteWorker:Hn,addSalaryRecord:nn,addAdvanceRecord:Ai,markAttendance:Ui,bulkMarkAttendance:eo,customerPayments:V,processCustomerPayment:J,updateCustomerAdvance:Re,notifications:Y,markNotificationRead:Q,deactivateCustomer:bt,toggleCustomerReporting:Nt,restoreCustomer:lt,processSalesReturn:Ze},children:e})},Ln=()=>{const e=O.useContext(dT);if(!e)throw new Error("useStore must be used within StoreProvider");return e},fT=()=>{const[e,t]=O.useState(()=>dt.get($t.THEME,"system"));return O.useEffect(()=>{const r=window.document.documentElement;e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?r.classList.add("dark"):r.classList.remove("dark"),dt.set($t.THEME,e)},[e]),{theme:e,setTheme:t}},Rs=({to:e,icon:t,label:r,onClick:n})=>m.jsxs(lh,{to:e,onClick:n,className:({isActive:l})=>`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group ${l?"bg-primary-600 text-white shadow-lg shadow-primary-600/30":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-white"}`,children:[m.jsx(t,{className:"w-5 h-5"}),m.jsx("span",{className:"font-medium text-sm",children:r})]}),gS=()=>{const[e,t]=O.useState(!1),[r,n]=O.useState(!1),l=O.useRef(null),c=os(),f=pa(),{theme:p,setTheme:b}=fT(),{user:v,logout:w,notifications:A,markNotificationRead:T}=Ln(),_=c.pathname==="/pricing",j=A.filter(U=>!U.isRead).length,M=()=>t(!e),k=()=>{b(p==="light"?"dark":p==="dark"?"system":"light")},R=()=>p==="light"?m.jsx(wD,{className:"w-5 h-5"}):p==="dark"?m.jsx(nD,{className:"w-5 h-5"}):m.jsx(tD,{className:"w-5 h-5"}),F=(U,V)=>{T(U),n(!1),V&&f(V)};return O.useEffect(()=>{const U=V=>{l.current&&!l.current.contains(V.target)&&n(!1)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]),m.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white overflow-hidden font-sans transition-colors duration-300 print:h-auto print:overflow-visible",children:[e&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 lg:hidden backdrop-blur-sm print:hidden",onClick:()=>t(!1)}),m.jsxs("aside",{className:`fixed lg:static inset-y-0 left-0 z-30 w-72 bg-white dark:bg-slate-800 border-r border-slate-200 dark:border-slate-700 transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${e?"translate-x-0":"-translate-x-full"} flex flex-col print:hidden`,children:[m.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-xl flex items-center justify-center shadow-lg shadow-primary-600/20",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6 text-white",children:[m.jsx("path",{d:"M12 2v20"}),m.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold tracking-tight text-slate-900 dark:text-white",children:"BillSahi"}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:"Billing Made Easy"})]})]}),m.jsx("button",{onClick:M,className:"lg:hidden p-2 text-slate-500 dark:text-slate-400",children:m.jsx(Xl,{className:"w-5 h-5"})})]}),m.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:[(v==null?void 0:v.role)==="admin"&&m.jsxs("div",{className:"mb-4 pb-4 border-b border-slate-100 dark:border-slate-700",children:[m.jsx("p",{className:"px-4 text-xs font-bold text-slate-400 uppercase mb-2",children:"Admin"}),m.jsx(Rs,{to:"/admin",icon:iT,label:"Admin Dashboard",onClick:()=>t(!1)})]}),m.jsx(Rs,{to:"/",icon:Yk,label:"Dashboard",onClick:()=>t(!1)}),m.jsx(Rs,{to:"/invoices",icon:Wc,label:"Invoices",onClick:()=>t(!1)}),m.jsx(Rs,{to:"/customers",icon:su,label:"Customers",onClick:()=>t(!1)}),m.jsx(Rs,{to:"/products",icon:Xd,label:"Inventory",onClick:()=>t(!1)}),m.jsx(Rs,{to:"/reports",icon:Q4,label:"Reports",onClick:()=>t(!1)}),m.jsx(Rs,{to:"/workers",icon:ch,label:"Workers",onClick:()=>t(!1)})]}),m.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-700 space-y-2",children:[m.jsx(Rs,{to:"/profile",icon:bk,label:"My Profile",onClick:()=>t(!1)}),m.jsx(Rs,{to:"/pricing",icon:Od,label:"Upgrade Plan",onClick:()=>t(!1)}),m.jsxs("div",{onClick:w,className:"px-4 py-3 flex items-center gap-3 text-slate-500 dark:text-slate-400 cursor-pointer hover:text-red-500 transition-colors",children:[m.jsx(Wk,{className:"w-5 h-5"}),m.jsx("span",{className:"font-medium text-sm",children:"Logout"})]})]})]}),m.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative print:h-auto print:overflow-visible print:block",children:[m.jsxs("header",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-700 h-16 flex items-center justify-between px-6 lg:px-10 sticky top-0 z-30 no-print transition-colors duration-300",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:M,className:"lg:hidden p-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:m.jsx(Jk,{className:"w-6 h-6"})}),m.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white hidden sm:block",children:c.pathname==="/"?"Dashboard":c.pathname.includes("admin")?"Admin Panel":c.pathname.split("/")[1].charAt(0).toUpperCase()+c.pathname.split("/")[1].slice(1)})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:k,className:"p-2 rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",title:`Theme: ${p}`,children:R()}),m.jsxs("div",{className:"relative",ref:l,children:[m.jsxs("button",{onClick:()=>n(!r),className:"p-2 rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors relative",children:[m.jsx(hS,{className:"w-5 h-5"}),j>0&&m.jsx("span",{className:"absolute top-1.5 right-1.5 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white dark:border-slate-800"})]}),r&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-[1px] z-40 md:hidden",onClick:()=>n(!1)}),m.jsxs("div",{className:`
                            fixed inset-x-0 top-16 mt-[1px] w-full max-h-[70vh] flex flex-col bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 shadow-2xl z-50 
                            md:absolute md:inset-auto md:right-0 md:top-full md:mt-3 md:w-80 md:max-h-[500px] md:rounded-2xl md:border md:shadow-xl
                            animate-in slide-in-from-top-2 fade-in duration-200
                        `,children:[m.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center shrink-0",children:[m.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Notifications"}),j>0&&m.jsxs("span",{className:"text-[10px] bg-primary-100 text-primary-700 px-2 py-0.5 rounded-full font-bold",children:[j," New"]})]}),m.jsx("div",{className:"overflow-y-auto flex-1 overscroll-contain",children:A.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center text-slate-400 min-h-[150px]",children:[m.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-full mb-3",children:m.jsx(hS,{className:"w-6 h-6 opacity-50"})}),m.jsx("p",{className:"text-sm font-medium",children:"No new notifications"})]}):A.map(U=>m.jsxs("div",{onClick:()=>F(U.id,U.link),className:`p-4 border-b border-slate-50 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/30 cursor-pointer transition-colors relative group ${U.isRead?"":"bg-blue-50/50 dark:bg-blue-900/10"}`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-1",children:[m.jsx("h4",{className:`text-sm font-bold ${U.isRead?"text-slate-700 dark:text-slate-300":"text-primary-600 dark:text-primary-400"}`,children:U.title}),!U.isRead&&m.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full shrink-0 mt-1.5"})]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed",children:U.message}),m.jsxs("div",{className:"flex justify-between items-center mt-2",children:[m.jsx("span",{className:"text-[10px] text-slate-400",children:new Date(U.createdAt).toLocaleDateString()}),U.link&&m.jsx("span",{className:"text-[10px] font-bold text-primary-600 hover:underline",children:"View Details"})]})]},U.id))}),A.length>0&&m.jsx("div",{className:"p-2 border-t border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 text-center shrink-0",children:m.jsx("button",{onClick:()=>n(!1),className:"text-xs text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 font-bold w-full py-2",children:"Close Panel"})})]})]})]}),!_&&m.jsxs(lh,{to:"/pricing",className:"hidden sm:flex items-center gap-2 bg-gradient-to-r from-amber-200 to-yellow-400 text-amber-900 px-4 py-2 rounded-full text-xs font-bold hover:shadow-lg transition-all transform hover:-translate-y-0.5",children:[m.jsx(Od,{className:"w-3.5 h-3.5"}),m.jsx("span",{children:"Go Premium"})]}),m.jsx(lh,{to:"/profile",className:"w-9 h-9 bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300 rounded-full flex items-center justify-center font-bold text-sm border-2 border-white dark:border-slate-600 shadow-sm ring-1 ring-slate-200 dark:ring-slate-700 hover:scale-105 transition-transform",children:v!=null&&v.name?v.name.charAt(0).toUpperCase():"U"})]})]}),m.jsx("div",{className:"flex-1 overflow-auto scroll-smooth print:h-auto print:overflow-visible",children:m.jsx("div",{className:"max-w-7xl mx-auto print:max-w-none h-full flex flex-col",children:m.jsx(ly,{})})})]})]})},kD=()=>{const{isAuthenticated:e,isLoading:t}=Ln();return t?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:m.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})}):e?m.jsx(ly,{}):m.jsx(sh,{to:"/login",replace:!0})},DD=()=>{const{user:e,isAuthenticated:t,isLoading:r}=Ln();return r?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:m.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})}):t?(e==null?void 0:e.role)!=="admin"?m.jsx(sh,{to:"/",replace:!0}):m.jsx(ly,{}):m.jsx(sh,{to:"/login",replace:!0})};function hT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(r=hT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Cr(){for(var e,t,r=0,n="",l=arguments.length;r<l;r++)(e=arguments[r])&&(t=hT(e))&&(n&&(n+=" "),n+=t);return n}var RD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function py(e){if(typeof e!="string")return!1;var t=RD;return t.includes(e)}var PD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],LD=new Set(PD);function mT(e){return typeof e!="string"?!1:LD.has(e)}function gT(e){return typeof e=="string"&&e.startsWith("data-")}function pi(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(mT(r)||gT(r))&&(t[r]=e[r]);return t}function Kd(e){if(e==null)return null;if(O.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return pi(t)}return typeof e=="object"&&!Array.isArray(e)?pi(e):null}function ha(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(mT(r)||gT(r)||py(r))&&(t[r]=e[r]);return t}function BD(e){return e==null?null:O.isValidElement(e)?ha(e.props):typeof e=="object"&&!Array.isArray(e)?ha(e):null}var zD=["children","width","height","viewBox","className","style","title","desc"];function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ev.apply(null,arguments)}function UD(e,t){if(e==null)return{};var r,n,l=FD(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function FD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pT=O.forwardRef((e,t)=>{var{children:r,width:n,height:l,viewBox:c,className:f,style:p,title:b,desc:v}=e,w=UD(e,zD),A=c||{width:n,height:l,x:0,y:0},T=Cr("recharts-surface",f);return O.createElement("svg",ev({},ha(w),{className:T,width:n,height:l,style:p,viewBox:"".concat(A.x," ").concat(A.y," ").concat(A.width," ").concat(A.height),ref:t}),O.createElement("title",null,b),O.createElement("desc",null,v),r)}),HD=["children","className"];function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tv.apply(null,arguments)}function GD(e,t){if(e==null)return{};var r,n,l=VD(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function VD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ma=O.forwardRef((e,t)=>{var{children:r,className:n}=e,l=GD(e,HD),c=Cr("recharts-layer",n);return O.createElement("g",tv({className:c},ha(l),{ref:t}),r)}),YD=O.createContext(null);function Dr(e){return function(){return e}}const xT=Math.cos,dh=Math.sin,Bi=Math.sqrt,fh=Math.PI,x1=2*fh,rv=Math.PI,nv=2*rv,Co=1e-6,qD=nv-Co;function vT(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function XD(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return vT;const r=10**t;return function(n){this._+=n[0];for(let l=1,c=n.length;l<c;++l)this._+=Math.round(arguments[l]*r)/r+n[l]}}class WD{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?vT:XD(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,l){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+l}`}bezierCurveTo(t,r,n,l,c,f){this._append`C${+t},${+r},${+n},${+l},${this._x1=+c},${this._y1=+f}`}arcTo(t,r,n,l,c){if(t=+t,r=+r,n=+n,l=+l,c=+c,c<0)throw new Error(`negative radius: ${c}`);let f=this._x1,p=this._y1,b=n-t,v=l-r,w=f-t,A=p-r,T=w*w+A*A;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(T>Co)if(!(Math.abs(A*b-v*w)>Co)||!c)this._append`L${this._x1=t},${this._y1=r}`;else{let _=n-f,j=l-p,M=b*b+v*v,k=_*_+j*j,R=Math.sqrt(M),F=Math.sqrt(T),U=c*Math.tan((rv-Math.acos((M+T-k)/(2*R*F)))/2),V=U/F,q=U/R;Math.abs(V-1)>Co&&this._append`L${t+V*w},${r+V*A}`,this._append`A${c},${c},0,0,${+(A*_>w*j)},${this._x1=t+q*b},${this._y1=r+q*v}`}}arc(t,r,n,l,c,f){if(t=+t,r=+r,n=+n,f=!!f,n<0)throw new Error(`negative radius: ${n}`);let p=n*Math.cos(l),b=n*Math.sin(l),v=t+p,w=r+b,A=1^f,T=f?l-c:c-l;this._x1===null?this._append`M${v},${w}`:(Math.abs(this._x1-v)>Co||Math.abs(this._y1-w)>Co)&&this._append`L${v},${w}`,n&&(T<0&&(T=T%nv+nv),T>qD?this._append`A${n},${n},0,1,${A},${t-p},${r-b}A${n},${n},0,1,${A},${this._x1=v},${this._y1=w}`:T>Co&&this._append`A${n},${n},0,${+(T>=rv)},${A},${this._x1=t+n*Math.cos(c)},${this._y1=r+n*Math.sin(c)}`)}rect(t,r,n,l){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+l}h${-n}Z`}toString(){return this._}}function xy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new WD(t)}function vy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yT(e){this._context=e}yT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function v1(e){return new yT(e)}function bT(e){return e[0]}function wT(e){return e[1]}function AT(e,t){var r=Dr(!0),n=null,l=v1,c=null,f=xy(p);e=typeof e=="function"?e:e===void 0?bT:Dr(e),t=typeof t=="function"?t:t===void 0?wT:Dr(t);function p(b){var v,w=(b=vy(b)).length,A,T=!1,_;for(n==null&&(c=l(_=f())),v=0;v<=w;++v)!(v<w&&r(A=b[v],v,b))===T&&((T=!T)?c.lineStart():c.lineEnd()),T&&c.point(+e(A,v,b),+t(A,v,b));if(_)return c=null,_+""||null}return p.x=function(b){return arguments.length?(e=typeof b=="function"?b:Dr(+b),p):e},p.y=function(b){return arguments.length?(t=typeof b=="function"?b:Dr(+b),p):t},p.defined=function(b){return arguments.length?(r=typeof b=="function"?b:Dr(!!b),p):r},p.curve=function(b){return arguments.length?(l=b,n!=null&&(c=l(n)),p):l},p.context=function(b){return arguments.length?(b==null?n=c=null:c=l(n=b),p):n},p}function j0(e,t,r){var n=null,l=Dr(!0),c=null,f=v1,p=null,b=xy(v);e=typeof e=="function"?e:e===void 0?bT:Dr(+e),t=typeof t=="function"?t:Dr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?wT:Dr(+r);function v(A){var T,_,j,M=(A=vy(A)).length,k,R=!1,F,U=new Array(M),V=new Array(M);for(c==null&&(p=f(F=b())),T=0;T<=M;++T){if(!(T<M&&l(k=A[T],T,A))===R)if(R=!R)_=T,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),j=T-1;j>=_;--j)p.point(U[j],V[j]);p.lineEnd(),p.areaEnd()}R&&(U[T]=+e(k,T,A),V[T]=+t(k,T,A),p.point(n?+n(k,T,A):U[T],r?+r(k,T,A):V[T]))}if(F)return p=null,F+""||null}function w(){return AT().defined(l).curve(f).context(c)}return v.x=function(A){return arguments.length?(e=typeof A=="function"?A:Dr(+A),n=null,v):e},v.x0=function(A){return arguments.length?(e=typeof A=="function"?A:Dr(+A),v):e},v.x1=function(A){return arguments.length?(n=A==null?null:typeof A=="function"?A:Dr(+A),v):n},v.y=function(A){return arguments.length?(t=typeof A=="function"?A:Dr(+A),r=null,v):t},v.y0=function(A){return arguments.length?(t=typeof A=="function"?A:Dr(+A),v):t},v.y1=function(A){return arguments.length?(r=A==null?null:typeof A=="function"?A:Dr(+A),v):r},v.lineX0=v.lineY0=function(){return w().x(e).y(t)},v.lineY1=function(){return w().x(e).y(r)},v.lineX1=function(){return w().x(n).y(t)},v.defined=function(A){return arguments.length?(l=typeof A=="function"?A:Dr(!!A),v):l},v.curve=function(A){return arguments.length?(f=A,c!=null&&(p=f(c)),v):f},v.context=function(A){return arguments.length?(A==null?c=p=null:p=f(c=A),v):c},v}class ST{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function KD(e){return new ST(e,!0)}function ZD(e){return new ST(e,!1)}const yy={draw(e,t){const r=Bi(t/fh);e.moveTo(r,0),e.arc(0,0,r,0,x1)}},$D={draw(e,t){const r=Bi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},ET=Bi(1/3),QD=ET*2,JD={draw(e,t){const r=Bi(t/QD),n=r*ET;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},eR={draw(e,t){const r=Bi(t),n=-r/2;e.rect(n,n,r,r)}},tR=.8908130915292852,CT=dh(fh/10)/dh(7*fh/10),rR=dh(x1/10)*CT,nR=-xT(x1/10)*CT,aR={draw(e,t){const r=Bi(t*tR),n=rR*r,l=nR*r;e.moveTo(0,-r),e.lineTo(n,l);for(let c=1;c<5;++c){const f=x1*c/5,p=xT(f),b=dh(f);e.lineTo(b*r,-p*r),e.lineTo(p*n-b*l,b*n+p*l)}e.closePath()}},up=Bi(3),iR={draw(e,t){const r=-Bi(t/(up*3));e.moveTo(0,r*2),e.lineTo(-up*r,-r),e.lineTo(up*r,-r),e.closePath()}},fi=-.5,hi=Bi(3)/2,av=1/Bi(12),sR=(av/2+1)*3,lR={draw(e,t){const r=Bi(t/sR),n=r/2,l=r*av,c=n,f=r*av+r,p=-c,b=f;e.moveTo(n,l),e.lineTo(c,f),e.lineTo(p,b),e.lineTo(fi*n-hi*l,hi*n+fi*l),e.lineTo(fi*c-hi*f,hi*c+fi*f),e.lineTo(fi*p-hi*b,hi*p+fi*b),e.lineTo(fi*n+hi*l,fi*l-hi*n),e.lineTo(fi*c+hi*f,fi*f-hi*c),e.lineTo(fi*p+hi*b,fi*b-hi*p),e.closePath()}};function oR(e,t){let r=null,n=xy(l);e=typeof e=="function"?e:Dr(e||yy),t=typeof t=="function"?t:Dr(t===void 0?64:+t);function l(){let c;if(r||(r=c=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),c)return r=null,c+""||null}return l.type=function(c){return arguments.length?(e=typeof c=="function"?c:Dr(c),l):e},l.size=function(c){return arguments.length?(t=typeof c=="function"?c:Dr(+c),l):t},l.context=function(c){return arguments.length?(r=c??null,l):r},l}function hh(){}function mh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function NT(e){this._context=e}NT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cR(e){return new NT(e)}function TT(e){this._context=e}TT.prototype={areaStart:hh,areaEnd:hh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:mh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uR(e){return new TT(e)}function OT(e){this._context=e}OT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:mh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dR(e){return new OT(e)}function IT(e){this._context=e}IT.prototype={areaStart:hh,areaEnd:hh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function fR(e){return new IT(e)}function pS(e){return e<0?-1:1}function xS(e,t,r){var n=e._x1-e._x0,l=t-e._x1,c=(e._y1-e._y0)/(n||l<0&&-0),f=(r-e._y1)/(l||n<0&&-0),p=(c*l+f*n)/(n+l);return(pS(c)+pS(f))*Math.min(Math.abs(c),Math.abs(f),.5*Math.abs(p))||0}function vS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function dp(e,t,r){var n=e._x0,l=e._y0,c=e._x1,f=e._y1,p=(c-n)/3;e._context.bezierCurveTo(n+p,l+p*t,c-p,f-p*r,c,f)}function gh(e){this._context=e}gh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dp(this,this._t0,vS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dp(this,vS(this,r=xS(this,e,t)),r);break;default:dp(this,this._t0,r=xS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function _T(e){this._context=new MT(e)}(_T.prototype=Object.create(gh.prototype)).point=function(e,t){gh.prototype.point.call(this,t,e)};function MT(e){this._context=e}MT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,l,c){this._context.bezierCurveTo(t,e,n,r,c,l)}};function hR(e){return new gh(e)}function mR(e){return new _T(e)}function jT(e){this._context=e}jT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=yS(e),l=yS(t),c=0,f=1;f<r;++c,++f)this._context.bezierCurveTo(n[0][c],l[0][c],n[1][c],l[1][c],e[f],t[f]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function yS(e){var t,r=e.length-1,n,l=new Array(r),c=new Array(r),f=new Array(r);for(l[0]=0,c[0]=2,f[0]=e[0]+2*e[1],t=1;t<r-1;++t)l[t]=1,c[t]=4,f[t]=4*e[t]+2*e[t+1];for(l[r-1]=2,c[r-1]=7,f[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=l[t]/c[t-1],c[t]-=n,f[t]-=n*f[t-1];for(l[r-1]=f[r-1]/c[r-1],t=r-2;t>=0;--t)l[t]=(f[t]-l[t+1])/c[t];for(c[r-1]=(e[r]+l[r-1])/2,t=0;t<r-1;++t)c[t]=2*e[t+1]-l[t+1];return[l,c]}function gR(e){return new jT(e)}function y1(e,t){this._context=e,this._t=t}y1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function pR(e){return new y1(e,.5)}function xR(e){return new y1(e,0)}function vR(e){return new y1(e,1)}function zo(e,t){if((f=e.length)>1)for(var r=1,n,l,c=e[t[0]],f,p=c.length;r<f;++r)for(l=c,c=e[t[r]],n=0;n<p;++n)c[n][1]+=c[n][0]=isNaN(l[n][1])?l[n][0]:l[n][1]}function iv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function yR(e,t){return e[t]}function bR(e){const t=[];return t.key=e,t}function wR(){var e=Dr([]),t=iv,r=zo,n=yR;function l(c){var f=Array.from(e.apply(this,arguments),bR),p,b=f.length,v=-1,w;for(const A of c)for(p=0,++v;p<b;++p)(f[p][v]=[0,+n(A,f[p].key,v,c)]).data=A;for(p=0,w=vy(t(f));p<b;++p)f[w[p]].index=p;return r(f,w),f}return l.keys=function(c){return arguments.length?(e=typeof c=="function"?c:Dr(Array.from(c)),l):e},l.value=function(c){return arguments.length?(n=typeof c=="function"?c:Dr(+c),l):n},l.order=function(c){return arguments.length?(t=c==null?iv:typeof c=="function"?c:Dr(Array.from(c)),l):t},l.offset=function(c){return arguments.length?(r=c??zo,l):r},l}function AR(e,t){if((n=e.length)>0){for(var r,n,l=0,c=e[0].length,f;l<c;++l){for(f=r=0;r<n;++r)f+=e[r][l][1]||0;if(f)for(r=0;r<n;++r)e[r][l][1]/=f}zo(e,t)}}function SR(e,t){if((l=e.length)>0){for(var r=0,n=e[t[0]],l,c=n.length;r<c;++r){for(var f=0,p=0;f<l;++f)p+=e[f][r][1]||0;n[r][1]+=n[r][0]=-p/2}zo(e,t)}}function ER(e,t){if(!(!((f=e.length)>0)||!((c=(l=e[t[0]]).length)>0))){for(var r=0,n=1,l,c,f;n<c;++n){for(var p=0,b=0,v=0;p<f;++p){for(var w=e[t[p]],A=w[n][1]||0,T=w[n-1][1]||0,_=(A-T)/2,j=0;j<p;++j){var M=e[t[j]],k=M[n][1]||0,R=M[n-1][1]||0;_+=k-R}b+=A,v+=_*A}l[n-1][1]+=l[n-1][0]=r,b&&(r-=v/b)}l[n-1][1]+=l[n-1][0]=r,zo(e,t)}}var fp={},hp={},bS;function CR(){return bS||(bS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(hp)),hp}var mp={},wS;function kT(){return wS||(wS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(mp)),mp}var gp={},AS;function by(){return AS||(AS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(gp)),gp}var pp={},xp={},SS;function NR(){return SS||(SS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(xp)),xp}var ES;function wy(){return ES||(ES=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NR(),r=by();function n(l){if(Array.isArray(l))return l.map(r.toKey);if(typeof l=="symbol")return[l];l=t.toString(l);const c=[],f=l.length;if(f===0)return c;let p=0,b="",v="",w=!1;for(l.charCodeAt(0)===46&&(c.push(""),p++);p<f;){const A=l[p];v?A==="\\"&&p+1<f?(p++,b+=l[p]):A===v?v="":b+=A:w?A==='"'||A==="'"?v=A:A==="]"?(w=!1,c.push(b),b=""):b+=A:A==="["?(w=!0,b&&(c.push(b),b="")):A==="."?b&&(c.push(b),b=""):b+=A,p++}return b&&c.push(b),c}e.toPath=n})(pp)),pp}var CS;function Ay(){return CS||(CS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CR(),r=kT(),n=by(),l=wy();function c(p,b,v){if(p==null)return v;switch(typeof b){case"string":{if(t.isUnsafeProperty(b))return v;const w=p[b];return w===void 0?r.isDeepKey(b)?c(p,l.toPath(b),v):v:w}case"number":case"symbol":{typeof b=="number"&&(b=n.toKey(b));const w=p[b];return w===void 0?v:w}default:{if(Array.isArray(b))return f(p,b,v);if(Object.is(b==null?void 0:b.valueOf(),-0)?b="-0":b=String(b),t.isUnsafeProperty(b))return v;const w=p[b];return w===void 0?v:w}}}function f(p,b,v){if(b.length===0)return v;let w=p;for(let A=0;A<b.length;A++){if(w==null||t.isUnsafeProperty(b[A]))return v;w=w[b[A]]}return w===void 0?v:w}e.get=c})(fp)),fp}var vp,NS;function TR(){return NS||(NS=1,vp=Ay().get),vp}var OR=TR();const Zc=ls(OR);var IR=4;function Gl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IR,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function tn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((l,c,f)=>{var p=r[f-1];return typeof p=="string"?l+p+c:p!==void 0?l+Gl(p)+c:l+c},"")}var Oa=e=>e===0?0:e>0?1:-1,Ri=e=>typeof e=="number"&&e!=+e,Uo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,tt=e=>(typeof e=="number"||e instanceof Number)&&!Ri(e),as=e=>tt(e)||typeof e=="string",_R=0,Id=e=>{var t=++_R;return"".concat(e||"").concat(t)},Pi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(t)&&typeof t!="string")return n;var c;if(Uo(t)){if(r==null)return n;var f=t.indexOf("%");c=r*parseFloat(t.slice(0,f))/100}else c=+t;return Ri(c)&&(c=n),l&&r!=null&&c>r&&(c=r),c},DT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Xr(e,t,r){return tt(e)&&tt(t)?Gl(e+r*(t-e)):t}function RT(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Zc(n,t))===r)}var rn=e=>e===null||typeof e>"u",Zd=e=>rn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Ia(e){return e!=null}function Ko(){}var MR=["type","size","sizeType"];function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sv.apply(null,arguments)}function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function OS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(n){jR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jR(e,t,r){return(t=kR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kR(e){var t=DR(e,"string");return typeof t=="symbol"?t:t+""}function DR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RR(e,t){if(e==null)return{};var r,n,l=PR(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function PR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PT={symbolCircle:yy,symbolCross:$D,symbolDiamond:JD,symbolSquare:eR,symbolStar:aR,symbolTriangle:iR,symbolWye:lR},LR=Math.PI/180,BR=e=>{var t="symbol".concat(Zd(e));return PT[t]||yy},zR=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*LR;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},UR=(e,t)=>{PT["symbol".concat(Zd(e))]=t},LT=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,l=RR(e,MR),c=OS(OS({},l),{},{type:t,size:r,sizeType:n}),f="circle";typeof t=="string"&&(f=t);var p=()=>{var T=BR(f),_=oR().type(T).size(zR(r,n,f)),j=_();if(j!==null)return j},{className:b,cx:v,cy:w}=c,A=ha(c);return tt(v)&&tt(w)&&tt(r)?O.createElement("path",sv({},A,{className:Cr("recharts-symbols",b),transform:"translate(".concat(v,", ").concat(w,")"),d:p()})):null};LT.registerSymbol=UR;var BT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Sy=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(O.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(l=>{py(l)&&(n[l]=(c=>r[l](r,c)))}),n},FR=(e,t,r)=>n=>(e(t,r,n),null),Ey=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(l=>{var c=e[l];py(l)&&typeof c=="function"&&(n||(n={}),n[l]=FR(c,t,r))}),n};function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function HR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){GR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GR(e,t,r){return(t=VR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VR(e){var t=YR(e,"string");return typeof t=="symbol"?t:t+""}function YR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xa(e,t){var r=HR({},e),n=t,l=Object.keys(t),c=l.reduce((f,p)=>(f[p]===void 0&&n[p]!==void 0&&(f[p]=n[p]),f),r);return c}var yp={},bp={},_S;function qR(){return _S||(_S=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const l=new Map;for(let c=0;c<r.length;c++){const f=r[c],p=n(f,c,r);l.has(p)||l.set(p,f)}return Array.from(l.values())}e.uniqBy=t})(bp)),bp}var wp={},MS;function XR(){return MS||(MS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...l){return r.apply(this,l.slice(0,n))}}e.ary=t})(wp)),wp}var Ap={},jS;function zT(){return jS||(jS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Ap)),Ap}var Sp={},Ep={},Cp={},kS;function WR(){return kS||(kS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Cp)),Cp}var DS;function Cy(){return DS||(DS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WR();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Ep)),Ep}var Np={},RS;function KR(){return RS||(RS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Np)),Np}var PS;function ZR(){return PS||(PS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cy(),r=KR();function n(l){return r.isObjectLike(l)&&t.isArrayLike(l)}e.isArrayLikeObject=n})(Sp)),Sp}var Tp={},Op={},LS;function $R(){return LS||(LS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ay();function r(n){return function(l){return t.get(l,n)}}e.property=r})(Op)),Op}var Ip={},_p={},Mp={},jp={},BS;function UT(){return BS||(BS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(jp)),jp}var kp={},zS;function FT(){return zS||(zS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(kp)),kp}var Dp={},US;function HT(){return US||(US=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Dp)),Dp}var FS;function QR(){return FS||(FS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UT(),r=FT(),n=HT();function l(w,A,T){return typeof T!="function"?l(w,A,()=>{}):c(w,A,function _(j,M,k,R,F,U){const V=T(j,M,k,R,F,U);return V!==void 0?!!V:c(j,M,_,U)},new Map)}function c(w,A,T,_){if(A===w)return!0;switch(typeof A){case"object":return f(w,A,T,_);case"function":return Object.keys(A).length>0?c(w,{...A},T,_):n.isEqualsSameValueZero(w,A);default:return t.isObject(w)?typeof A=="string"?A==="":!0:n.isEqualsSameValueZero(w,A)}}function f(w,A,T,_){if(A==null)return!0;if(Array.isArray(A))return b(w,A,T,_);if(A instanceof Map)return p(w,A,T,_);if(A instanceof Set)return v(w,A,T,_);const j=Object.keys(A);if(w==null||r.isPrimitive(w))return j.length===0;if(j.length===0)return!0;if(_!=null&&_.has(A))return _.get(A)===w;_==null||_.set(A,w);try{for(let M=0;M<j.length;M++){const k=j[M];if(!r.isPrimitive(w)&&!(k in w)||A[k]===void 0&&w[k]!==void 0||A[k]===null&&w[k]!==null||!T(w[k],A[k],k,w,A,_))return!1}return!0}finally{_==null||_.delete(A)}}function p(w,A,T,_){if(A.size===0)return!0;if(!(w instanceof Map))return!1;for(const[j,M]of A.entries()){const k=w.get(j);if(T(k,M,j,w,A,_)===!1)return!1}return!0}function b(w,A,T,_){if(A.length===0)return!0;if(!Array.isArray(w))return!1;const j=new Set;for(let M=0;M<A.length;M++){const k=A[M];let R=!1;for(let F=0;F<w.length;F++){if(j.has(F))continue;const U=w[F];let V=!1;if(T(U,k,M,w,A,_)&&(V=!0),V){j.add(F),R=!0;break}}if(!R)return!1}return!0}function v(w,A,T,_){return A.size===0?!0:w instanceof Set?b([...w],[...A],T,_):!1}e.isMatchWith=l,e.isSetMatch=v})(Mp)),Mp}var HS;function GT(){return HS||(HS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QR();function r(n,l){return t.isMatchWith(n,l,()=>{})}e.isMatch=r})(_p)),_p}var Rp={},Pp={},Lp={},GS;function JR(){return GS||(GS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Lp)),Lp}var Bp={},VS;function Ny(){return VS||(VS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Bp)),Bp}var zp={},YS;function VT(){return YS||(YS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",l="[object Boolean]",c="[object Arguments]",f="[object Symbol]",p="[object Date]",b="[object Map]",v="[object Set]",w="[object Array]",A="[object Function]",T="[object ArrayBuffer]",_="[object Object]",j="[object Error]",M="[object DataView]",k="[object Uint8Array]",R="[object Uint8ClampedArray]",F="[object Uint16Array]",U="[object Uint32Array]",V="[object BigUint64Array]",q="[object Int8Array]",Y="[object Int16Array]",L="[object Int32Array]",ee="[object BigInt64Array]",Z="[object Float32Array]",Ne="[object Float64Array]";e.argumentsTag=c,e.arrayBufferTag=T,e.arrayTag=w,e.bigInt64ArrayTag=ee,e.bigUint64ArrayTag=V,e.booleanTag=l,e.dataViewTag=M,e.dateTag=p,e.errorTag=j,e.float32ArrayTag=Z,e.float64ArrayTag=Ne,e.functionTag=A,e.int16ArrayTag=Y,e.int32ArrayTag=L,e.int8ArrayTag=q,e.mapTag=b,e.numberTag=n,e.objectTag=_,e.regexpTag=t,e.setTag=v,e.stringTag=r,e.symbolTag=f,e.uint16ArrayTag=F,e.uint32ArrayTag=U,e.uint8ArrayTag=k,e.uint8ClampedArrayTag=R})(zp)),zp}var Up={},qS;function e7(){return qS||(qS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Up)),Up}var XS;function YT(){return XS||(XS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JR(),r=Ny(),n=VT(),l=FT(),c=e7();function f(w,A){return p(w,void 0,w,new Map,A)}function p(w,A,T,_=new Map,j=void 0){const M=j==null?void 0:j(w,A,T,_);if(M!==void 0)return M;if(l.isPrimitive(w))return w;if(_.has(w))return _.get(w);if(Array.isArray(w)){const k=new Array(w.length);_.set(w,k);for(let R=0;R<w.length;R++)k[R]=p(w[R],R,T,_,j);return Object.hasOwn(w,"index")&&(k.index=w.index),Object.hasOwn(w,"input")&&(k.input=w.input),k}if(w instanceof Date)return new Date(w.getTime());if(w instanceof RegExp){const k=new RegExp(w.source,w.flags);return k.lastIndex=w.lastIndex,k}if(w instanceof Map){const k=new Map;_.set(w,k);for(const[R,F]of w)k.set(R,p(F,R,T,_,j));return k}if(w instanceof Set){const k=new Set;_.set(w,k);for(const R of w)k.add(p(R,void 0,T,_,j));return k}if(typeof Buffer<"u"&&Buffer.isBuffer(w))return w.subarray();if(c.isTypedArray(w)){const k=new(Object.getPrototypeOf(w)).constructor(w.length);_.set(w,k);for(let R=0;R<w.length;R++)k[R]=p(w[R],R,T,_,j);return k}if(w instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&w instanceof SharedArrayBuffer)return w.slice(0);if(w instanceof DataView){const k=new DataView(w.buffer.slice(0),w.byteOffset,w.byteLength);return _.set(w,k),b(k,w,T,_,j),k}if(typeof File<"u"&&w instanceof File){const k=new File([w],w.name,{type:w.type});return _.set(w,k),b(k,w,T,_,j),k}if(typeof Blob<"u"&&w instanceof Blob){const k=new Blob([w],{type:w.type});return _.set(w,k),b(k,w,T,_,j),k}if(w instanceof Error){const k=new w.constructor;return _.set(w,k),k.message=w.message,k.name=w.name,k.stack=w.stack,k.cause=w.cause,b(k,w,T,_,j),k}if(w instanceof Boolean){const k=new Boolean(w.valueOf());return _.set(w,k),b(k,w,T,_,j),k}if(w instanceof Number){const k=new Number(w.valueOf());return _.set(w,k),b(k,w,T,_,j),k}if(w instanceof String){const k=new String(w.valueOf());return _.set(w,k),b(k,w,T,_,j),k}if(typeof w=="object"&&v(w)){const k=Object.create(Object.getPrototypeOf(w));return _.set(w,k),b(k,w,T,_,j),k}return w}function b(w,A,T=w,_,j){const M=[...Object.keys(A),...t.getSymbols(A)];for(let k=0;k<M.length;k++){const R=M[k],F=Object.getOwnPropertyDescriptor(w,R);(F==null||F.writable)&&(w[R]=p(A[R],R,T,_,j))}}function v(w){switch(r.getTag(w)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=f,e.cloneDeepWithImpl=p,e.copyProperties=b})(Pp)),Pp}var WS;function t7(){return WS||(WS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YT();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Rp)),Rp}var KS;function r7(){return KS||(KS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GT(),r=t7();function n(l){return l=r.cloneDeep(l),c=>t.isMatch(c,l)}e.matches=n})(Ip)),Ip}var Fp={},Hp={},Gp={},ZS;function n7(){return ZS||(ZS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YT(),r=Ny(),n=VT();function l(c,f){return t.cloneDeepWith(c,(p,b,v,w)=>{const A=f==null?void 0:f(p,b,v,w);if(A!==void 0)return A;if(typeof c=="object"){if(r.getTag(c)===n.objectTag&&typeof c.constructor!="function"){const T={};return w.set(c,T),t.copyProperties(T,c,v,w),T}switch(Object.prototype.toString.call(c)){case n.numberTag:case n.stringTag:case n.booleanTag:{const T=new c.constructor(c==null?void 0:c.valueOf());return t.copyProperties(T,c),T}case n.argumentsTag:{const T={};return t.copyProperties(T,c),T.length=c.length,T[Symbol.iterator]=c[Symbol.iterator],T}default:return}}})}e.cloneDeepWith=l})(Gp)),Gp}var $S;function a7(){return $S||($S=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n7();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Hp)),Hp}var Vp={},Yp={},QS;function qT(){return QS||(QS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,l=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<l;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Yp)),Yp}var qp={},JS;function i7(){return JS||(JS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ny();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(qp)),qp}var eE;function s7(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kT(),r=qT(),n=i7(),l=wy();function c(f,p){let b;if(Array.isArray(p)?b=p:typeof p=="string"&&t.isDeepKey(p)&&(f==null?void 0:f[p])==null?b=l.toPath(p):b=[p],b.length===0)return!1;let v=f;for(let w=0;w<b.length;w++){const A=b[w];if((v==null||!Object.hasOwn(v,A))&&!((Array.isArray(v)||n.isArguments(v))&&r.isIndex(A)&&A<v.length))return!1;v=v[A]}return!0}e.has=c})(Vp)),Vp}var tE;function l7(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GT(),r=by(),n=a7(),l=Ay(),c=s7();function f(p,b){switch(typeof p){case"object":{Object.is(p==null?void 0:p.valueOf(),-0)&&(p="-0");break}case"number":{p=r.toKey(p);break}}return b=n.cloneDeep(b),function(v){const w=l.get(v,p);return w===void 0?c.has(v,p):b===void 0?w===void 0:t.isMatch(w,b)}}e.matchesProperty=f})(Fp)),Fp}var rE;function o7(){return rE||(rE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zT(),r=$R(),n=r7(),l=l7();function c(f){if(f==null)return t.identity;switch(typeof f){case"function":return f;case"object":return Array.isArray(f)&&f.length===2?l.matchesProperty(f[0],f[1]):n.matches(f);case"string":case"symbol":case"number":return r.property(f)}}e.iteratee=c})(Tp)),Tp}var nE;function c7(){return nE||(nE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qR(),r=XR(),n=zT(),l=ZR(),c=o7();function f(p,b=n.identity){return l.isArrayLikeObject(p)?t.uniqBy(Array.from(p),r.ary(c.iteratee(b),1)):[]}e.uniqBy=f})(yp)),yp}var Xp,aE;function u7(){return aE||(aE=1,Xp=c7().uniqBy),Xp}var d7=u7();const iE=ls(d7);function f7(e,t,r){return t===!0?iE(e,r):typeof t=="function"?iE(e,t):e}var Wp={exports:{}},Kp={},Zp={exports:{}},$p={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function h7(){if(sE)return $p;sE=1;var e=nu();function t(A,T){return A===T&&(A!==0||1/A===1/T)||A!==A&&T!==T}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,l=e.useEffect,c=e.useLayoutEffect,f=e.useDebugValue;function p(A,T){var _=T(),j=n({inst:{value:_,getSnapshot:T}}),M=j[0].inst,k=j[1];return c(function(){M.value=_,M.getSnapshot=T,b(M)&&k({inst:M})},[A,_,T]),l(function(){return b(M)&&k({inst:M}),A(function(){b(M)&&k({inst:M})})},[A]),f(_),_}function b(A){var T=A.getSnapshot;A=A.value;try{var _=T();return!r(A,_)}catch{return!0}}function v(A,T){return T()}var w=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:p;return $p.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:w,$p}var lE;function m7(){return lE||(lE=1,Zp.exports=h7()),Zp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function g7(){if(oE)return Kp;oE=1;var e=nu(),t=m7();function r(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var n=typeof Object.is=="function"?Object.is:r,l=t.useSyncExternalStore,c=e.useRef,f=e.useEffect,p=e.useMemo,b=e.useDebugValue;return Kp.useSyncExternalStoreWithSelector=function(v,w,A,T,_){var j=c(null);if(j.current===null){var M={hasValue:!1,value:null};j.current=M}else M=j.current;j=p(function(){function R(Y){if(!F){if(F=!0,U=Y,Y=T(Y),_!==void 0&&M.hasValue){var L=M.value;if(_(L,Y))return V=L}return V=Y}if(L=V,n(U,Y))return L;var ee=T(Y);return _!==void 0&&_(L,ee)?(U=Y,L):(U=Y,V=ee)}var F=!1,U,V,q=A===void 0?null:A;return[function(){return R(w())},q===null?void 0:function(){return R(q())}]},[w,A,T,_]);var k=l(v,j[0],j[1]);return f(function(){M.hasValue=!0,M.value=k},[k]),b(k),k},Kp}var cE;function p7(){return cE||(cE=1,Wp.exports=g7()),Wp.exports}var x7=p7(),Ty=O.createContext(null),v7=e=>e,fn=()=>{var e=O.useContext(Ty);return e?e.store.dispatch:v7},$0=()=>{},y7=()=>$0,b7=(e,t)=>e===t;function xt(e){var t=O.useContext(Ty),r=O.useMemo(()=>t?n=>{if(n!=null)return e(n)}:$0,[t,e]);return x7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:y7,t?t.store.getState:$0,t?t.store.getState:$0,r,b7)}function w7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function A7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function S7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var uE=e=>Array.isArray(e)?e:[e];function E7(e){const t=Array.isArray(e[0])?e[0]:e;return S7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function C7(e,t){const r=[],{length:n}=e;for(let l=0;l<n;l++)r.push(e[l].apply(null,t));return r}var N7=class{constructor(e){this.value=e}deref(){return this.value}},T7=typeof WeakRef<"u"?WeakRef:N7,O7=0,dE=1;function k0(){return{s:O7,v:void 0,o:null,p:null}}function XT(e,t={}){let r=k0();const{resultEqualityCheck:n}=t;let l,c=0;function f(){var A;let p=r;const{length:b}=arguments;for(let T=0,_=b;T<_;T++){const j=arguments[T];if(typeof j=="function"||typeof j=="object"&&j!==null){let M=p.o;M===null&&(p.o=M=new WeakMap);const k=M.get(j);k===void 0?(p=k0(),M.set(j,p)):p=k}else{let M=p.p;M===null&&(p.p=M=new Map);const k=M.get(j);k===void 0?(p=k0(),M.set(j,p)):p=k}}const v=p;let w;if(p.s===dE)w=p.v;else if(w=e.apply(null,arguments),c++,n){const T=((A=l==null?void 0:l.deref)==null?void 0:A.call(l))??l;T!=null&&n(T,w)&&(w=T,c!==0&&c--),l=typeof w=="object"&&w!==null||typeof w=="function"?new T7(w):w}return v.s=dE,v.v=w,w}return f.clearCache=()=>{r=k0(),f.resetResultsCount()},f.resultsCount=()=>c,f.resetResultsCount=()=>{c=0},f}function I7(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...l)=>{let c=0,f=0,p,b={},v=l.pop();typeof v=="object"&&(b=v,v=l.pop()),w7(v,`createSelector expects an output function after the inputs, but received: [${typeof v}]`);const w={...r,...b},{memoize:A,memoizeOptions:T=[],argsMemoize:_=XT,argsMemoizeOptions:j=[]}=w,M=uE(T),k=uE(j),R=E7(l),F=A(function(){return c++,v.apply(null,arguments)},...M),U=_(function(){f++;const q=C7(R,arguments);return p=F.apply(null,q),p},...k);return Object.assign(U,{resultFunc:v,memoizedResultFunc:F,dependencies:R,dependencyRecomputations:()=>f,resetDependencyRecomputations:()=>{f=0},lastResult:()=>p,recomputations:()=>c,resetRecomputations:()=>{c=0},memoize:A,argsMemoize:_})};return Object.assign(n,{withTypes:()=>n}),n}var Se=I7(XT),_7=Object.assign((e,t=Se)=>{A7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(c=>e[c]);return t(n,(...c)=>c.reduce((f,p,b)=>(f[r[b]]=p,f),{}))},{withTypes:()=>_7}),Qp={},Jp={},ex={},fE;function M7(){return fE||(fE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,l,c)=>{if(n!==l){const f=t(n),p=t(l);if(f===p&&f===0){if(n<l)return c==="desc"?1:-1;if(n>l)return c==="desc"?-1:1}return c==="desc"?p-f:f-p}return 0};e.compareValues=r})(ex)),ex}var tx={},rx={},hE;function WT(){return hE||(hE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(rx)),rx}var mE;function j7(){return mE||(mE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WT(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function l(c,f){return Array.isArray(c)?!1:typeof c=="number"||typeof c=="boolean"||c==null||t.isSymbol(c)?!0:typeof c=="string"&&(n.test(c)||!r.test(c))||f!=null&&Object.hasOwn(f,c)}e.isKey=l})(tx)),tx}var gE;function k7(){return gE||(gE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M7(),r=j7(),n=wy();function l(c,f,p,b){if(c==null)return[];p=b?void 0:p,Array.isArray(c)||(c=Object.values(c)),Array.isArray(f)||(f=f==null?[null]:[f]),f.length===0&&(f=[null]),Array.isArray(p)||(p=p==null?[]:[p]),p=p.map(_=>String(_));const v=(_,j)=>{let M=_;for(let k=0;k<j.length&&M!=null;++k)M=M[j[k]];return M},w=(_,j)=>j==null||_==null?j:typeof _=="object"&&"key"in _?Object.hasOwn(j,_.key)?j[_.key]:v(j,_.path):typeof _=="function"?_(j):Array.isArray(_)?v(j,_):typeof j=="object"?j[_]:j,A=f.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||r.isKey(_)?_:{key:_,path:n.toPath(_)}));return c.map(_=>({original:_,criteria:A.map(j=>w(j,_))})).slice().sort((_,j)=>{for(let M=0;M<A.length;M++){const k=t.compareValues(_.criteria[M],j.criteria[M],p[M]);if(k!==0)return k}return 0}).map(_=>_.original)}e.orderBy=l})(Jp)),Jp}var nx={},pE;function D7(){return pE||(pE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const l=[],c=Math.floor(n),f=(p,b)=>{for(let v=0;v<p.length;v++){const w=p[v];Array.isArray(w)&&b<c?f(w,b+1):l.push(w)}};return f(r,0),l}e.flatten=t})(nx)),nx}var ax={},xE;function KT(){return xE||(xE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qT(),r=Cy(),n=UT(),l=HT();function c(f,p,b){return n.isObject(b)&&(typeof p=="number"&&r.isArrayLike(b)&&t.isIndex(p)&&p<b.length||typeof p=="string"&&p in b)?l.isEqualsSameValueZero(b[p],f):!1}e.isIterateeCall=c})(ax)),ax}var vE;function R7(){return vE||(vE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k7(),r=D7(),n=KT();function l(c,...f){const p=f.length;return p>1&&n.isIterateeCall(c,f[0],f[1])?f=[]:p>2&&n.isIterateeCall(f[0],f[1],f[2])&&(f=[f[0]]),t.orderBy(c,r.flatten(f),["asc"])}e.sortBy=l})(Qp)),Qp}var ix,yE;function P7(){return yE||(yE=1,ix=R7().sortBy),ix}var L7=P7();const b1=ls(L7);var ZT=e=>e.legend.settings,B7=e=>e.legend.size,z7=e=>e.legend.payload;Se([z7,ZT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?b1(n,r):n});var D0=1;function U7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=O.useState({height:0,left:0,top:0,width:0}),n=O.useCallback(l=>{if(l!=null){var c=l.getBoundingClientRect(),f={height:c.height,left:c.left,top:c.top,width:c.width};(Math.abs(f.height-t.height)>D0||Math.abs(f.left-t.left)>D0||Math.abs(f.top-t.top)>D0||Math.abs(f.width-t.width)>D0)&&r({height:f.height,left:f.left,top:f.top,width:f.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function $n(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var F7=typeof Symbol=="function"&&Symbol.observable||"@@observable",bE=F7,sx=()=>Math.random().toString(36).substring(7).split("").join("."),H7={INIT:`@@redux/INIT${sx()}`,REPLACE:`@@redux/REPLACE${sx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sx()}`},ph=H7;function Oy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function $T(e,t,r){if(typeof e!="function")throw new Error($n(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error($n(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error($n(1));return r($T)(e,t)}let n=e,l=t,c=new Map,f=c,p=0,b=!1;function v(){f===c&&(f=new Map,c.forEach((k,R)=>{f.set(R,k)}))}function w(){if(b)throw new Error($n(3));return l}function A(k){if(typeof k!="function")throw new Error($n(4));if(b)throw new Error($n(5));let R=!0;v();const F=p++;return f.set(F,k),function(){if(R){if(b)throw new Error($n(6));R=!1,v(),f.delete(F),c=null}}}function T(k){if(!Oy(k))throw new Error($n(7));if(typeof k.type>"u")throw new Error($n(8));if(typeof k.type!="string")throw new Error($n(17));if(b)throw new Error($n(9));try{b=!0,l=n(l,k)}finally{b=!1}return(c=f).forEach(F=>{F()}),k}function _(k){if(typeof k!="function")throw new Error($n(10));n=k,T({type:ph.REPLACE})}function j(){const k=A;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error($n(11));function F(){const V=R;V.next&&V.next(w())}return F(),{unsubscribe:k(F)}},[bE](){return this}}}return T({type:ph.INIT}),{dispatch:T,subscribe:A,getState:w,replaceReducer:_,[bE]:j}}function G7(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:ph.INIT})>"u")throw new Error($n(12));if(typeof r(void 0,{type:ph.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($n(13))})}function QT(e){const t=Object.keys(e),r={};for(let c=0;c<t.length;c++){const f=t[c];typeof e[f]=="function"&&(r[f]=e[f])}const n=Object.keys(r);let l;try{G7(r)}catch(c){l=c}return function(f={},p){if(l)throw l;let b=!1;const v={};for(let w=0;w<n.length;w++){const A=n[w],T=r[A],_=f[A],j=T(_,p);if(typeof j>"u")throw p&&p.type,new Error($n(14));v[A]=j,b=b||j!==_}return b=b||n.length!==Object.keys(f).length,b?v:f}}function xh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function V7(...e){return t=>(r,n)=>{const l=t(r,n);let c=()=>{throw new Error($n(15))};const f={getState:l.getState,dispatch:(b,...v)=>c(b,...v)},p=e.map(b=>b(f));return c=xh(...p)(l.dispatch),{...l,dispatch:c}}}function JT(e){return Oy(e)&&"type"in e&&typeof e.type=="string"}var eO=Symbol.for("immer-nothing"),wE=Symbol.for("immer-draftable"),ga=Symbol.for("immer-state");function Mi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ka=Object,$c=Ka.getPrototypeOf,vh="constructor",w1="prototype",lv="configurable",yh="enumerable",Q0="writable",_d="value",qs=e=>!!e&&!!e[ga];function Li(e){var t;return e?tO(e)||S1(e)||!!e[wE]||!!((t=e[vh])!=null&&t[wE])||E1(e)||C1(e):!1}var Y7=Ka[w1][vh].toString(),AE=new WeakMap;function tO(e){if(!e||!Iy(e))return!1;const t=$c(e);if(t===null||t===Ka[w1])return!0;const r=Ka.hasOwnProperty.call(t,vh)&&t[vh];if(r===Object)return!0;if(!Uc(r))return!1;let n=AE.get(r);return n===void 0&&(n=Function.toString.call(r),AE.set(r,n)),n===Y7}function A1(e,t,r=!0){$d(e)===0?(r?Reflect.ownKeys(e):Ka.keys(e)).forEach(l=>{t(l,e[l],e)}):e.forEach((n,l)=>t(l,n,e))}function $d(e){const t=e[ga];return t?t.type_:S1(e)?1:E1(e)?2:C1(e)?3:0}var SE=(e,t,r=$d(e))=>r===2?e.has(t):Ka[w1].hasOwnProperty.call(e,t),ov=(e,t,r=$d(e))=>r===2?e.get(t):e[t],bh=(e,t,r,n=$d(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function q7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var S1=Array.isArray,E1=e=>e instanceof Map,C1=e=>e instanceof Set,Iy=e=>typeof e=="object",Uc=e=>typeof e=="function",lx=e=>typeof e=="boolean";function X7(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ps=e=>e.copy_||e.base_,_y=e=>e.modified_?e.copy_:e.base_;function cv(e,t){if(E1(e))return new Map(e);if(C1(e))return new Set(e);if(S1(e))return Array[w1].slice.call(e);const r=tO(e);if(t===!0||t==="class_only"&&!r){const n=Ka.getOwnPropertyDescriptors(e);delete n[ga];let l=Reflect.ownKeys(n);for(let c=0;c<l.length;c++){const f=l[c],p=n[f];p[Q0]===!1&&(p[Q0]=!0,p[lv]=!0),(p.get||p.set)&&(n[f]={[lv]:!0,[Q0]:!0,[yh]:p[yh],[_d]:e[f]})}return Ka.create($c(e),n)}else{const n=$c(e);if(n!==null&&r)return{...e};const l=Ka.create(n);return Ka.assign(l,e)}}function My(e,t=!1){return N1(e)||qs(e)||!Li(e)||($d(e)>1&&Ka.defineProperties(e,{set:R0,add:R0,clear:R0,delete:R0}),Ka.freeze(e),t&&A1(e,(r,n)=>{My(n,!0)},!1)),e}function W7(){Mi(2)}var R0={[_d]:W7};function N1(e){return e===null||!Iy(e)?!0:Ka.isFrozen(e)}var wh="MapSet",uv="Patches",EE="ArrayMethods",rO={};function Fo(e){const t=rO[e];return t||Mi(0,e),t}var CE=e=>!!rO[e],Md,nO=()=>Md,K7=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:CE(wh)?Fo(wh):void 0,arrayMethodsPlugin_:CE(EE)?Fo(EE):void 0});function NE(e,t){t&&(e.patchPlugin_=Fo(uv),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function dv(e){fv(e),e.drafts_.forEach(Z7),e.drafts_=null}function fv(e){e===Md&&(Md=e.parent_)}var TE=e=>Md=K7(Md,e);function Z7(e){const t=e[ga];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function OE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[ga].modified_&&(dv(t),Mi(4)),Li(e)&&(e=IE(t,e));const{patchPlugin_:l}=t;l&&l.generateReplacementPatches_(r[ga].base_,e,t)}else e=IE(t,r);return $7(t,e,!0),dv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==eO?e:void 0}function IE(e,t){if(N1(t))return t;const r=t[ga];if(!r)return Ah(t,e.handledSet_,e);if(!T1(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);sO(r,e)}return r.copy_}function $7(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&My(t,r)}function aO(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var T1=(e,t)=>e.scope_===t,Q7=[];function iO(e,t,r,n){const l=Ps(e),c=e.type_;if(n!==void 0&&ov(l,n,c)===t){bh(l,n,r,c);return}if(!e.draftLocations_){const p=e.draftLocations_=new Map;A1(l,(b,v)=>{if(qs(v)){const w=p.get(v)||[];w.push(b),p.set(v,w)}})}const f=e.draftLocations_.get(t)??Q7;for(const p of f)bh(l,p,r,c)}function J7(e,t,r){e.callbacks_.push(function(l){var p;const c=t;if(!c||!T1(c,l))return;(p=l.mapSetPlugin_)==null||p.fixSetContents(c);const f=_y(c);iO(e,c.draft_??c,f,r),sO(c,l)})}function sO(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:l}=t;if(l){const c=l.getPath(e);c&&l.generatePatches_(e,c,t)}aO(e)}}function e9(e,t,r){const{scope_:n}=e;if(qs(r)){const l=r[ga];T1(l,n)&&l.callbacks_.push(function(){J0(e);const f=_y(l);iO(e,r,f,t)})}else Li(r)&&e.callbacks_.push(function(){const c=Ps(e);e.type_===3?c.has(r)&&Ah(r,n.handledSet_,n):ov(c,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Ah(ov(e.copy_,t,e.type_),n.handledSet_,n)})}function Ah(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||qs(e)||t.has(e)||!Li(e)||N1(e)||(t.add(e),A1(e,(n,l)=>{if(qs(l)){const c=l[ga];if(T1(c,r)){const f=_y(c);bh(e,n,f,e.type_),aO(c)}}else Li(l)&&Ah(l,t,r)})),e}function t9(e,t){const r=S1(e),n={type_:r?1:0,scope_:t?t.scope_:nO(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let l=n,c=Sh;r&&(l=[n],c=jd);const{revoke:f,proxy:p}=Proxy.revocable(l,c);return n.draft_=p,n.revoke_=f,[p,n]}var Sh={get(e,t){if(t===ga)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const l=Ps(e);if(!SE(l,t,e.type_))return r9(e,l,t);const c=l[t];if(e.finalized_||!Li(c)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&X7(t))return c;if(c===ox(e.base_,t)){J0(e);const f=e.type_===1?+t:t,p=mv(e.scope_,c,e,f);return e.copy_[f]=p}return c},has(e,t){return t in Ps(e)},ownKeys(e){return Reflect.ownKeys(Ps(e))},set(e,t,r){const n=lO(Ps(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const l=ox(Ps(e),t),c=l==null?void 0:l[ga];if(c&&c.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(q7(r,l)&&(r!==void 0||SE(e.base_,t,e.type_)))return!0;J0(e),hv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),e9(e,t,r)),!0},deleteProperty(e,t){return J0(e),ox(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),hv(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ps(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Q0]:!0,[lv]:e.type_!==1||t!=="length",[yh]:n[yh],[_d]:r[t]}},defineProperty(){Mi(11)},getPrototypeOf(e){return $c(e.base_)},setPrototypeOf(){Mi(12)}},jd={};for(let e in Sh){let t=Sh[e];jd[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}jd.deleteProperty=function(e,t){return jd.set.call(this,e,t,void 0)};jd.set=function(e,t,r){return Sh.set.call(this,e[0],t,r,e[0])};function ox(e,t){const r=e[ga];return(r?Ps(r):e)[t]}function r9(e,t,r){var l;const n=lO(t,r);return n?_d in n?n[_d]:(l=n.get)==null?void 0:l.call(e.draft_):void 0}function lO(e,t){if(!(t in e))return;let r=$c(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=$c(r)}}function hv(e){e.modified_||(e.modified_=!0,e.parent_&&hv(e.parent_))}function J0(e){e.copy_||(e.assigned_=new Map,e.copy_=cv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var n9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,l)=>{if(Uc(r)&&!Uc(n)){const f=n;n=r;const p=this;return function(v=f,...w){return p.produce(v,A=>n.call(this,A,...w))}}Uc(n)||Mi(6),l!==void 0&&!Uc(l)&&Mi(7);let c;if(Li(r)){const f=TE(this),p=mv(f,r,void 0);let b=!0;try{c=n(p),b=!1}finally{b?dv(f):fv(f)}return NE(f,l),OE(c,f)}else if(!r||!Iy(r)){if(c=n(r),c===void 0&&(c=r),c===eO&&(c=void 0),this.autoFreeze_&&My(c,!0),l){const f=[],p=[];Fo(uv).generateReplacementPatches_(r,c,{patches_:f,inversePatches_:p}),l(f,p)}return c}else Mi(1,r)},this.produceWithPatches=(r,n)=>{if(Uc(r))return(p,...b)=>this.produceWithPatches(p,v=>r(v,...b));let l,c;return[this.produce(r,n,(p,b)=>{l=p,c=b}),l,c]},lx(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),lx(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),lx(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Li(t)||Mi(8),qs(t)&&(t=Di(t));const r=TE(this),n=mv(r,t,void 0);return n[ga].isManual_=!0,fv(r),n}finishDraft(t,r){const n=t&&t[ga];(!n||!n.isManual_)&&Mi(9);const{scope_:l}=n;return NE(l,r),OE(void 0,l)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const c=r[n];if(c.path.length===0&&c.op==="replace"){t=c.value;break}}n>-1&&(r=r.slice(n+1));const l=Fo(uv).applyPatches_;return qs(t)?l(t,r):this.produce(t,c=>l(c,r))}};function mv(e,t,r,n){const[l,c]=E1(t)?Fo(wh).proxyMap_(t,r):C1(t)?Fo(wh).proxySet_(t,r):t9(t,r);return((r==null?void 0:r.scope_)??nO()).drafts_.push(l),c.callbacks_=(r==null?void 0:r.callbacks_)??[],c.key_=n,r&&n!==void 0?J7(r,c,n):c.callbacks_.push(function(b){var w;(w=b.mapSetPlugin_)==null||w.fixSetContents(c);const{patchPlugin_:v}=b;c.modified_&&v&&v.generatePatches_(c,[],b)}),l}function Di(e){return qs(e)||Mi(10,e),oO(e)}function oO(e){if(!Li(e)||N1(e))return e;const t=e[ga];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=cv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=cv(e,!0);return A1(r,(l,c)=>{bh(r,l,oO(c))},n),t&&(t.finalized_=!1),r}var a9=new n9,cO=a9.produce;function uO(e){return({dispatch:r,getState:n})=>l=>c=>typeof c=="function"?c(r,n,e):l(c)}var i9=uO(),s9=uO,l9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?xh:xh.apply(null,arguments)};function xi(e,t){function r(...n){if(t){let l=t(...n);if(!l)throw new Error($a(0));return{type:e,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>JT(n)&&n.type===e,r}var dO=class xd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,xd.prototype)}static get[Symbol.species](){return xd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new xd(...t[0].concat(this)):new xd(...t.concat(this))}};function _E(e){return Li(e)?cO(e,()=>{}):e}function P0(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function o9(e){return typeof e=="boolean"}var c9=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:l=!0,actionCreatorCheck:c=!0}=t??{};let f=new dO;return r&&(o9(r)?f.push(i9):f.push(s9(r.extraArgument))),f},fO="RTK_autoBatch",Gr=()=>e=>({payload:e,meta:{[fO]:!0}}),ME=e=>t=>{setTimeout(t,e)},hO=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let l=!0,c=!1,f=!1;const p=new Set,b=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ME(10):e.type==="callback"?e.queueNotification:ME(e.timeout),v=()=>{f=!1,c&&(c=!1,p.forEach(w=>w()))};return Object.assign({},n,{subscribe(w){const A=()=>l&&w(),T=n.subscribe(A);return p.add(w),()=>{T(),p.delete(w)}},dispatch(w){var A;try{return l=!((A=w==null?void 0:w.meta)!=null&&A[fO]),c=!l,c&&(f||(f=!0,b(v))),n.dispatch(w)}finally{l=!0}}})},u9=e=>function(r){const{autoBatch:n=!0}=r??{};let l=new dO(e);return n&&l.push(hO(typeof n=="object"?n:void 0)),l};function d9(e){const t=c9(),{reducer:r=void 0,middleware:n,devTools:l=!0,preloadedState:c=void 0,enhancers:f=void 0}=e||{};let p;if(typeof r=="function")p=r;else if(Oy(r))p=QT(r);else throw new Error($a(1));let b;typeof n=="function"?b=n(t):b=t();let v=xh;l&&(v=l9({trace:!1,...typeof l=="object"&&l}));const w=V7(...b),A=u9(w);let T=typeof f=="function"?f(A):A();const _=v(...T);return $T(p,c,_)}function mO(e){const t={},r=[];let n;const l={addCase(c,f){const p=typeof c=="string"?c:c.type;if(!p)throw new Error($a(28));if(p in t)throw new Error($a(29));return t[p]=f,l},addAsyncThunk(c,f){return f.pending&&(t[c.pending.type]=f.pending),f.rejected&&(t[c.rejected.type]=f.rejected),f.fulfilled&&(t[c.fulfilled.type]=f.fulfilled),f.settled&&r.push({matcher:c.settled,reducer:f.settled}),l},addMatcher(c,f){return r.push({matcher:c,reducer:f}),l},addDefaultCase(c){return n=c,l}};return e(l),[t,r,n]}function f9(e){return typeof e=="function"}function h9(e,t){let[r,n,l]=mO(t),c;if(f9(e))c=()=>_E(e());else{const p=_E(e);c=()=>p}function f(p=c(),b){let v=[r[b.type],...n.filter(({matcher:w})=>w(b)).map(({reducer:w})=>w)];return v.filter(w=>!!w).length===0&&(v=[l]),v.reduce((w,A)=>{if(A)if(qs(w)){const _=A(w,b);return _===void 0?w:_}else{if(Li(w))return cO(w,T=>A(T,b));{const T=A(w,b);if(T===void 0){if(w===null)return w;throw Error("A case reducer on a non-draftable value must not return undefined")}return T}}return w},p)}return f.getInitialState=c,f}var m9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",g9=(e=21)=>{let t="",r=e;for(;r--;)t+=m9[Math.random()*64|0];return t},p9=Symbol.for("rtk-slice-createasyncthunk");function x9(e,t){return`${e}/${t}`}function v9({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[p9];return function(l){const{name:c,reducerPath:f=c}=l;if(!c)throw new Error($a(11));const p=(typeof l.reducers=="function"?l.reducers(b9()):l.reducers)||{},b=Object.keys(p),v={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},w={addCase(V,q){const Y=typeof V=="string"?V:V.type;if(!Y)throw new Error($a(12));if(Y in v.sliceCaseReducersByType)throw new Error($a(13));return v.sliceCaseReducersByType[Y]=q,w},addMatcher(V,q){return v.sliceMatchers.push({matcher:V,reducer:q}),w},exposeAction(V,q){return v.actionCreators[V]=q,w},exposeCaseReducer(V,q){return v.sliceCaseReducersByName[V]=q,w}};b.forEach(V=>{const q=p[V],Y={reducerName:V,type:x9(c,V),createNotation:typeof l.reducers=="function"};A9(q)?E9(Y,q,w,t):w9(Y,q,w)});function A(){const[V={},q=[],Y=void 0]=typeof l.extraReducers=="function"?mO(l.extraReducers):[l.extraReducers],L={...V,...v.sliceCaseReducersByType};return h9(l.initialState,ee=>{for(let Z in L)ee.addCase(Z,L[Z]);for(let Z of v.sliceMatchers)ee.addMatcher(Z.matcher,Z.reducer);for(let Z of q)ee.addMatcher(Z.matcher,Z.reducer);Y&&ee.addDefaultCase(Y)})}const T=V=>V,_=new Map,j=new WeakMap;let M;function k(V,q){return M||(M=A()),M(V,q)}function R(){return M||(M=A()),M.getInitialState()}function F(V,q=!1){function Y(ee){let Z=ee[V];return typeof Z>"u"&&q&&(Z=P0(j,Y,R)),Z}function L(ee=T){const Z=P0(_,q,()=>new WeakMap);return P0(Z,ee,()=>{const Ne={};for(const[te,Q]of Object.entries(l.selectors??{}))Ne[te]=y9(Q,ee,()=>P0(j,ee,R),q);return Ne})}return{reducerPath:V,getSelectors:L,get selectors(){return L(Y)},selectSlice:Y}}const U={name:c,reducer:k,actions:v.actionCreators,caseReducers:v.sliceCaseReducersByName,getInitialState:R,...F(f),injectInto(V,{reducerPath:q,...Y}={}){const L=q??f;return V.inject({reducerPath:L,reducer:k},Y),{...U,...F(L,!0)}}};return U}}function y9(e,t,r,n){function l(c,...f){let p=t(c);return typeof p>"u"&&n&&(p=r()),e(p,...f)}return l.unwrapped=e,l}var ja=v9();function b9(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function w9({type:e,reducerName:t,createNotation:r},n,l){let c,f;if("reducer"in n){if(r&&!S9(n))throw new Error($a(17));c=n.reducer,f=n.prepare}else c=n;l.addCase(e,c).exposeCaseReducer(t,c).exposeAction(t,f?xi(e,f):xi(e))}function A9(e){return e._reducerDefinitionType==="asyncThunk"}function S9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function E9({type:e,reducerName:t},r,n,l){if(!l)throw new Error($a(18));const{payloadCreator:c,fulfilled:f,pending:p,rejected:b,settled:v,options:w}=r,A=l(e,c,w);n.exposeAction(t,A),f&&n.addCase(A.fulfilled,f),p&&n.addCase(A.pending,p),b&&n.addCase(A.rejected,b),v&&n.addMatcher(A.settled,v),n.exposeCaseReducer(t,{fulfilled:f||L0,pending:p||L0,rejected:b||L0,settled:v||L0})}function L0(){}var C9="task",gO="listener",pO="completed",jy="cancelled",N9=`task-${jy}`,T9=`task-${pO}`,gv=`${gO}-${jy}`,O9=`${gO}-${pO}`,O1=class{constructor(e){ep(this,"name","TaskAbortError");ep(this,"message");this.code=e,this.message=`${C9} ${jy} (reason: ${e})`}},ky=(e,t)=>{if(typeof e!="function")throw new TypeError($a(32))},Eh=()=>{},xO=(e,t=Eh)=>(e.catch(t),e),vO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Do=e=>{if(e.aborted)throw new O1(e.reason)};function yO(e,t){let r=Eh;return new Promise((n,l)=>{const c=()=>l(new O1(e.reason));if(e.aborted){c();return}r=vO(e,c),t.finally(()=>r()).then(n,l)}).finally(()=>{r=Eh})}var I9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof O1?"cancelled":"rejected",error:r}}finally{t==null||t()}},Ch=e=>t=>xO(yO(e,t).then(r=>(Do(e),r))),bO=e=>{const t=Ch(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:qc}=Object,jE={},I1="listenerMiddleware",_9=(e,t)=>{const r=n=>vO(e,()=>n.abort(e.reason));return(n,l)=>{ky(n);const c=new AbortController;r(c);const f=I9(async()=>{Do(e),Do(c.signal);const p=await n({pause:Ch(c.signal),delay:bO(c.signal),signal:c.signal});return Do(c.signal),p},()=>c.abort(T9));return l!=null&&l.autoJoin&&t.push(f.catch(Eh)),{result:Ch(e)(f),cancel(){c.abort(N9)}}}},M9=(e,t)=>{const r=async(n,l)=>{Do(t);let c=()=>{};const p=[new Promise((b,v)=>{let w=e({predicate:n,effect:(A,T)=>{T.unsubscribe(),b([A,T.getState(),T.getOriginalState()])}});c=()=>{w(),v()}})];l!=null&&p.push(new Promise(b=>setTimeout(b,l,null)));try{const b=await yO(t,Promise.race(p));return Do(t),b}finally{c()}};return(n,l)=>xO(r(n,l))},wO=e=>{let{type:t,actionCreator:r,matcher:n,predicate:l,effect:c}=e;if(t)l=xi(t).match;else if(r)t=r.type,l=r.match;else if(n)l=n;else if(!l)throw new Error($a(21));return ky(c),{predicate:l,type:t,effect:c}},AO=qc(e=>{const{type:t,predicate:r,effect:n}=wO(e);return{id:g9(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error($a(22))}}},{withTypes:()=>AO}),kE=(e,t)=>{const{type:r,effect:n,predicate:l}=wO(t);return Array.from(e.values()).find(c=>(typeof r=="string"?c.type===r:c.predicate===l)&&c.effect===n)},pv=e=>{e.pending.forEach(t=>{t.abort(gv)})},j9=(e,t)=>()=>{for(const r of t.keys())pv(r);e.clear()},DE=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},SO=qc(xi(`${I1}/add`),{withTypes:()=>SO}),k9=xi(`${I1}/removeAll`),EO=qc(xi(`${I1}/remove`),{withTypes:()=>EO}),D9=(...e)=>{console.error(`${I1}/error`,...e)},Qd=(e={})=>{const t=new Map,r=new Map,n=_=>{const j=r.get(_)??0;r.set(_,j+1)},l=_=>{const j=r.get(_)??1;j===1?r.delete(_):r.set(_,j-1)},{extra:c,onError:f=D9}=e;ky(f);const p=_=>(_.unsubscribe=()=>t.delete(_.id),t.set(_.id,_),j=>{_.unsubscribe(),j!=null&&j.cancelActive&&pv(_)}),b=_=>{const j=kE(t,_)??AO(_);return p(j)};qc(b,{withTypes:()=>b});const v=_=>{const j=kE(t,_);return j&&(j.unsubscribe(),_.cancelActive&&pv(j)),!!j};qc(v,{withTypes:()=>v});const w=async(_,j,M,k)=>{const R=new AbortController,F=M9(b,R.signal),U=[];try{_.pending.add(R),n(_),await Promise.resolve(_.effect(j,qc({},M,{getOriginalState:k,condition:(V,q)=>F(V,q).then(Boolean),take:F,delay:bO(R.signal),pause:Ch(R.signal),extra:c,signal:R.signal,fork:_9(R.signal,U),unsubscribe:_.unsubscribe,subscribe:()=>{t.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((V,q,Y)=>{V!==R&&(V.abort(gv),Y.delete(V))})},cancel:()=>{R.abort(gv),_.pending.delete(R)},throwIfCancelled:()=>{Do(R.signal)}})))}catch(V){V instanceof O1||DE(f,V,{raisedBy:"effect"})}finally{await Promise.all(U),R.abort(O9),l(_),_.pending.delete(R)}},A=j9(t,r);return{middleware:_=>j=>M=>{if(!JT(M))return j(M);if(SO.match(M))return b(M.payload);if(k9.match(M)){A();return}if(EO.match(M))return v(M.payload);let k=_.getState();const R=()=>{if(k===jE)throw new Error($a(23));return k};let F;try{if(F=j(M),t.size>0){const U=_.getState(),V=Array.from(t.values());for(const q of V){let Y=!1;try{Y=q.predicate(M,U,k)}catch(L){Y=!1,DE(f,L,{raisedBy:"predicate"})}Y&&w(q,M,_,R)}}}finally{k=jE}return F},startListening:b,stopListening:v,clearListeners:A}};function $a(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var R9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},CO=ja({name:"chartLayout",initialState:R9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,l,c;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(l=t.payload.bottom)!==null&&l!==void 0?l:0,e.margin.left=(c=t.payload.left)!==null&&c!==void 0?c:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:P9,setLayout:L9,setChartSize:B9,setScale:z9}=CO.actions,U9=CO.reducer;function NO(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Gt(e){return Number.isFinite(e)}function is(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function RE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Fc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(r),!0).forEach(function(n){F9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F9(e,t,r){return(t=H9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H9(e){var t=G9(e,"string");return typeof t=="symbol"?t:t+""}function G9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yn(e,t,r){return rn(e)||rn(t)?r:as(t)?Zc(e,t,r):typeof t=="function"?t(e):r}var V9=(e,t,r)=>{if(t&&r){var{width:n,height:l}=r,{align:c,verticalAlign:f,layout:p}=t;if((p==="vertical"||p==="horizontal"&&f==="middle")&&c!=="center"&&tt(e[c]))return Fc(Fc({},e),{},{[c]:e[c]+(n||0)});if((p==="horizontal"||p==="vertical"&&c==="center")&&f!=="middle"&&tt(e[f]))return Fc(Fc({},e),{},{[f]:e[f]+(l||0)})}return e},cs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",TO=(e,t,r,n)=>{if(n)return e.map(p=>p.coordinate);var l,c,f=e.map(p=>(p.coordinate===t&&(l=!0),p.coordinate===r&&(c=!0),p.coordinate));return l||f.push(t),c||f.push(r),f},OO=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:l,range:c,scale:f,realScaleType:p,isCategorical:b,categoricalDomain:v,tickCount:w,ticks:A,niceTicks:T,axisType:_}=e;if(!f)return null;var j=p==="scaleBand"&&f.bandwidth?f.bandwidth()/2:2,M=l==="category"&&f.bandwidth?f.bandwidth()/j:0;if(M=_==="angleAxis"&&c&&c.length>=2?Oa(c[0]-c[1])*2*M:M,A||T){var k=(A||T||[]).map((R,F)=>{var U=n?n.indexOf(R):R,V=f.map(U);return Gt(V)?{coordinate:V+M,value:R,offset:M,index:F}:null}).filter(Ia);return k}return b&&v?v.map((R,F)=>{var U=f.map(R);return Gt(U)?{coordinate:U+M,value:R,index:F,offset:M}:null}).filter(Ia):f.ticks&&w!=null?f.ticks(w).map((R,F)=>{var U=f.map(R);return Gt(U)?{coordinate:U+M,value:R,index:F,offset:M}:null}).filter(Ia):f.domain().map((R,F)=>{var U=f.map(R);return Gt(U)?{coordinate:U+M,value:n?n[R]:R,index:F,offset:M}:null}).filter(Ia)},Y9=(e,t)=>{if(!t||t.length!==2||!tt(t[0])||!tt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),l=[e[0],e[1]];return(!tt(e[0])||e[0]<r)&&(l[0]=r),(!tt(e[1])||e[1]>n)&&(l[1]=n),l[0]>n&&(l[0]=n),l[1]<r&&(l[1]=r),l},q9=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var l=0;l<n;++l)for(var c=0,f=0,p=0;p<r;++p){var b=e[p],v=b==null?void 0:b[l];if(v!=null){var w=v[1],A=v[0],T=Ri(w)?A:w;T>=0?(v[0]=c,c+=T,v[1]=c):(v[0]=f,f+=T,v[1]=f)}}}},X9=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var l=0;l<n;++l)for(var c=0,f=0;f<r;++f){var p=e[f],b=p==null?void 0:p[l];if(b!=null){var v=Ri(b[1])?b[0]:b[1];v>=0?(b[0]=c,c+=v,b[1]=c):(b[0]=0,b[1]=0)}}}},W9={sign:q9,expand:AR,none:zo,silhouette:SR,wiggle:ER,positive:X9},K9=(e,t,r)=>{var n,l=(n=W9[r])!==null&&n!==void 0?n:zo,c=wR().keys(t).value((p,b)=>Number(yn(p,b,0))).order(iv).offset(l),f=c(e);return f.forEach((p,b)=>{p.forEach((v,w)=>{var A=yn(e[w],t[b],0);Array.isArray(A)&&A.length===2&&tt(A[0])&&tt(A[1])&&(v[0]=A[0],v[1]=A[1])})}),f};function IO(e){return e==null?void 0:String(e)}function PE(e){var{axis:t,ticks:r,bandSize:n,entry:l,index:c,dataKey:f}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!rn(l[t.dataKey])){var p=RT(r,"value",l[t.dataKey]);if(p)return p.coordinate+n/2}return r!=null&&r[c]?r[c].coordinate+n/2:null}var b=yn(l,rn(f)?t.dataKey:f),v=t.scale.map(b);return tt(v)?v:null}var LE=e=>{var{axis:t,ticks:r,offset:n,bandSize:l,entry:c,index:f}=e;if(t.type==="category")return r[f]?r[f].coordinate+n:null;var p=yn(c,t.dataKey,t.scale.domain()[f]);if(rn(p))return null;var b=t.scale.map(p);return tt(b)?b-l/2+n:null},Z9=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),l=Math.max(r[0],r[1]);return n<=0&&l>=0?0:l<0?l:n}return r[0]},$9=e=>{var t=e.flat(2).filter(tt);return[Math.min(...t),Math.max(...t)]},Q9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],J9=(e,t,r)=>{if(e!=null)return Q9(Object.keys(e).reduce((n,l)=>{var c=e[l];if(!c)return n;var{stackedData:f}=c,p=f.reduce((b,v)=>{var w=NO(v,t,r),A=$9(w);return!Gt(A[0])||!Gt(A[1])?b:[Math.min(b[0],A[0]),Math.max(b[1],A[1])]},[1/0,-1/0]);return[Math.min(p[0],n[0]),Math.max(p[1],n[1])]},[1/0,-1/0]))},BE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var l=b1(t,w=>w.coordinate),c=1/0,f=1,p=l.length;f<p;f++){var b=l[f],v=l[f-1];c=Math.min(((b==null?void 0:b.coordinate)||0)-((v==null?void 0:v.coordinate)||0),c)}return c===1/0?0:c}return r?void 0:0};function UE(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:l,name:c}=e;return Fc(Fc({},t),{},{dataKey:r,payload:n,value:l,name:c})}function _1(e,t){if(e)return String(e);if(typeof t=="string")return t}var eP=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},tP=(e,t)=>t==="centric"?e.angle:e.radius,Js=e=>e.layout.width,el=e=>e.layout.height,rP=e=>e.layout.scale,_O=e=>e.layout.margin,M1=Se(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),j1=Se(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),nP="data-recharts-item-index",aP="data-recharts-item-id",Jd=60;function FE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function B0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(r),!0).forEach(function(n){iP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iP(e,t,r){return(t=sP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sP(e){var t=lP(e,"string");return typeof t=="symbol"?t:t+""}function lP(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oP=e=>e.brush.height;function cP(e){var t=j1(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var l=typeof n.width=="number"?n.width:Jd;return r+l}return r},0)}function uP(e){var t=j1(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var l=typeof n.width=="number"?n.width:Jd;return r+l}return r},0)}function dP(e){var t=M1(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function fP(e){var t=M1(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Bn=Se([Js,el,_O,oP,cP,uP,dP,fP,ZT,B7],(e,t,r,n,l,c,f,p,b,v)=>{var w={left:(r.left||0)+l,right:(r.right||0)+c},A={top:(r.top||0)+f,bottom:(r.bottom||0)+p},T=B0(B0({},A),w),_=T.bottom;T.bottom+=n,T=V9(T,b,v);var j=e-T.left-T.right,M=t-T.top-T.bottom;return B0(B0({brushBottom:_},T),{},{width:Math.max(j,0),height:Math.max(M,0)})}),hP=Se(Bn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Dy=Se(Js,el,(e,t)=>({x:0,y:0,width:e,height:t})),mP=O.createContext(null),ia=()=>O.useContext(mP)!=null,k1=e=>e.brush,D1=Se([k1,Bn,_O],(e,t,r)=>({height:e.height,x:tt(e.x)?e.x:t.left,y:tt(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:tt(e.width)?e.width:t.width})),cx={},ux={},dx={},HE;function gP(){return HE||(HE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:l,edges:c}={}){let f,p=null;const b=c!=null&&c.includes("leading"),v=c==null||c.includes("trailing"),w=()=>{p!==null&&(r.apply(f,p),f=void 0,p=null)},A=()=>{v&&w(),M()};let T=null;const _=()=>{T!=null&&clearTimeout(T),T=setTimeout(()=>{T=null,A()},n)},j=()=>{T!==null&&(clearTimeout(T),T=null)},M=()=>{j(),f=void 0,p=null},k=()=>{w()},R=function(...F){if(l!=null&&l.aborted)return;f=this,p=F;const U=T==null;_(),b&&U&&w()};return R.schedule=_,R.cancel=M,R.flush=k,l==null||l.addEventListener("abort",M,{once:!0}),R}e.debounce=t})(dx)),dx}var GE;function pP(){return GE||(GE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gP();function r(n,l=0,c={}){typeof c!="object"&&(c={});const{leading:f=!1,trailing:p=!0,maxWait:b}=c,v=Array(2);f&&(v[0]="leading"),p&&(v[1]="trailing");let w,A=null;const T=t.debounce(function(...M){w=n.apply(this,M),A=null},l,{edges:v}),_=function(...M){return b!=null&&(A===null&&(A=Date.now()),Date.now()-A>=b)?(w=n.apply(this,M),A=Date.now(),T.cancel(),T.schedule(),w):(T.apply(this,M),w)},j=()=>(T.flush(),w);return _.cancel=T.cancel,_.flush=j,_}e.debounce=r})(ux)),ux}var VE;function xP(){return VE||(VE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pP();function r(n,l=0,c={}){const{leading:f=!0,trailing:p=!0}=c;return t.debounce(n,l,{leading:f,maxWait:l,trailing:p})}e.throttle=r})(cx)),cx}var fx,YE;function vP(){return YE||(YE=1,fx=xP().throttle),fx}var yP=vP();const bP=ls(yP);var Nh=function(t,r){for(var n=arguments.length,l=new Array(n>2?n-2:0),c=2;c<n;c++)l[c-2]=arguments[c];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=0;console.warn(r.replace(/%s/g,()=>l[f++]))}},ts={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},MO=(e,t,r)=>{var{width:n=ts.width,height:l=ts.height,aspect:c,maxHeight:f}=r,p=Uo(n)?e:Number(n),b=Uo(l)?t:Number(l);return c&&c>0&&(p?b=p/c:b&&(p=b*c),f&&b!=null&&b>f&&(b=f)),{calculatedWidth:p,calculatedHeight:b}},wP={width:0,height:0,overflow:"visible"},AP={width:0,overflowX:"visible"},SP={height:0,overflowY:"visible"},EP={},CP=e=>{var{width:t,height:r}=e,n=Uo(t),l=Uo(r);return n&&l?wP:n?AP:l?SP:EP};function NP(e){var{width:t,height:r,aspect:n}=e,l=t,c=r;return l===void 0&&c===void 0?(l=ts.width,c=ts.height):l===void 0?l=n&&n>0?void 0:ts.width:c===void 0&&(c=n&&n>0?void 0:ts.height),{width:l,height:c}}function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xv.apply(null,arguments)}function qE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function XE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(r),!0).forEach(function(n){TP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TP(e,t,r){return(t=OP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OP(e){var t=IP(e,"string");return typeof t=="symbol"?t:t+""}function IP(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jO=O.createContext(ts.initialDimension);function _P(e){return is(e.width)&&is(e.height)}function kO(e){var{children:t,width:r,height:n}=e,l=O.useMemo(()=>({width:r,height:n}),[r,n]);return _P(l)?O.createElement(jO.Provider,{value:l},t):null}var Ry=()=>O.useContext(jO),MP=O.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=ts.initialDimension,width:l,height:c,minWidth:f=ts.minWidth,minHeight:p,maxHeight:b,children:v,debounce:w=ts.debounce,id:A,className:T,onResize:_,style:j={}}=e,M=O.useRef(null),k=O.useRef();k.current=_,O.useImperativeHandle(t,()=>M.current);var[R,F]=O.useState({containerWidth:n.width,containerHeight:n.height}),U=O.useCallback((ee,Z)=>{F(Ne=>{var te=Math.round(ee),Q=Math.round(Z);return Ne.containerWidth===te&&Ne.containerHeight===Q?Ne:{containerWidth:te,containerHeight:Q}})},[]);O.useEffect(()=>{if(M.current==null||typeof ResizeObserver>"u")return Ko;var ee=Q=>{var ie,be=Q[0];if(be!=null){var{width:X,height:re}=be.contentRect;U(X,re),(ie=k.current)===null||ie===void 0||ie.call(k,X,re)}};w>0&&(ee=bP(ee,w,{trailing:!0,leading:!1}));var Z=new ResizeObserver(ee),{width:Ne,height:te}=M.current.getBoundingClientRect();return U(Ne,te),Z.observe(M.current),()=>{Z.disconnect()}},[U,w]);var{containerWidth:V,containerHeight:q}=R;Nh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:Y,calculatedHeight:L}=MO(V,q,{width:l,height:c,aspect:r,maxHeight:b});return Nh(Y!=null&&Y>0||L!=null&&L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,L,l,c,f,p,r),O.createElement("div",{id:A?"".concat(A):void 0,className:Cr("recharts-responsive-container",T),style:XE(XE({},j),{},{width:l,height:c,minWidth:f,minHeight:p,maxHeight:b}),ref:M},O.createElement("div",{style:CP({width:l,height:c})},O.createElement(kO,{width:Y,height:L},v)))}),eh=O.forwardRef((e,t)=>{var r=Ry();if(is(r.width)&&is(r.height))return e.children;var{width:n,height:l}=NP({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:c,calculatedHeight:f}=MO(void 0,void 0,{width:n,height:l,aspect:e.aspect,maxHeight:e.maxHeight});return tt(c)&&tt(f)?O.createElement(kO,{width:c,height:f},e.children):O.createElement(MP,xv({},e,{width:n,height:l,ref:t}))});function Py(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var R1=()=>{var e,t=ia(),r=xt(hP),n=xt(D1),l=(e=xt(k1))===null||e===void 0?void 0:e.padding;return!t||!n||!l?r:{width:n.width-l.left-l.right,height:n.height-l.top-l.bottom,x:l.left,y:l.top}},jP={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},DO=()=>{var e;return(e=xt(Bn))!==null&&e!==void 0?e:jP},RO=()=>xt(Js),PO=()=>xt(el),fr=e=>e.layout.layoutType,Zo=()=>xt(fr),Ly=()=>{var e=Zo();if(e==="horizontal"||e==="vertical")return e},LO=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},kP=()=>{var e=Zo();return e!==void 0},ef=e=>{var t=fn(),r=ia(),{width:n,height:l}=e,c=Ry(),f=n,p=l;return c&&(f=c.width>0?c.width:n,p=c.height>0?c.height:l),O.useEffect(()=>{!r&&is(f)&&is(p)&&t(B9({width:f,height:p}))},[t,r,f,p]),null},BO=Symbol.for("immer-nothing"),WE=Symbol.for("immer-draftable"),Ja=Symbol.for("immer-state");function ji(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var kd=Object.getPrototypeOf;function Jc(e){return!!e&&!!e[Ja]}function Ho(e){var t;return e?zO(e)||Array.isArray(e)||!!e[WE]||!!((t=e.constructor)!=null&&t[WE])||tf(e)||L1(e):!1}var DP=Object.prototype.constructor.toString(),KE=new WeakMap;function zO(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=KE.get(r);return n===void 0&&(n=Function.toString.call(r),KE.set(r,n)),n===DP}function Th(e,t,r=!0){P1(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(l=>{t(l,e[l],e)}):e.forEach((n,l)=>t(l,n,e))}function P1(e){const t=e[Ja];return t?t.type_:Array.isArray(e)?1:tf(e)?2:L1(e)?3:0}function vv(e,t){return P1(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function UO(e,t,r){const n=P1(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function RP(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function tf(e){return e instanceof Map}function L1(e){return e instanceof Set}function No(e){return e.copy_||e.base_}function yv(e,t){if(tf(e))return new Map(e);if(L1(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=zO(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ja];let l=Reflect.ownKeys(n);for(let c=0;c<l.length;c++){const f=l[c],p=n[f];p.writable===!1&&(p.writable=!0,p.configurable=!0),(p.get||p.set)&&(n[f]={configurable:!0,writable:!0,enumerable:p.enumerable,value:e[f]})}return Object.create(kd(e),n)}else{const n=kd(e);if(n!==null&&r)return{...e};const l=Object.create(n);return Object.assign(l,e)}}function By(e,t=!1){return B1(e)||Jc(e)||!Ho(e)||(P1(e)>1&&Object.defineProperties(e,{set:z0,add:z0,clear:z0,delete:z0}),Object.freeze(e),t&&Object.values(e).forEach(r=>By(r,!0))),e}function PP(){ji(2)}var z0={value:PP};function B1(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var LP={};function Go(e){const t=LP[e];return t||ji(0,e),t}var Dd;function FO(){return Dd}function BP(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ZE(e,t){t&&(Go("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function bv(e){wv(e),e.drafts_.forEach(zP),e.drafts_=null}function wv(e){e===Dd&&(Dd=e.parent_)}function $E(e){return Dd=BP(Dd,e)}function zP(e){const t=e[Ja];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function QE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ja].modified_&&(bv(t),ji(4)),Ho(e)&&(e=Oh(t,e),t.parent_||Ih(t,e)),t.patches_&&Go("Patches").generateReplacementPatches_(r[Ja].base_,e,t.patches_,t.inversePatches_)):e=Oh(t,r,[]),bv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==BO?e:void 0}function Oh(e,t,r){if(B1(t))return t;const n=e.immer_.shouldUseStrictIteration(),l=t[Ja];if(!l)return Th(t,(c,f)=>JE(e,l,t,c,f,r),n),t;if(l.scope_!==e)return t;if(!l.modified_)return Ih(e,l.base_,!0),l.base_;if(!l.finalized_){l.finalized_=!0,l.scope_.unfinalizedDrafts_--;const c=l.copy_;let f=c,p=!1;l.type_===3&&(f=new Set(c),c.clear(),p=!0),Th(f,(b,v)=>JE(e,l,c,b,v,r,p),n),Ih(e,c,!1),r&&e.patches_&&Go("Patches").generatePatches_(l,r,e.patches_,e.inversePatches_)}return l.copy_}function JE(e,t,r,n,l,c,f){if(l==null||typeof l!="object"&&!f)return;const p=B1(l);if(!(p&&!f)){if(Jc(l)){const b=c&&t&&t.type_!==3&&!vv(t.assigned_,n)?c.concat(n):void 0,v=Oh(e,l,b);if(UO(r,n,v),Jc(v))e.canAutoFreeze_=!1;else return}else f&&r.add(l);if(Ho(l)&&!p){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===l&&p)return;Oh(e,l),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(tf(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Ih(e,l)}}}function Ih(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&By(t,r)}function UP(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:FO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=n,c=zy;r&&(l=[n],c=Rd);const{revoke:f,proxy:p}=Proxy.revocable(l,c);return n.draft_=p,n.revoke_=f,p}var zy={get(e,t){if(t===Ja)return e;const r=No(e);if(!vv(r,t))return FP(e,r,t);const n=r[t];return e.finalized_||!Ho(n)?n:n===hx(e.base_,t)?(mx(e),e.copy_[t]=Sv(n,e)):n},has(e,t){return t in No(e)},ownKeys(e){return Reflect.ownKeys(No(e))},set(e,t,r){const n=HO(No(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const l=hx(No(e),t),c=l==null?void 0:l[Ja];if(c&&c.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(RP(r,l)&&(r!==void 0||vv(e.base_,t)))return!0;mx(e),Av(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return hx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,mx(e),Av(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=No(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ji(11)},getPrototypeOf(e){return kd(e.base_)},setPrototypeOf(){ji(12)}},Rd={};Th(zy,(e,t)=>{Rd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Rd.deleteProperty=function(e,t){return Rd.set.call(this,e,t,void 0)};Rd.set=function(e,t,r){return zy.set.call(this,e[0],t,r,e[0])};function hx(e,t){const r=e[Ja];return(r?No(r):e)[t]}function FP(e,t,r){var l;const n=HO(t,r);return n?"value"in n?n.value:(l=n.get)==null?void 0:l.call(e.draft_):void 0}function HO(e,t){if(!(t in e))return;let r=kd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=kd(r)}}function Av(e){e.modified_||(e.modified_=!0,e.parent_&&Av(e.parent_))}function mx(e){e.copy_||(e.copy_=yv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var HP=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const c=r;r=t;const f=this;return function(b=c,...v){return f.produce(b,w=>r.call(this,w,...v))}}typeof r!="function"&&ji(6),n!==void 0&&typeof n!="function"&&ji(7);let l;if(Ho(t)){const c=$E(this),f=Sv(t,void 0);let p=!0;try{l=r(f),p=!1}finally{p?bv(c):wv(c)}return ZE(c,n),QE(l,c)}else if(!t||typeof t!="object"){if(l=r(t),l===void 0&&(l=t),l===BO&&(l=void 0),this.autoFreeze_&&By(l,!0),n){const c=[],f=[];Go("Patches").generateReplacementPatches_(t,l,c,f),n(c,f)}return l}else ji(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(f,...p)=>this.produceWithPatches(f,b=>t(b,...p));let n,l;return[this.produce(t,r,(f,p)=>{n=f,l=p}),n,l]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ho(e)||ji(8),Jc(e)&&(e=GP(e));const t=$E(this),r=Sv(e,void 0);return r[Ja].isManual_=!0,wv(t),r}finishDraft(e,t){const r=e&&e[Ja];(!r||!r.isManual_)&&ji(9);const{scope_:n}=r;return ZE(n,t),QE(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const l=t[r];if(l.path.length===0&&l.op==="replace"){e=l.value;break}}r>-1&&(t=t.slice(r+1));const n=Go("Patches").applyPatches_;return Jc(e)?n(e,t):this.produce(e,l=>n(l,t))}};function Sv(e,t){const r=tf(e)?Go("MapSet").proxyMap_(e,t):L1(e)?Go("MapSet").proxySet_(e,t):UP(e,t);return(t?t.scope_:FO()).drafts_.push(r),r}function GP(e){return Jc(e)||ji(10,e),GO(e)}function GO(e){if(!Ho(e)||B1(e))return e;const t=e[Ja];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=yv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=yv(e,!0);return Th(r,(l,c)=>{UO(r,l,GO(c))},n),t&&(t.finalized_=!1),r}var VP=new HP;VP.produce;var YP={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},VO=ja({name:"legend",initialState:YP,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Gr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,l=Di(e).payload.indexOf(r);l>-1&&(e.payload[l]=n)},prepare:Gr()},removeLegendPayload:{reducer(e,t){var r=Di(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Gr()}}}),{setLegendSize:tQ,setLegendSettings:rQ,addLegendPayload:qP,replaceLegendPayload:XP,removeLegendPayload:WP}=VO.actions,KP=VO.reducer;function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ev.apply(null,arguments)}function eC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eC(Object(r),!0).forEach(function(n){ZP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZP(e,t,r){return(t=$P(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $P(e){var t=QP(e,"string");return typeof t=="symbol"?t:t+""}function QP(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JP(e){return Array.isArray(e)&&as(e[0])&&as(e[1])?e.join(" ~ "):e}var Pc={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},eL=e=>{var{separator:t=Pc.separator,contentStyle:r,itemStyle:n,labelStyle:l=Pc.labelStyle,payload:c,formatter:f,itemSorter:p,wrapperClassName:b,labelClassName:v,label:w,labelFormatter:A,accessibilityLayer:T=Pc.accessibilityLayer}=e,_=()=>{if(c&&c.length){var q={padding:0,margin:0},Y=(p?b1(c,p):c).map((L,ee)=>{if(L.type==="none")return null;var Z=L.formatter||f||JP,{value:Ne,name:te}=L,Q=Ne,ie=te;if(Z){var be=Z(Ne,te,L,ee,c);if(Array.isArray(be))[Q,ie]=be;else if(be!=null)Q=be;else return null}var X=od(od({},Pc.itemStyle),{},{color:L.color||Pc.itemStyle.color},n);return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:X},as(ie)?O.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,as(ie)?O.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,O.createElement("span",{className:"recharts-tooltip-item-value"},Q),O.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:q},Y)}return null},j=od(od({},Pc.contentStyle),r),M=od({margin:0},l),k=!rn(w),R=k?w:"",F=Cr("recharts-default-tooltip",b),U=Cr("recharts-tooltip-label",v);k&&A&&c!==void 0&&c!==null&&(R=A(w,c));var V=T?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",Ev({className:F,style:j},V),O.createElement("p",{className:U,style:M},O.isValidElement(R)?R:"".concat(R)),_())},cd="recharts-tooltip-wrapper",tL={visibility:"hidden"};function rL(e){var{coordinate:t,translateX:r,translateY:n}=e;return Cr(cd,{["".concat(cd,"-right")]:tt(r)&&t&&tt(t.x)&&r>=t.x,["".concat(cd,"-left")]:tt(r)&&t&&tt(t.x)&&r<t.x,["".concat(cd,"-bottom")]:tt(n)&&t&&tt(t.y)&&n>=t.y,["".concat(cd,"-top")]:tt(n)&&t&&tt(t.y)&&n<t.y})}function tC(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:l,position:c,reverseDirection:f,tooltipDimension:p,viewBox:b,viewBoxDimension:v}=e;if(c&&tt(c[n]))return c[n];var w=r[n]-p-(l>0?l:0),A=r[n]+l;if(t[n])return f[n]?w:A;var T=b[n];if(T==null)return 0;if(f[n]){var _=w,j=T;return _<j?Math.max(A,T):Math.max(w,T)}if(v==null)return 0;var M=A+p,k=T+v;return M>k?Math.max(w,T):Math.max(A,T)}function nL(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function aL(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:l,position:c,reverseDirection:f,tooltipBox:p,useTranslate3d:b,viewBox:v}=e,w,A,T;return p.height>0&&p.width>0&&r?(A=tC({allowEscapeViewBox:t,coordinate:r,key:"x",offset:l,position:c,reverseDirection:f,tooltipDimension:p.width,viewBox:v,viewBoxDimension:v.width}),T=tC({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:c,reverseDirection:f,tooltipDimension:p.height,viewBox:v,viewBoxDimension:v.height}),w=nL({translateX:A,translateY:T,useTranslate3d:b})):w=tL,{cssProperties:w,cssClasses:rL({translateX:A,translateY:T,coordinate:r})}}function rC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function U0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(r),!0).forEach(function(n){Cv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cv(e,t,r){return(t=iL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iL(e){var t=sL(e,"string");return typeof t=="symbol"?t:t+""}function sL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class lL extends O.PureComponent{constructor(){super(...arguments),Cv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Cv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,l,c;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(l=(c=this.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&l!==void 0?l:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:l,children:c,coordinate:f,hasPayload:p,isAnimationActive:b,offset:v,position:w,reverseDirection:A,useTranslate3d:T,viewBox:_,wrapperStyle:j,lastBoundingBox:M,innerRef:k,hasPortalFromProps:R}=this.props,F=typeof v=="number"?v:v.x,U=typeof v=="number"?v:v.y,{cssClasses:V,cssProperties:q}=aL({allowEscapeViewBox:r,coordinate:f,offsetLeft:F,offsetTop:U,position:w,reverseDirection:A,tooltipBox:{height:M.height,width:M.width},useTranslate3d:T,viewBox:_}),Y=R?{}:U0(U0({transition:b&&t?"transform ".concat(n,"ms ").concat(l):void 0},q),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&p?"visible":"hidden",position:"absolute",top:0,left:0}),L=U0(U0({},Y),{},{visibility:!this.state.dismissed&&t&&p?"visible":"hidden"},j);return O.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:V,style:L,ref:k},c)}}var YO=()=>{var e;return(e=xt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nv.apply(null,arguments)}function nC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function aC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nC(Object(r),!0).forEach(function(n){oL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oL(e,t,r){return(t=cL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cL(e){var t=uL(e,"string");return typeof t=="symbol"?t:t+""}function uL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iC={curveBasisClosed:uR,curveBasisOpen:dR,curveBasis:cR,curveBumpX:KD,curveBumpY:ZD,curveLinearClosed:fR,curveLinear:v1,curveMonotoneX:hR,curveMonotoneY:mR,curveNatural:gR,curveStep:pR,curveStepAfter:vR,curveStepBefore:xR},_h=e=>Gt(e.x)&&Gt(e.y),sC=e=>e.base!=null&&_h(e.base)&&_h(e),ud=e=>e.x,dd=e=>e.y,dL=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Zd(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=iC["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return iC[r]||v1},lC={connectNulls:!1,type:"linear"},fL=e=>{var{type:t=lC.type,points:r=[],baseLine:n,layout:l,connectNulls:c=lC.connectNulls}=e,f=dL(t,l),p=c?r.filter(_h):r;if(Array.isArray(n)){var b,v=r.map((j,M)=>aC(aC({},j),{},{base:n[M]}));l==="vertical"?b=j0().y(dd).x1(ud).x0(j=>j.base.x):b=j0().x(ud).y1(dd).y0(j=>j.base.y);var w=b.defined(sC).curve(f),A=c?v.filter(sC):v;return w(A)}var T;l==="vertical"&&tt(n)?T=j0().y(dd).x1(ud).x0(n):tt(n)?T=j0().x(ud).y1(dd).y0(n):T=AT().x(ud).y(dd);var _=T.defined(_h).curve(f);return _(p)},wd=e=>{var{className:t,points:r,path:n,pathRef:l}=e,c=Zo();if((!r||!r.length)&&!n)return null;var f={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||c,connectNulls:e.connectNulls},p=r&&r.length?fL(f):n;return O.createElement("path",Nv({},pi(e),Sy(e),{className:Cr("recharts-curve",t),d:p===null?void 0:p,ref:l}))},hL=["x","y","top","left","width","height","className"];function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(null,arguments)}function oC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function mL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(r),!0).forEach(function(n){gL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gL(e,t,r){return(t=pL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pL(e){var t=xL(e,"string");return typeof t=="symbol"?t:t+""}function xL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vL(e,t){if(e==null)return{};var r,n,l=yL(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function yL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bL=(e,t,r,n,l,c)=>"M".concat(e,",").concat(l,"v").concat(n,"M").concat(c,",").concat(t,"h").concat(r),wL=e=>{var{x:t=0,y:r=0,top:n=0,left:l=0,width:c=0,height:f=0,className:p}=e,b=vL(e,hL),v=mL({x:t,y:r,top:n,left:l,width:c,height:f},b);return!tt(t)||!tt(r)||!tt(c)||!tt(f)||!tt(n)||!tt(l)?null:O.createElement("path",Tv({},ha(v),{className:Cr("recharts-cross",p),d:bL(t,r,c,f,n,l)}))};function AL(e,t,r,n){var l=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-l:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-l,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function uC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(r),!0).forEach(function(n){SL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SL(e,t,r){return(t=EL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EL(e){var t=CL(e,"string");return typeof t=="symbol"?t:t+""}function CL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NL=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),qO=(e,t,r)=>e.map(n=>"".concat(NL(n)," ").concat(t,"ms ").concat(r)).join(","),TL=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(l=>n.includes(l))),Pd=(e,t)=>Object.keys(t).reduce((r,n)=>uC(uC({},r),{},{[n]:e(n,t[n])}),{});function dC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(r),!0).forEach(function(n){OL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OL(e,t,r){return(t=IL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IL(e){var t=_L(e,"string");return typeof t=="symbol"?t:t+""}function _L(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mh=(e,t,r)=>e+(t-e)*r,Ov=e=>{var{from:t,to:r}=e;return t!==r},XO=(e,t,r)=>{var n=Pd((l,c)=>{if(Ov(c)){var[f,p]=e(c.from,c.to,c.velocity);return Nn(Nn({},c),{},{from:f,velocity:p})}return c},t);return r<1?Pd((l,c)=>Ov(c)&&n[l]!=null?Nn(Nn({},c),{},{velocity:Mh(c.velocity,n[l].velocity,r),from:Mh(c.from,n[l].from,r)}):c,t):XO(e,n,r-1)};function ML(e,t,r,n,l,c){var f,p=n.reduce((T,_)=>Nn(Nn({},T),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),b=()=>Pd((T,_)=>_.from,p),v=()=>!Object.values(p).filter(Ov).length,w=null,A=T=>{f||(f=T);var _=T-f,j=_/r.dt;p=XO(r,p,j),l(Nn(Nn(Nn({},e),t),b())),f=T,v()||(w=c.setTimeout(A))};return()=>(w=c.setTimeout(A),()=>{var T;(T=w)===null||T===void 0||T()})}function jL(e,t,r,n,l,c,f){var p=null,b=l.reduce((A,T)=>{var _=e[T],j=t[T];return _==null||j==null?A:Nn(Nn({},A),{},{[T]:[_,j]})},{}),v,w=A=>{v||(v=A);var T=(A-v)/n,_=Pd((M,k)=>Mh(...k,r(T)),b);if(c(Nn(Nn(Nn({},e),t),_)),T<1)p=f.setTimeout(w);else{var j=Pd((M,k)=>Mh(...k,r(1)),b);c(Nn(Nn(Nn({},e),t),j))}};return()=>(p=f.setTimeout(w),()=>{var A;(A=p)===null||A===void 0||A()})}const kL=(e,t,r,n,l,c)=>{var f=TL(e,t);return r==null?()=>(l(Nn(Nn({},e),t)),()=>{}):r.isStepper===!0?ML(e,t,r,f,l,c):jL(e,t,r,n,f,l,c)};var jh=1e-4,WO=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],KO=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),fC=(e,t)=>r=>{var n=WO(e,t);return KO(n,r)},DL=(e,t)=>r=>{var n=WO(e,t),l=[...n.map((c,f)=>c*f).slice(1),0];return KO(l,r)},RL=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var l=n.map(c=>parseFloat(c));return[l[0],l[1],l[2],l[3]]},PL=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var l=RL(r[0]);if(l)return l}}return r.length===4?r:[0,0,1,1]},LL=(e,t,r,n)=>{var l=fC(e,r),c=fC(t,n),f=DL(e,r),p=v=>v>1?1:v<0?0:v,b=v=>{for(var w=v>1?1:v,A=w,T=0;T<8;++T){var _=l(A)-w,j=f(A);if(Math.abs(_-w)<jh||j<jh)return c(A);A=p(A-_/j)}return c(A)};return b.isStepper=!1,b},hC=function(){return LL(...PL(...arguments))},BL=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:l=17}=t,c=(f,p,b)=>{var v=-(f-p)*r,w=b*n,A=b+(v-w)*l/1e3,T=b*l/1e3+f;return Math.abs(T-p)<jh&&Math.abs(A)<jh?[p,0]:[T,A]};return c.isStepper=!0,c.dt=l,c},zL=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hC(e);case"spring":return BL();default:if(e.split("(")[0]==="cubic-bezier")return hC(e)}return typeof e=="function"?e:null};function UL(e){var t,r=()=>null,n=!1,l=null,c=f=>{if(!n){if(Array.isArray(f)){if(!f.length)return;var p=f,[b,...v]=p;if(typeof b=="number"){l=e.setTimeout(c.bind(null,v),b);return}c(b),l=e.setTimeout(c.bind(null,v));return}typeof f=="string"&&(t=f,r(t)),typeof f=="object"&&(t=f,r(t)),typeof f=="function"&&f()}};return{stop:()=>{n=!0},start:f=>{n=!1,l&&(l(),l=null),c(f)},subscribe:f=>(r=f,()=>{r=()=>null}),getTimeoutController:()=>e}}class FL{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),l=null,c=f=>{f-n>=r?t(f):typeof requestAnimationFrame=="function"&&(l=requestAnimationFrame(c))};return l=requestAnimationFrame(c),()=>{l!=null&&cancelAnimationFrame(l)}}}function HL(){return UL(new FL)}var GL=O.createContext(HL);function VL(e,t){var r=O.useContext(GL);return O.useMemo(()=>t??r(e),[e,t,r])}var YL=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rf={isSsr:YL()},qL={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},mC={t:0},gx={t:1};function z1(e){var t=xa(e,qL),{isActive:r,canBegin:n,duration:l,easing:c,begin:f,onAnimationEnd:p,onAnimationStart:b,children:v}=t,w=r==="auto"?!rf.isSsr:r,A=VL(t.animationId,t.animationManager),[T,_]=O.useState(w?mC:gx),j=O.useRef(null);return O.useEffect(()=>{w||_(gx)},[w]),O.useEffect(()=>{if(!w||!n)return Ko;var M=kL(mC,gx,zL(c),l,_,A.getTimeoutController()),k=()=>{j.current=M()};return A.start([b,f,k,l,p]),()=>{A.stop(),j.current&&j.current(),p()}},[w,n,l,c,f,b,p,A]),v(T.t)}function U1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=O.useRef(Id(t)),n=O.useRef(e);return n.current!==e&&(r.current=Id(t),n.current=e),r.current}var XL=["radius"],WL=["radius"],gC,pC,xC,vC,yC,bC,wC,AC,SC,EC;function CC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function NC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(r),!0).forEach(function(n){KL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KL(e,t,r){return(t=ZL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZL(e){var t=$L(e,"string");return typeof t=="symbol"?t:t+""}function $L(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kh.apply(null,arguments)}function TC(e,t){if(e==null)return{};var r,n,l=QL(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function QL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var OC=(e,t,r,n,l)=>{var c=Gl(r),f=Gl(n),p=Math.min(Math.abs(c)/2,Math.abs(f)/2),b=f>=0?1:-1,v=c>=0?1:-1,w=f>=0&&c>=0||f<0&&c<0?1:0,A;if(p>0&&Array.isArray(l)){for(var T=[0,0,0,0],_=0,j=4;_<j;_++){var M,k=(M=l[_])!==null&&M!==void 0?M:0;T[_]=k>p?p:k}A=tn(gC||(gC=$i(["M",",",""])),e,t+b*T[0]),T[0]>0&&(A+=tn(pC||(pC=$i(["A ",",",",0,0,",",",",",""])),T[0],T[0],w,e+v*T[0],t)),A+=tn(xC||(xC=$i(["L ",",",""])),e+r-v*T[1],t),T[1]>0&&(A+=tn(vC||(vC=$i(["A ",",",",0,0,",`,
        `,",",""])),T[1],T[1],w,e+r,t+b*T[1])),A+=tn(yC||(yC=$i(["L ",",",""])),e+r,t+n-b*T[2]),T[2]>0&&(A+=tn(bC||(bC=$i(["A ",",",",0,0,",`,
        `,",",""])),T[2],T[2],w,e+r-v*T[2],t+n)),A+=tn(wC||(wC=$i(["L ",",",""])),e+v*T[3],t+n),T[3]>0&&(A+=tn(AC||(AC=$i(["A ",",",",0,0,",`,
        `,",",""])),T[3],T[3],w,e,t+n-b*T[3])),A+="Z"}else if(p>0&&l===+l&&l>0){var R=Math.min(p,l);A=tn(SC||(SC=$i(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+b*R,R,R,w,e+v*R,t,e+r-v*R,t,R,R,w,e+r,t+b*R,e+r,t+n-b*R,R,R,w,e+r-v*R,t+n,e+v*R,t+n,R,R,w,e,t+n-b*R)}else A=tn(EC||(EC=$i(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return A},IC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZO=e=>{var t=xa(e,IC),r=O.useRef(null),[n,l]=O.useState(-1);O.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var se=r.current.getTotalLength();se&&l(se)}catch{}},[]);var{x:c,y:f,width:p,height:b,radius:v,className:w}=t,{animationEasing:A,animationDuration:T,animationBegin:_,isAnimationActive:j,isUpdateAnimationActive:M}=t,k=O.useRef(p),R=O.useRef(b),F=O.useRef(c),U=O.useRef(f),V=O.useMemo(()=>({x:c,y:f,width:p,height:b,radius:v}),[c,f,p,b,v]),q=U1(V,"rectangle-");if(c!==+c||f!==+f||p!==+p||b!==+b||p===0||b===0)return null;var Y=Cr("recharts-rectangle",w);if(!M){var L=ha(t),{radius:ee}=L,Z=TC(L,XL);return O.createElement("path",kh({},Z,{x:Gl(c),y:Gl(f),width:Gl(p),height:Gl(b),radius:typeof v=="number"?v:void 0,className:Y,d:OC(c,f,p,b,v)}))}var Ne=k.current,te=R.current,Q=F.current,ie=U.current,be="0px ".concat(n===-1?1:n,"px"),X="".concat(n,"px 0px"),re=qO(["strokeDasharray"],T,typeof A=="string"?A:IC.animationEasing);return O.createElement(z1,{animationId:q,key:q,canBegin:n>0,duration:T,easing:A,isActive:M,begin:_},se=>{var de=Xr(Ne,p,se),xe=Xr(te,b,se),Me=Xr(Q,c,se),$=Xr(ie,f,se);r.current&&(k.current=de,R.current=xe,F.current=Me,U.current=$);var ue;j?se>0?ue={transition:re,strokeDasharray:X}:ue={strokeDasharray:be}:ue={strokeDasharray:X};var Te=ha(t),{radius:Pe}=Te,Qe=TC(Te,WL);return O.createElement("path",kh({},Qe,{radius:typeof v=="number"?v:void 0,className:Y,d:OC(Me,$,de,xe,v),ref:r,style:NC(NC({},ue),t.style)}))})};function _C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function MC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(r),!0).forEach(function(n){JL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JL(e,t,r){return(t=eB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eB(e){var t=tB(e,"string");return typeof t=="symbol"?t:t+""}function tB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dh=Math.PI/180,rB=e=>e*180/Math.PI,Jn=(e,t,r,n)=>({x:e+Math.cos(-Dh*n)*r,y:t+Math.sin(-Dh*n)*r}),nB=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},aB=(e,t)=>{var{x:r,y:n}=e,{x:l,y:c}=t;return Math.sqrt((r-l)**2+(n-c)**2)},iB=(e,t)=>{var{x:r,y:n}=e,{cx:l,cy:c}=t,f=aB({x:r,y:n},{x:l,y:c});if(f<=0)return{radius:f,angle:0};var p=(r-l)/f,b=Math.acos(p);return n>c&&(b=2*Math.PI-b),{radius:f,angle:rB(b),angleInRadian:b}},sB=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),l=Math.floor(r/360),c=Math.min(n,l);return{startAngle:t-c*360,endAngle:r-c*360}},lB=(e,t)=>{var{startAngle:r,endAngle:n}=t,l=Math.floor(r/360),c=Math.floor(n/360),f=Math.min(l,c);return e+f*360},oB=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:l,angle:c}=iB({x:r,y:n},t),{innerRadius:f,outerRadius:p}=t;if(l<f||l>p||l===0)return null;var{startAngle:b,endAngle:v}=sB(t),w=c,A;if(b<=v){for(;w>v;)w-=360;for(;w<b;)w+=360;A=w>=b&&w<=v}else{for(;w>b;)w-=360;for(;w<v;)w+=360;A=w>=v&&w<=b}return A?MC(MC({},t),{},{radius:l,angle:lB(w,t)}):null};function $O(e){var{cx:t,cy:r,radius:n,startAngle:l,endAngle:c}=e,f=Jn(t,r,n,l),p=Jn(t,r,n,c);return{points:[f,p],cx:t,cy:r,radius:n,startAngle:l,endAngle:c}}var jC,kC,DC,RC,PC,LC,BC;function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iv.apply(null,arguments)}function Io(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var cB=(e,t)=>{var r=Oa(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},F0=e=>{var{cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:f,cornerRadius:p,cornerIsExternal:b}=e,v=p*(f?1:-1)+n,w=Math.asin(p/v)/Dh,A=b?l:l+c*w,T=Jn(t,r,v,A),_=Jn(t,r,n,A),j=b?l-c*w:l,M=Jn(t,r,v*Math.cos(w*Dh),j);return{center:T,circleTangency:_,lineTangency:M,theta:w}},QO=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:l,startAngle:c,endAngle:f}=e,p=cB(c,f),b=c+p,v=Jn(t,r,l,c),w=Jn(t,r,l,b),A=tn(jC||(jC=Io(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),v.x,v.y,l,l,+(Math.abs(p)>180),+(c>b),w.x,w.y);if(n>0){var T=Jn(t,r,n,c),_=Jn(t,r,n,b);A+=tn(kC||(kC=Io(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,n,n,+(Math.abs(p)>180),+(c<=b),T.x,T.y)}else A+=tn(DC||(DC=Io(["L ",","," Z"])),t,r);return A},uB=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:l,cornerRadius:c,forceCornerRadius:f,cornerIsExternal:p,startAngle:b,endAngle:v}=e,w=Oa(v-b),{circleTangency:A,lineTangency:T,theta:_}=F0({cx:t,cy:r,radius:l,angle:b,sign:w,cornerRadius:c,cornerIsExternal:p}),{circleTangency:j,lineTangency:M,theta:k}=F0({cx:t,cy:r,radius:l,angle:v,sign:-w,cornerRadius:c,cornerIsExternal:p}),R=p?Math.abs(b-v):Math.abs(b-v)-_-k;if(R<0)return f?tn(RC||(RC=Io(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),T.x,T.y,c,c,c*2,c,c,-c*2):QO({cx:t,cy:r,innerRadius:n,outerRadius:l,startAngle:b,endAngle:v});var F=tn(PC||(PC=Io(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),T.x,T.y,c,c,+(w<0),A.x,A.y,l,l,+(R>180),+(w<0),j.x,j.y,c,c,+(w<0),M.x,M.y);if(n>0){var{circleTangency:U,lineTangency:V,theta:q}=F0({cx:t,cy:r,radius:n,angle:b,sign:w,isExternal:!0,cornerRadius:c,cornerIsExternal:p}),{circleTangency:Y,lineTangency:L,theta:ee}=F0({cx:t,cy:r,radius:n,angle:v,sign:-w,isExternal:!0,cornerRadius:c,cornerIsExternal:p}),Z=p?Math.abs(b-v):Math.abs(b-v)-q-ee;if(Z<0&&c===0)return"".concat(F,"L").concat(t,",").concat(r,"Z");F+=tn(LC||(LC=Io(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),L.x,L.y,c,c,+(w<0),Y.x,Y.y,n,n,+(Z>180),+(w>0),U.x,U.y,c,c,+(w<0),V.x,V.y)}else F+=tn(BC||(BC=Io(["L",",","Z"])),t,r);return F},dB={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JO=e=>{var t=xa(e,dB),{cx:r,cy:n,innerRadius:l,outerRadius:c,cornerRadius:f,forceCornerRadius:p,cornerIsExternal:b,startAngle:v,endAngle:w,className:A}=t;if(c<l||v===w)return null;var T=Cr("recharts-sector",A),_=c-l,j=Pi(f,_,0,!0),M;return j>0&&Math.abs(v-w)<360?M=uB({cx:r,cy:n,innerRadius:l,outerRadius:c,cornerRadius:Math.min(j,_/2),forceCornerRadius:p,cornerIsExternal:b,startAngle:v,endAngle:w}):M=QO({cx:r,cy:n,innerRadius:l,outerRadius:c,startAngle:v,endAngle:w}),O.createElement("path",Iv({},ha(t),{className:T,d:M}))};function fB(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(BT(t)){if(e==="centric"){var{cx:n,cy:l,innerRadius:c,outerRadius:f,angle:p}=t,b=Jn(n,l,c,p),v=Jn(n,l,f,p);return[{x:b.x,y:b.y},{x:v.x,y:v.y}]}return $O(t)}}var px={},xx={},vx={},zC;function hB(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WT();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(vx)),vx}var UC;function mB(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hB();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(xx)),xx}var FC;function gB(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KT(),r=mB();function n(l,c,f){f&&typeof f!="number"&&t.isIterateeCall(l,c,f)&&(c=f=void 0),l=r.toFinite(l),c===void 0?(c=l,l=0):c=r.toFinite(c),f=f===void 0?l<c?1:-1:r.toFinite(f);const p=Math.max(Math.ceil((c-l)/(f||1)),0),b=new Array(p);for(let v=0;v<p;v++)b[v]=l,l+=f;return b}e.range=n})(px)),px}var yx,HC;function pB(){return HC||(HC=1,yx=gB().range),yx}var xB=pB();const e5=ls(xB);function Vl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vB(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Uy(e){let t,r,n;e.length!==2?(t=Vl,r=(p,b)=>Vl(e(p),b),n=(p,b)=>e(p)-b):(t=e===Vl||e===vB?e:yB,r=e,n=e);function l(p,b,v=0,w=p.length){if(v<w){if(t(b,b)!==0)return w;do{const A=v+w>>>1;r(p[A],b)<0?v=A+1:w=A}while(v<w)}return v}function c(p,b,v=0,w=p.length){if(v<w){if(t(b,b)!==0)return w;do{const A=v+w>>>1;r(p[A],b)<=0?v=A+1:w=A}while(v<w)}return v}function f(p,b,v=0,w=p.length){const A=l(p,b,v,w-1);return A>v&&n(p[A-1],b)>-n(p[A],b)?A-1:A}return{left:l,center:f,right:c}}function yB(){return 0}function t5(e){return e===null?NaN:+e}function*bB(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const wB=Uy(Vl),nf=wB.right;Uy(t5).center;class GC extends Map{constructor(t,r=EB){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,l]of t)this.set(n,l)}get(t){return super.get(VC(this,t))}has(t){return super.has(VC(this,t))}set(t,r){return super.set(AB(this,t),r)}delete(t){return super.delete(SB(this,t))}}function VC({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function AB({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function SB({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function EB(e){return e!==null&&typeof e=="object"?e.valueOf():e}function CB(e=Vl){if(e===Vl)return r5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function r5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const NB=Math.sqrt(50),TB=Math.sqrt(10),OB=Math.sqrt(2);function Rh(e,t,r){const n=(t-e)/Math.max(0,r),l=Math.floor(Math.log10(n)),c=n/Math.pow(10,l),f=c>=NB?10:c>=TB?5:c>=OB?2:1;let p,b,v;return l<0?(v=Math.pow(10,-l)/f,p=Math.round(e*v),b=Math.round(t*v),p/v<e&&++p,b/v>t&&--b,v=-v):(v=Math.pow(10,l)*f,p=Math.round(e/v),b=Math.round(t/v),p*v<e&&++p,b*v>t&&--b),b<p&&.5<=r&&r<2?Rh(e,t,r*2):[p,b,v]}function _v(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[l,c,f]=n?Rh(t,e,r):Rh(e,t,r);if(!(c>=l))return[];const p=c-l+1,b=new Array(p);if(n)if(f<0)for(let v=0;v<p;++v)b[v]=(c-v)/-f;else for(let v=0;v<p;++v)b[v]=(c-v)*f;else if(f<0)for(let v=0;v<p;++v)b[v]=(l+v)/-f;else for(let v=0;v<p;++v)b[v]=(l+v)*f;return b}function Mv(e,t,r){return t=+t,e=+e,r=+r,Rh(e,t,r)[2]}function jv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,l=n?Mv(t,e,r):Mv(e,t,r);return(n?-1:1)*(l<0?1/-l:l)}function YC(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function qC(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function n5(e,t,r=0,n=1/0,l){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(l=l===void 0?r5:CB(l);n>r;){if(n-r>600){const b=n-r+1,v=t-r+1,w=Math.log(b),A=.5*Math.exp(2*w/3),T=.5*Math.sqrt(w*A*(b-A)/b)*(v-b/2<0?-1:1),_=Math.max(r,Math.floor(t-v*A/b+T)),j=Math.min(n,Math.floor(t+(b-v)*A/b+T));n5(e,t,_,j,l)}const c=e[t];let f=r,p=n;for(fd(e,r,t),l(e[n],c)>0&&fd(e,r,n);f<p;){for(fd(e,f,p),++f,--p;l(e[f],c)<0;)++f;for(;l(e[p],c)>0;)--p}l(e[r],c)===0?fd(e,r,p):(++p,fd(e,p,n)),p<=t&&(r=p+1),t<=p&&(n=p-1)}return e}function fd(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function IB(e,t,r){if(e=Float64Array.from(bB(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return qC(e);if(t>=1)return YC(e);var n,l=(n-1)*t,c=Math.floor(l),f=YC(n5(e,c).subarray(0,c+1)),p=qC(e.subarray(c+1));return f+(p-f)*(l-c)}}function _B(e,t,r=t5){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,l=(n-1)*t,c=Math.floor(l),f=+r(e[c],c,e),p=+r(e[c+1],c+1,e);return f+(p-f)*(l-c)}}function MB(e,t,r){e=+e,t=+t,r=(l=arguments.length)<2?(t=e,e=0,1):l<3?1:+r;for(var n=-1,l=Math.max(0,Math.ceil((t-e)/r))|0,c=new Array(l);++n<l;)c[n]=e+n*r;return c}function bi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function tl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kv=Symbol("implicit");function Fy(){var e=new GC,t=[],r=[],n=kv;function l(c){let f=e.get(c);if(f===void 0){if(n!==kv)return n;e.set(c,f=t.push(c)-1)}return r[f%r.length]}return l.domain=function(c){if(!arguments.length)return t.slice();t=[],e=new GC;for(const f of c)e.has(f)||e.set(f,t.push(f)-1);return l},l.range=function(c){return arguments.length?(r=Array.from(c),l):r.slice()},l.unknown=function(c){return arguments.length?(n=c,l):n},l.copy=function(){return Fy(t,r).unknown(n)},bi.apply(l,arguments),l}function Hy(){var e=Fy().unknown(void 0),t=e.domain,r=e.range,n=0,l=1,c,f,p=!1,b=0,v=0,w=.5;delete e.unknown;function A(){var T=t().length,_=l<n,j=_?l:n,M=_?n:l;c=(M-j)/Math.max(1,T-b+v*2),p&&(c=Math.floor(c)),j+=(M-j-c*(T-b))*w,f=c*(1-b),p&&(j=Math.round(j),f=Math.round(f));var k=MB(T).map(function(R){return j+c*R});return r(_?k.reverse():k)}return e.domain=function(T){return arguments.length?(t(T),A()):t()},e.range=function(T){return arguments.length?([n,l]=T,n=+n,l=+l,A()):[n,l]},e.rangeRound=function(T){return[n,l]=T,n=+n,l=+l,p=!0,A()},e.bandwidth=function(){return f},e.step=function(){return c},e.round=function(T){return arguments.length?(p=!!T,A()):p},e.padding=function(T){return arguments.length?(b=Math.min(1,v=+T),A()):b},e.paddingInner=function(T){return arguments.length?(b=Math.min(1,T),A()):b},e.paddingOuter=function(T){return arguments.length?(v=+T,A()):v},e.align=function(T){return arguments.length?(w=Math.max(0,Math.min(1,T)),A()):w},e.copy=function(){return Hy(t(),[n,l]).round(p).paddingInner(b).paddingOuter(v).align(w)},bi.apply(A(),arguments)}function a5(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return a5(t())},e}function jB(){return a5(Hy.apply(null,arguments).paddingInner(1))}function Gy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function i5(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function af(){}var Ld=.7,Ph=1/Ld,Xc="\\s*([+-]?\\d+)\\s*",Bd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ns="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kB=/^#([0-9a-f]{3,8})$/,DB=new RegExp(`^rgb\\(${Xc},${Xc},${Xc}\\)$`),RB=new RegExp(`^rgb\\(${ns},${ns},${ns}\\)$`),PB=new RegExp(`^rgba\\(${Xc},${Xc},${Xc},${Bd}\\)$`),LB=new RegExp(`^rgba\\(${ns},${ns},${ns},${Bd}\\)$`),BB=new RegExp(`^hsl\\(${Bd},${ns},${ns}\\)$`),zB=new RegExp(`^hsla\\(${Bd},${ns},${ns},${Bd}\\)$`),XC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gy(af,zd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:WC,formatHex:WC,formatHex8:UB,formatHsl:FB,formatRgb:KC,toString:KC});function WC(){return this.rgb().formatHex()}function UB(){return this.rgb().formatHex8()}function FB(){return s5(this).formatHsl()}function KC(){return this.rgb().formatRgb()}function zd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=kB.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ZC(t):r===3?new _a(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?H0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?H0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=DB.exec(e))?new _a(t[1],t[2],t[3],1):(t=RB.exec(e))?new _a(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=PB.exec(e))?H0(t[1],t[2],t[3],t[4]):(t=LB.exec(e))?H0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=BB.exec(e))?JC(t[1],t[2]/100,t[3]/100,1):(t=zB.exec(e))?JC(t[1],t[2]/100,t[3]/100,t[4]):XC.hasOwnProperty(e)?ZC(XC[e]):e==="transparent"?new _a(NaN,NaN,NaN,0):null}function ZC(e){return new _a(e>>16&255,e>>8&255,e&255,1)}function H0(e,t,r,n){return n<=0&&(e=t=r=NaN),new _a(e,t,r,n)}function HB(e){return e instanceof af||(e=zd(e)),e?(e=e.rgb(),new _a(e.r,e.g,e.b,e.opacity)):new _a}function Dv(e,t,r,n){return arguments.length===1?HB(e):new _a(e,t,r,n??1)}function _a(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Gy(_a,Dv,i5(af,{brighter(e){return e=e==null?Ph:Math.pow(Ph,e),new _a(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ld:Math.pow(Ld,e),new _a(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _a(Ro(this.r),Ro(this.g),Ro(this.b),Lh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$C,formatHex:$C,formatHex8:GB,formatRgb:QC,toString:QC}));function $C(){return`#${_o(this.r)}${_o(this.g)}${_o(this.b)}`}function GB(){return`#${_o(this.r)}${_o(this.g)}${_o(this.b)}${_o((isNaN(this.opacity)?1:this.opacity)*255)}`}function QC(){const e=Lh(this.opacity);return`${e===1?"rgb(":"rgba("}${Ro(this.r)}, ${Ro(this.g)}, ${Ro(this.b)}${e===1?")":`, ${e})`}`}function Lh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ro(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _o(e){return e=Ro(e),(e<16?"0":"")+e.toString(16)}function JC(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ki(e,t,r,n)}function s5(e){if(e instanceof ki)return new ki(e.h,e.s,e.l,e.opacity);if(e instanceof af||(e=zd(e)),!e)return new ki;if(e instanceof ki)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,l=Math.min(t,r,n),c=Math.max(t,r,n),f=NaN,p=c-l,b=(c+l)/2;return p?(t===c?f=(r-n)/p+(r<n)*6:r===c?f=(n-t)/p+2:f=(t-r)/p+4,p/=b<.5?c+l:2-c-l,f*=60):p=b>0&&b<1?0:f,new ki(f,p,b,e.opacity)}function VB(e,t,r,n){return arguments.length===1?s5(e):new ki(e,t,r,n??1)}function ki(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Gy(ki,VB,i5(af,{brighter(e){return e=e==null?Ph:Math.pow(Ph,e),new ki(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ld:Math.pow(Ld,e),new ki(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,l=2*r-n;return new _a(bx(e>=240?e-240:e+120,l,n),bx(e,l,n),bx(e<120?e+240:e-120,l,n),this.opacity)},clamp(){return new ki(eN(this.h),G0(this.s),G0(this.l),Lh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Lh(this.opacity);return`${e===1?"hsl(":"hsla("}${eN(this.h)}, ${G0(this.s)*100}%, ${G0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function eN(e){return e=(e||0)%360,e<0?e+360:e}function G0(e){return Math.max(0,Math.min(1,e||0))}function bx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Vy=e=>()=>e;function YB(e,t){return function(r){return e+r*t}}function qB(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function XB(e){return(e=+e)==1?l5:function(t,r){return r-t?qB(t,r,e):Vy(isNaN(t)?r:t)}}function l5(e,t){var r=t-e;return r?YB(e,r):Vy(isNaN(e)?t:e)}const tN=(function e(t){var r=XB(t);function n(l,c){var f=r((l=Dv(l)).r,(c=Dv(c)).r),p=r(l.g,c.g),b=r(l.b,c.b),v=l5(l.opacity,c.opacity);return function(w){return l.r=f(w),l.g=p(w),l.b=b(w),l.opacity=v(w),l+""}}return n.gamma=e,n})(1);function WB(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),l;return function(c){for(l=0;l<r;++l)n[l]=e[l]*(1-c)+t[l]*c;return n}}function KB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ZB(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,l=new Array(n),c=new Array(r),f;for(f=0;f<n;++f)l[f]=lu(e[f],t[f]);for(;f<r;++f)c[f]=t[f];return function(p){for(f=0;f<n;++f)c[f]=l[f](p);return c}}function $B(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Bh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function QB(e,t){var r={},n={},l;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(l in t)l in e?r[l]=lu(e[l],t[l]):n[l]=t[l];return function(c){for(l in r)n[l]=r[l](c);return n}}var Rv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wx=new RegExp(Rv.source,"g");function JB(e){return function(){return e}}function ez(e){return function(t){return e(t)+""}}function tz(e,t){var r=Rv.lastIndex=wx.lastIndex=0,n,l,c,f=-1,p=[],b=[];for(e=e+"",t=t+"";(n=Rv.exec(e))&&(l=wx.exec(t));)(c=l.index)>r&&(c=t.slice(r,c),p[f]?p[f]+=c:p[++f]=c),(n=n[0])===(l=l[0])?p[f]?p[f]+=l:p[++f]=l:(p[++f]=null,b.push({i:f,x:Bh(n,l)})),r=wx.lastIndex;return r<t.length&&(c=t.slice(r),p[f]?p[f]+=c:p[++f]=c),p.length<2?b[0]?ez(b[0].x):JB(t):(t=b.length,function(v){for(var w=0,A;w<t;++w)p[(A=b[w]).i]=A.x(v);return p.join("")})}function lu(e,t){var r=typeof t,n;return t==null||r==="boolean"?Vy(t):(r==="number"?Bh:r==="string"?(n=zd(t))?(t=n,tN):tz:t instanceof zd?tN:t instanceof Date?$B:KB(t)?WB:Array.isArray(t)?ZB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?QB:Bh)(e,t)}function Yy(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function rz(e,t){t===void 0&&(t=e,e=lu);for(var r=0,n=t.length-1,l=t[0],c=new Array(n<0?0:n);r<n;)c[r]=e(l,l=t[++r]);return function(f){var p=Math.max(0,Math.min(n-1,Math.floor(f*=n)));return c[p](f-p)}}function nz(e){return function(){return e}}function zh(e){return+e}var rN=[0,1];function fa(e){return e}function Pv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:nz(isNaN(t)?NaN:.5)}function az(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function iz(e,t,r){var n=e[0],l=e[1],c=t[0],f=t[1];return l<n?(n=Pv(l,n),c=r(f,c)):(n=Pv(n,l),c=r(c,f)),function(p){return c(n(p))}}function sz(e,t,r){var n=Math.min(e.length,t.length)-1,l=new Array(n),c=new Array(n),f=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++f<n;)l[f]=Pv(e[f],e[f+1]),c[f]=r(t[f],t[f+1]);return function(p){var b=nf(e,p,1,n)-1;return c[b](l[b](p))}}function sf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function F1(){var e=rN,t=rN,r=lu,n,l,c,f=fa,p,b,v;function w(){var T=Math.min(e.length,t.length);return f!==fa&&(f=az(e[0],e[T-1])),p=T>2?sz:iz,b=v=null,A}function A(T){return T==null||isNaN(T=+T)?c:(b||(b=p(e.map(n),t,r)))(n(f(T)))}return A.invert=function(T){return f(l((v||(v=p(t,e.map(n),Bh)))(T)))},A.domain=function(T){return arguments.length?(e=Array.from(T,zh),w()):e.slice()},A.range=function(T){return arguments.length?(t=Array.from(T),w()):t.slice()},A.rangeRound=function(T){return t=Array.from(T),r=Yy,w()},A.clamp=function(T){return arguments.length?(f=T?!0:fa,w()):f!==fa},A.interpolate=function(T){return arguments.length?(r=T,w()):r},A.unknown=function(T){return arguments.length?(c=T,A):c},function(T,_){return n=T,l=_,w()}}function qy(){return F1()(fa,fa)}function lz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Uh(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function eu(e){return e=Uh(Math.abs(e)),e?e[1]:NaN}function oz(e,t){return function(r,n){for(var l=r.length,c=[],f=0,p=e[0],b=0;l>0&&p>0&&(b+p+1>n&&(p=Math.max(1,n-b)),c.push(r.substring(l-=p,l+p)),!((b+=p+1)>n));)p=e[f=(f+1)%e.length];return c.reverse().join(t)}}function cz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var uz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ud(e){if(!(t=uz.exec(e)))throw new Error("invalid format: "+e);var t;return new Xy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ud.prototype=Xy.prototype;function Xy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Xy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dz(e){e:for(var t=e.length,r=1,n=-1,l;r<t;++r)switch(e[r]){case".":n=l=r;break;case"0":n===0&&(n=r),l=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(l+1):e}var Fh;function fz(e,t){var r=Uh(e,t);if(!r)return Fh=void 0,e.toPrecision(t);var n=r[0],l=r[1],c=l-(Fh=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,f=n.length;return c===f?n:c>f?n+new Array(c-f+1).join("0"):c>0?n.slice(0,c)+"."+n.slice(c):"0."+new Array(1-c).join("0")+Uh(e,Math.max(0,t+c-1))[0]}function nN(e,t){var r=Uh(e,t);if(!r)return e+"";var n=r[0],l=r[1];return l<0?"0."+new Array(-l).join("0")+n:n.length>l+1?n.slice(0,l+1)+"."+n.slice(l+1):n+new Array(l-n.length+2).join("0")}const aN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:lz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nN(e*100,t),r:nN,s:fz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function iN(e){return e}var sN=Array.prototype.map,lN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hz(e){var t=e.grouping===void 0||e.thousands===void 0?iN:oz(sN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",l=e.decimal===void 0?".":e.decimal+"",c=e.numerals===void 0?iN:cz(sN.call(e.numerals,String)),f=e.percent===void 0?"%":e.percent+"",p=e.minus===void 0?"":e.minus+"",b=e.nan===void 0?"NaN":e.nan+"";function v(A,T){A=Ud(A);var _=A.fill,j=A.align,M=A.sign,k=A.symbol,R=A.zero,F=A.width,U=A.comma,V=A.precision,q=A.trim,Y=A.type;Y==="n"?(U=!0,Y="g"):aN[Y]||(V===void 0&&(V=12),q=!0,Y="g"),(R||_==="0"&&j==="=")&&(R=!0,_="0",j="=");var L=(T&&T.prefix!==void 0?T.prefix:"")+(k==="$"?r:k==="#"&&/[boxX]/.test(Y)?"0"+Y.toLowerCase():""),ee=(k==="$"?n:/[%p]/.test(Y)?f:"")+(T&&T.suffix!==void 0?T.suffix:""),Z=aN[Y],Ne=/[defgprs%]/.test(Y);V=V===void 0?6:/[gprs]/.test(Y)?Math.max(1,Math.min(21,V)):Math.max(0,Math.min(20,V));function te(Q){var ie=L,be=ee,X,re,se;if(Y==="c")be=Z(Q)+be,Q="";else{Q=+Q;var de=Q<0||1/Q<0;if(Q=isNaN(Q)?b:Z(Math.abs(Q),V),q&&(Q=dz(Q)),de&&+Q==0&&M!=="+"&&(de=!1),ie=(de?M==="("?M:p:M==="-"||M==="("?"":M)+ie,be=(Y==="s"&&!isNaN(Q)&&Fh!==void 0?lN[8+Fh/3]:"")+be+(de&&M==="("?")":""),Ne){for(X=-1,re=Q.length;++X<re;)if(se=Q.charCodeAt(X),48>se||se>57){be=(se===46?l+Q.slice(X+1):Q.slice(X))+be,Q=Q.slice(0,X);break}}}U&&!R&&(Q=t(Q,1/0));var xe=ie.length+Q.length+be.length,Me=xe<F?new Array(F-xe+1).join(_):"";switch(U&&R&&(Q=t(Me+Q,Me.length?F-be.length:1/0),Me=""),j){case"<":Q=ie+Q+be+Me;break;case"=":Q=ie+Me+Q+be;break;case"^":Q=Me.slice(0,xe=Me.length>>1)+ie+Q+be+Me.slice(xe);break;default:Q=Me+ie+Q+be;break}return c(Q)}return te.toString=function(){return A+""},te}function w(A,T){var _=Math.max(-8,Math.min(8,Math.floor(eu(T)/3)))*3,j=Math.pow(10,-_),M=v((A=Ud(A),A.type="f",A),{suffix:lN[8+_/3]});return function(k){return M(j*k)}}return{format:v,formatPrefix:w}}var V0,Wy,o5;mz({thousands:",",grouping:[3],currency:["$",""]});function mz(e){return V0=hz(e),Wy=V0.format,o5=V0.formatPrefix,V0}function gz(e){return Math.max(0,-eu(Math.abs(e)))}function pz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(eu(t)/3)))*3-eu(Math.abs(e)))}function xz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,eu(t)-eu(e))+1}function c5(e,t,r,n){var l=jv(e,t,r),c;switch(n=Ud(n??",f"),n.type){case"s":{var f=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(c=pz(l,f))&&(n.precision=c),o5(n,f)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(c=xz(l,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=c-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(c=gz(l))&&(n.precision=c-(n.type==="%")*2);break}}return Wy(n)}function Ql(e){var t=e.domain;return e.ticks=function(r){var n=t();return _v(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var l=t();return c5(l[0],l[l.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),l=0,c=n.length-1,f=n[l],p=n[c],b,v,w=10;for(p<f&&(v=f,f=p,p=v,v=l,l=c,c=v);w-- >0;){if(v=Mv(f,p,r),v===b)return n[l]=f,n[c]=p,t(n);if(v>0)f=Math.floor(f/v)*v,p=Math.ceil(p/v)*v;else if(v<0)f=Math.ceil(f*v)/v,p=Math.floor(p*v)/v;else break;b=v}return e},e}function u5(){var e=qy();return e.copy=function(){return sf(e,u5())},bi.apply(e,arguments),Ql(e)}function d5(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,zh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return d5(e).unknown(t)},e=arguments.length?Array.from(e,zh):[0,1],Ql(r)}function f5(e,t){e=e.slice();var r=0,n=e.length-1,l=e[r],c=e[n],f;return c<l&&(f=r,r=n,n=f,f=l,l=c,c=f),e[r]=t.floor(l),e[n]=t.ceil(c),e}function oN(e){return Math.log(e)}function cN(e){return Math.exp(e)}function vz(e){return-Math.log(-e)}function yz(e){return-Math.exp(-e)}function bz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wz(e){return e===10?bz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Az(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function uN(e){return(t,r)=>-e(-t,r)}function Ky(e){const t=e(oN,cN),r=t.domain;let n=10,l,c;function f(){return l=Az(n),c=wz(n),r()[0]<0?(l=uN(l),c=uN(c),e(vz,yz)):e(oN,cN),t}return t.base=function(p){return arguments.length?(n=+p,f()):n},t.domain=function(p){return arguments.length?(r(p),f()):r()},t.ticks=p=>{const b=r();let v=b[0],w=b[b.length-1];const A=w<v;A&&([v,w]=[w,v]);let T=l(v),_=l(w),j,M;const k=p==null?10:+p;let R=[];if(!(n%1)&&_-T<k){if(T=Math.floor(T),_=Math.ceil(_),v>0){for(;T<=_;++T)for(j=1;j<n;++j)if(M=T<0?j/c(-T):j*c(T),!(M<v)){if(M>w)break;R.push(M)}}else for(;T<=_;++T)for(j=n-1;j>=1;--j)if(M=T>0?j/c(-T):j*c(T),!(M<v)){if(M>w)break;R.push(M)}R.length*2<k&&(R=_v(v,w,k))}else R=_v(T,_,Math.min(_-T,k)).map(c);return A?R.reverse():R},t.tickFormat=(p,b)=>{if(p==null&&(p=10),b==null&&(b=n===10?"s":","),typeof b!="function"&&(!(n%1)&&(b=Ud(b)).precision==null&&(b.trim=!0),b=Wy(b)),p===1/0)return b;const v=Math.max(1,n*p/t.ticks().length);return w=>{let A=w/c(Math.round(l(w)));return A*n<n-.5&&(A*=n),A<=v?b(w):""}},t.nice=()=>r(f5(r(),{floor:p=>c(Math.floor(l(p))),ceil:p=>c(Math.ceil(l(p)))})),t}function h5(){const e=Ky(F1()).domain([1,10]);return e.copy=()=>sf(e,h5()).base(e.base()),bi.apply(e,arguments),e}function dN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function fN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Zy(e){var t=1,r=e(dN(t),fN(t));return r.constant=function(n){return arguments.length?e(dN(t=+n),fN(t)):t},Ql(r)}function m5(){var e=Zy(F1());return e.copy=function(){return sf(e,m5()).constant(e.constant())},bi.apply(e,arguments)}function hN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Sz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ez(e){return e<0?-e*e:e*e}function $y(e){var t=e(fa,fa),r=1;function n(){return r===1?e(fa,fa):r===.5?e(Sz,Ez):e(hN(r),hN(1/r))}return t.exponent=function(l){return arguments.length?(r=+l,n()):r},Ql(t)}function Qy(){var e=$y(F1());return e.copy=function(){return sf(e,Qy()).exponent(e.exponent())},bi.apply(e,arguments),e}function Cz(){return Qy.apply(null,arguments).exponent(.5)}function mN(e){return Math.sign(e)*e*e}function Nz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function g5(){var e=qy(),t=[0,1],r=!1,n;function l(c){var f=Nz(e(c));return isNaN(f)?n:r?Math.round(f):f}return l.invert=function(c){return e.invert(mN(c))},l.domain=function(c){return arguments.length?(e.domain(c),l):e.domain()},l.range=function(c){return arguments.length?(e.range((t=Array.from(c,zh)).map(mN)),l):t.slice()},l.rangeRound=function(c){return l.range(c).round(!0)},l.round=function(c){return arguments.length?(r=!!c,l):r},l.clamp=function(c){return arguments.length?(e.clamp(c),l):e.clamp()},l.unknown=function(c){return arguments.length?(n=c,l):n},l.copy=function(){return g5(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},bi.apply(l,arguments),Ql(l)}function p5(){var e=[],t=[],r=[],n;function l(){var f=0,p=Math.max(1,t.length);for(r=new Array(p-1);++f<p;)r[f-1]=_B(e,f/p);return c}function c(f){return f==null||isNaN(f=+f)?n:t[nf(r,f)]}return c.invertExtent=function(f){var p=t.indexOf(f);return p<0?[NaN,NaN]:[p>0?r[p-1]:e[0],p<r.length?r[p]:e[e.length-1]]},c.domain=function(f){if(!arguments.length)return e.slice();e=[];for(let p of f)p!=null&&!isNaN(p=+p)&&e.push(p);return e.sort(Vl),l()},c.range=function(f){return arguments.length?(t=Array.from(f),l()):t.slice()},c.unknown=function(f){return arguments.length?(n=f,c):n},c.quantiles=function(){return r.slice()},c.copy=function(){return p5().domain(e).range(t).unknown(n)},bi.apply(c,arguments)}function x5(){var e=0,t=1,r=1,n=[.5],l=[0,1],c;function f(b){return b!=null&&b<=b?l[nf(n,b,0,r)]:c}function p(){var b=-1;for(n=new Array(r);++b<r;)n[b]=((b+1)*t-(b-r)*e)/(r+1);return f}return f.domain=function(b){return arguments.length?([e,t]=b,e=+e,t=+t,p()):[e,t]},f.range=function(b){return arguments.length?(r=(l=Array.from(b)).length-1,p()):l.slice()},f.invertExtent=function(b){var v=l.indexOf(b);return v<0?[NaN,NaN]:v<1?[e,n[0]]:v>=r?[n[r-1],t]:[n[v-1],n[v]]},f.unknown=function(b){return arguments.length&&(c=b),f},f.thresholds=function(){return n.slice()},f.copy=function(){return x5().domain([e,t]).range(l).unknown(c)},bi.apply(Ql(f),arguments)}function v5(){var e=[.5],t=[0,1],r,n=1;function l(c){return c!=null&&c<=c?t[nf(e,c,0,n)]:r}return l.domain=function(c){return arguments.length?(e=Array.from(c),n=Math.min(e.length,t.length-1),l):e.slice()},l.range=function(c){return arguments.length?(t=Array.from(c),n=Math.min(e.length,t.length-1),l):t.slice()},l.invertExtent=function(c){var f=t.indexOf(c);return[e[f-1],e[f]]},l.unknown=function(c){return arguments.length?(r=c,l):r},l.copy=function(){return v5().domain(e).range(t).unknown(r)},bi.apply(l,arguments)}const Ax=new Date,Sx=new Date;function Tn(e,t,r,n){function l(c){return e(c=arguments.length===0?new Date:new Date(+c)),c}return l.floor=c=>(e(c=new Date(+c)),c),l.ceil=c=>(e(c=new Date(c-1)),t(c,1),e(c),c),l.round=c=>{const f=l(c),p=l.ceil(c);return c-f<p-c?f:p},l.offset=(c,f)=>(t(c=new Date(+c),f==null?1:Math.floor(f)),c),l.range=(c,f,p)=>{const b=[];if(c=l.ceil(c),p=p==null?1:Math.floor(p),!(c<f)||!(p>0))return b;let v;do b.push(v=new Date(+c)),t(c,p),e(c);while(v<c&&c<f);return b},l.filter=c=>Tn(f=>{if(f>=f)for(;e(f),!c(f);)f.setTime(f-1)},(f,p)=>{if(f>=f)if(p<0)for(;++p<=0;)for(;t(f,-1),!c(f););else for(;--p>=0;)for(;t(f,1),!c(f););}),r&&(l.count=(c,f)=>(Ax.setTime(+c),Sx.setTime(+f),e(Ax),e(Sx),Math.floor(r(Ax,Sx))),l.every=c=>(c=Math.floor(c),!isFinite(c)||!(c>0)?null:c>1?l.filter(n?f=>n(f)%c===0:f=>l.count(0,f)%c===0):l)),l}const Hh=Tn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Hh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Tn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Hh);Hh.range;const Bs=1e3,gi=Bs*60,zs=gi*60,Xs=zs*24,Jy=Xs*7,gN=Xs*30,Ex=Xs*365,Mo=Tn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Bs)},(e,t)=>(t-e)/Bs,e=>e.getUTCSeconds());Mo.range;const eb=Tn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bs)},(e,t)=>{e.setTime(+e+t*gi)},(e,t)=>(t-e)/gi,e=>e.getMinutes());eb.range;const tb=Tn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gi)},(e,t)=>(t-e)/gi,e=>e.getUTCMinutes());tb.range;const rb=Tn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bs-e.getMinutes()*gi)},(e,t)=>{e.setTime(+e+t*zs)},(e,t)=>(t-e)/zs,e=>e.getHours());rb.range;const nb=Tn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*zs)},(e,t)=>(t-e)/zs,e=>e.getUTCHours());nb.range;const lf=Tn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gi)/Xs,e=>e.getDate()-1);lf.range;const H1=Tn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xs,e=>e.getUTCDate()-1);H1.range;const y5=Tn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xs,e=>Math.floor(e/Xs));y5.range;function $o(e){return Tn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*gi)/Jy)}const G1=$o(0),Gh=$o(1),Tz=$o(2),Oz=$o(3),tu=$o(4),Iz=$o(5),_z=$o(6);G1.range;Gh.range;Tz.range;Oz.range;tu.range;Iz.range;_z.range;function Qo(e){return Tn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Jy)}const V1=Qo(0),Vh=Qo(1),Mz=Qo(2),jz=Qo(3),ru=Qo(4),kz=Qo(5),Dz=Qo(6);V1.range;Vh.range;Mz.range;jz.range;ru.range;kz.range;Dz.range;const ab=Tn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ab.range;const ib=Tn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ib.range;const Ws=Tn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ws.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ws.range;const Ks=Tn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ks.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ks.range;function b5(e,t,r,n,l,c){const f=[[Mo,1,Bs],[Mo,5,5*Bs],[Mo,15,15*Bs],[Mo,30,30*Bs],[c,1,gi],[c,5,5*gi],[c,15,15*gi],[c,30,30*gi],[l,1,zs],[l,3,3*zs],[l,6,6*zs],[l,12,12*zs],[n,1,Xs],[n,2,2*Xs],[r,1,Jy],[t,1,gN],[t,3,3*gN],[e,1,Ex]];function p(v,w,A){const T=w<v;T&&([v,w]=[w,v]);const _=A&&typeof A.range=="function"?A:b(v,w,A),j=_?_.range(v,+w+1):[];return T?j.reverse():j}function b(v,w,A){const T=Math.abs(w-v)/A,_=Uy(([,,k])=>k).right(f,T);if(_===f.length)return e.every(jv(v/Ex,w/Ex,A));if(_===0)return Hh.every(Math.max(jv(v,w,A),1));const[j,M]=f[T/f[_-1][2]<f[_][2]/T?_-1:_];return j.every(M)}return[p,b]}const[Rz,Pz]=b5(Ks,ib,V1,y5,nb,tb),[Lz,Bz]=b5(Ws,ab,G1,lf,rb,eb);function Cx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Nx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function zz(e){var t=e.dateTime,r=e.date,n=e.time,l=e.periods,c=e.days,f=e.shortDays,p=e.months,b=e.shortMonths,v=md(l),w=gd(l),A=md(c),T=gd(c),_=md(f),j=gd(f),M=md(p),k=gd(p),R=md(b),F=gd(b),U={a:se,A:de,b:xe,B:Me,c:null,d:wN,e:wN,f:oU,g:vU,G:bU,H:iU,I:sU,j:lU,L:w5,m:cU,M:uU,p:$,q:ue,Q:EN,s:CN,S:dU,u:fU,U:hU,V:mU,w:gU,W:pU,x:null,X:null,y:xU,Y:yU,Z:wU,"%":SN},V={a:Te,A:Pe,b:Qe,B:J,c:null,d:AN,e:AN,f:CU,g:RU,G:LU,H:AU,I:SU,j:EU,L:S5,m:NU,M:TU,p:Re,q:Ze,Q:EN,s:CN,S:OU,u:IU,U:_U,V:MU,w:jU,W:kU,x:null,X:null,y:DU,Y:PU,Z:BU,"%":SN},q={a:Ne,A:te,b:Q,B:ie,c:be,d:yN,e:yN,f:tU,g:vN,G:xN,H:bN,I:bN,j:$z,L:eU,m:Zz,M:Qz,p:Z,q:Kz,Q:nU,s:aU,S:Jz,u:Vz,U:Yz,V:qz,w:Gz,W:Xz,x:X,X:re,y:vN,Y:xN,Z:Wz,"%":rU};U.x=Y(r,U),U.X=Y(n,U),U.c=Y(t,U),V.x=Y(r,V),V.X=Y(n,V),V.c=Y(t,V);function Y(he,nt){return function(st){var Be=[],Je=-1,Et=0,Oe=he.length,Ct,bt,Nt;for(st instanceof Date||(st=new Date(+st));++Je<Oe;)he.charCodeAt(Je)===37&&(Be.push(he.slice(Et,Je)),(bt=pN[Ct=he.charAt(++Je)])!=null?Ct=he.charAt(++Je):bt=Ct==="e"?" ":"0",(Nt=nt[Ct])&&(Ct=Nt(st,bt)),Be.push(Ct),Et=Je+1);return Be.push(he.slice(Et,Je)),Be.join("")}}function L(he,nt){return function(st){var Be=hd(1900,void 0,1),Je=ee(Be,he,st+="",0),Et,Oe;if(Je!=st.length)return null;if("Q"in Be)return new Date(Be.Q);if("s"in Be)return new Date(Be.s*1e3+("L"in Be?Be.L:0));if(nt&&!("Z"in Be)&&(Be.Z=0),"p"in Be&&(Be.H=Be.H%12+Be.p*12),Be.m===void 0&&(Be.m="q"in Be?Be.q:0),"V"in Be){if(Be.V<1||Be.V>53)return null;"w"in Be||(Be.w=1),"Z"in Be?(Et=Nx(hd(Be.y,0,1)),Oe=Et.getUTCDay(),Et=Oe>4||Oe===0?Vh.ceil(Et):Vh(Et),Et=H1.offset(Et,(Be.V-1)*7),Be.y=Et.getUTCFullYear(),Be.m=Et.getUTCMonth(),Be.d=Et.getUTCDate()+(Be.w+6)%7):(Et=Cx(hd(Be.y,0,1)),Oe=Et.getDay(),Et=Oe>4||Oe===0?Gh.ceil(Et):Gh(Et),Et=lf.offset(Et,(Be.V-1)*7),Be.y=Et.getFullYear(),Be.m=Et.getMonth(),Be.d=Et.getDate()+(Be.w+6)%7)}else("W"in Be||"U"in Be)&&("w"in Be||(Be.w="u"in Be?Be.u%7:"W"in Be?1:0),Oe="Z"in Be?Nx(hd(Be.y,0,1)).getUTCDay():Cx(hd(Be.y,0,1)).getDay(),Be.m=0,Be.d="W"in Be?(Be.w+6)%7+Be.W*7-(Oe+5)%7:Be.w+Be.U*7-(Oe+6)%7);return"Z"in Be?(Be.H+=Be.Z/100|0,Be.M+=Be.Z%100,Nx(Be)):Cx(Be)}}function ee(he,nt,st,Be){for(var Je=0,Et=nt.length,Oe=st.length,Ct,bt;Je<Et;){if(Be>=Oe)return-1;if(Ct=nt.charCodeAt(Je++),Ct===37){if(Ct=nt.charAt(Je++),bt=q[Ct in pN?nt.charAt(Je++):Ct],!bt||(Be=bt(he,st,Be))<0)return-1}else if(Ct!=st.charCodeAt(Be++))return-1}return Be}function Z(he,nt,st){var Be=v.exec(nt.slice(st));return Be?(he.p=w.get(Be[0].toLowerCase()),st+Be[0].length):-1}function Ne(he,nt,st){var Be=_.exec(nt.slice(st));return Be?(he.w=j.get(Be[0].toLowerCase()),st+Be[0].length):-1}function te(he,nt,st){var Be=A.exec(nt.slice(st));return Be?(he.w=T.get(Be[0].toLowerCase()),st+Be[0].length):-1}function Q(he,nt,st){var Be=R.exec(nt.slice(st));return Be?(he.m=F.get(Be[0].toLowerCase()),st+Be[0].length):-1}function ie(he,nt,st){var Be=M.exec(nt.slice(st));return Be?(he.m=k.get(Be[0].toLowerCase()),st+Be[0].length):-1}function be(he,nt,st){return ee(he,t,nt,st)}function X(he,nt,st){return ee(he,r,nt,st)}function re(he,nt,st){return ee(he,n,nt,st)}function se(he){return f[he.getDay()]}function de(he){return c[he.getDay()]}function xe(he){return b[he.getMonth()]}function Me(he){return p[he.getMonth()]}function $(he){return l[+(he.getHours()>=12)]}function ue(he){return 1+~~(he.getMonth()/3)}function Te(he){return f[he.getUTCDay()]}function Pe(he){return c[he.getUTCDay()]}function Qe(he){return b[he.getUTCMonth()]}function J(he){return p[he.getUTCMonth()]}function Re(he){return l[+(he.getUTCHours()>=12)]}function Ze(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var nt=Y(he+="",U);return nt.toString=function(){return he},nt},parse:function(he){var nt=L(he+="",!1);return nt.toString=function(){return he},nt},utcFormat:function(he){var nt=Y(he+="",V);return nt.toString=function(){return he},nt},utcParse:function(he){var nt=L(he+="",!0);return nt.toString=function(){return he},nt}}}var pN={"-":"",_:" ",0:"0"},zn=/^\s*\d+/,Uz=/^%/,Fz=/[\\^$*+?|[\]().{}]/g;function sr(e,t,r){var n=e<0?"-":"",l=(n?-e:e)+"",c=l.length;return n+(c<r?new Array(r-c+1).join(t)+l:l)}function Hz(e){return e.replace(Fz,"\\$&")}function md(e){return new RegExp("^(?:"+e.map(Hz).join("|")+")","i")}function gd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Gz(e,t,r){var n=zn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Vz(e,t,r){var n=zn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Yz(e,t,r){var n=zn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function qz(e,t,r){var n=zn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Xz(e,t,r){var n=zn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function xN(e,t,r){var n=zn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function vN(e,t,r){var n=zn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Wz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Kz(e,t,r){var n=zn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Zz(e,t,r){var n=zn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function yN(e,t,r){var n=zn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function $z(e,t,r){var n=zn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function bN(e,t,r){var n=zn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Qz(e,t,r){var n=zn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Jz(e,t,r){var n=zn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function eU(e,t,r){var n=zn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function tU(e,t,r){var n=zn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function rU(e,t,r){var n=Uz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function nU(e,t,r){var n=zn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function aU(e,t,r){var n=zn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function wN(e,t){return sr(e.getDate(),t,2)}function iU(e,t){return sr(e.getHours(),t,2)}function sU(e,t){return sr(e.getHours()%12||12,t,2)}function lU(e,t){return sr(1+lf.count(Ws(e),e),t,3)}function w5(e,t){return sr(e.getMilliseconds(),t,3)}function oU(e,t){return w5(e,t)+"000"}function cU(e,t){return sr(e.getMonth()+1,t,2)}function uU(e,t){return sr(e.getMinutes(),t,2)}function dU(e,t){return sr(e.getSeconds(),t,2)}function fU(e){var t=e.getDay();return t===0?7:t}function hU(e,t){return sr(G1.count(Ws(e)-1,e),t,2)}function A5(e){var t=e.getDay();return t>=4||t===0?tu(e):tu.ceil(e)}function mU(e,t){return e=A5(e),sr(tu.count(Ws(e),e)+(Ws(e).getDay()===4),t,2)}function gU(e){return e.getDay()}function pU(e,t){return sr(Gh.count(Ws(e)-1,e),t,2)}function xU(e,t){return sr(e.getFullYear()%100,t,2)}function vU(e,t){return e=A5(e),sr(e.getFullYear()%100,t,2)}function yU(e,t){return sr(e.getFullYear()%1e4,t,4)}function bU(e,t){var r=e.getDay();return e=r>=4||r===0?tu(e):tu.ceil(e),sr(e.getFullYear()%1e4,t,4)}function wU(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+sr(t/60|0,"0",2)+sr(t%60,"0",2)}function AN(e,t){return sr(e.getUTCDate(),t,2)}function AU(e,t){return sr(e.getUTCHours(),t,2)}function SU(e,t){return sr(e.getUTCHours()%12||12,t,2)}function EU(e,t){return sr(1+H1.count(Ks(e),e),t,3)}function S5(e,t){return sr(e.getUTCMilliseconds(),t,3)}function CU(e,t){return S5(e,t)+"000"}function NU(e,t){return sr(e.getUTCMonth()+1,t,2)}function TU(e,t){return sr(e.getUTCMinutes(),t,2)}function OU(e,t){return sr(e.getUTCSeconds(),t,2)}function IU(e){var t=e.getUTCDay();return t===0?7:t}function _U(e,t){return sr(V1.count(Ks(e)-1,e),t,2)}function E5(e){var t=e.getUTCDay();return t>=4||t===0?ru(e):ru.ceil(e)}function MU(e,t){return e=E5(e),sr(ru.count(Ks(e),e)+(Ks(e).getUTCDay()===4),t,2)}function jU(e){return e.getUTCDay()}function kU(e,t){return sr(Vh.count(Ks(e)-1,e),t,2)}function DU(e,t){return sr(e.getUTCFullYear()%100,t,2)}function RU(e,t){return e=E5(e),sr(e.getUTCFullYear()%100,t,2)}function PU(e,t){return sr(e.getUTCFullYear()%1e4,t,4)}function LU(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ru(e):ru.ceil(e),sr(e.getUTCFullYear()%1e4,t,4)}function BU(){return"+0000"}function SN(){return"%"}function EN(e){return+e}function CN(e){return Math.floor(+e/1e3)}var Lc,C5,N5;zU({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zU(e){return Lc=zz(e),C5=Lc.format,Lc.parse,N5=Lc.utcFormat,Lc.utcParse,Lc}function UU(e){return new Date(e)}function FU(e){return e instanceof Date?+e:+new Date(+e)}function sb(e,t,r,n,l,c,f,p,b,v){var w=qy(),A=w.invert,T=w.domain,_=v(".%L"),j=v(":%S"),M=v("%I:%M"),k=v("%I %p"),R=v("%a %d"),F=v("%b %d"),U=v("%B"),V=v("%Y");function q(Y){return(b(Y)<Y?_:p(Y)<Y?j:f(Y)<Y?M:c(Y)<Y?k:n(Y)<Y?l(Y)<Y?R:F:r(Y)<Y?U:V)(Y)}return w.invert=function(Y){return new Date(A(Y))},w.domain=function(Y){return arguments.length?T(Array.from(Y,FU)):T().map(UU)},w.ticks=function(Y){var L=T();return e(L[0],L[L.length-1],Y??10)},w.tickFormat=function(Y,L){return L==null?q:v(L)},w.nice=function(Y){var L=T();return(!Y||typeof Y.range!="function")&&(Y=t(L[0],L[L.length-1],Y??10)),Y?T(f5(L,Y)):w},w.copy=function(){return sf(w,sb(e,t,r,n,l,c,f,p,b,v))},w}function HU(){return bi.apply(sb(Lz,Bz,Ws,ab,G1,lf,rb,eb,Mo,C5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GU(){return bi.apply(sb(Rz,Pz,Ks,ib,V1,H1,nb,tb,Mo,N5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Y1(){var e=0,t=1,r,n,l,c,f=fa,p=!1,b;function v(A){return A==null||isNaN(A=+A)?b:f(l===0?.5:(A=(c(A)-r)*l,p?Math.max(0,Math.min(1,A)):A))}v.domain=function(A){return arguments.length?([e,t]=A,r=c(e=+e),n=c(t=+t),l=r===n?0:1/(n-r),v):[e,t]},v.clamp=function(A){return arguments.length?(p=!!A,v):p},v.interpolator=function(A){return arguments.length?(f=A,v):f};function w(A){return function(T){var _,j;return arguments.length?([_,j]=T,f=A(_,j),v):[f(0),f(1)]}}return v.range=w(lu),v.rangeRound=w(Yy),v.unknown=function(A){return arguments.length?(b=A,v):b},function(A){return c=A,r=A(e),n=A(t),l=r===n?0:1/(n-r),v}}function Jl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function T5(){var e=Ql(Y1()(fa));return e.copy=function(){return Jl(e,T5())},tl.apply(e,arguments)}function O5(){var e=Ky(Y1()).domain([1,10]);return e.copy=function(){return Jl(e,O5()).base(e.base())},tl.apply(e,arguments)}function I5(){var e=Zy(Y1());return e.copy=function(){return Jl(e,I5()).constant(e.constant())},tl.apply(e,arguments)}function lb(){var e=$y(Y1());return e.copy=function(){return Jl(e,lb()).exponent(e.exponent())},tl.apply(e,arguments)}function VU(){return lb.apply(null,arguments).exponent(.5)}function _5(){var e=[],t=fa;function r(n){if(n!=null&&!isNaN(n=+n))return t((nf(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let l of n)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Vl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,l)=>t(l/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(l,c)=>IB(e,c/n))},r.copy=function(){return _5(t).domain(e)},tl.apply(r,arguments)}function q1(){var e=0,t=.5,r=1,n=1,l,c,f,p,b,v=fa,w,A=!1,T;function _(M){return isNaN(M=+M)?T:(M=.5+((M=+w(M))-c)*(n*M<n*c?p:b),v(A?Math.max(0,Math.min(1,M)):M))}_.domain=function(M){return arguments.length?([e,t,r]=M,l=w(e=+e),c=w(t=+t),f=w(r=+r),p=l===c?0:.5/(c-l),b=c===f?0:.5/(f-c),n=c<l?-1:1,_):[e,t,r]},_.clamp=function(M){return arguments.length?(A=!!M,_):A},_.interpolator=function(M){return arguments.length?(v=M,_):v};function j(M){return function(k){var R,F,U;return arguments.length?([R,F,U]=k,v=rz(M,[R,F,U]),_):[v(0),v(.5),v(1)]}}return _.range=j(lu),_.rangeRound=j(Yy),_.unknown=function(M){return arguments.length?(T=M,_):T},function(M){return w=M,l=M(e),c=M(t),f=M(r),p=l===c?0:.5/(c-l),b=c===f?0:.5/(f-c),n=c<l?-1:1,_}}function M5(){var e=Ql(q1()(fa));return e.copy=function(){return Jl(e,M5())},tl.apply(e,arguments)}function j5(){var e=Ky(q1()).domain([.1,1,10]);return e.copy=function(){return Jl(e,j5()).base(e.base())},tl.apply(e,arguments)}function k5(){var e=Zy(q1());return e.copy=function(){return Jl(e,k5()).constant(e.constant())},tl.apply(e,arguments)}function ob(){var e=$y(q1());return e.copy=function(){return Jl(e,ob()).exponent(e.exponent())},tl.apply(e,arguments)}function YU(){return ob.apply(null,arguments).exponent(.5)}const vd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hy,scaleDiverging:M5,scaleDivergingLog:j5,scaleDivergingPow:ob,scaleDivergingSqrt:YU,scaleDivergingSymlog:k5,scaleIdentity:d5,scaleImplicit:kv,scaleLinear:u5,scaleLog:h5,scaleOrdinal:Fy,scalePoint:jB,scalePow:Qy,scaleQuantile:p5,scaleQuantize:x5,scaleRadial:g5,scaleSequential:T5,scaleSequentialLog:O5,scaleSequentialPow:lb,scaleSequentialQuantile:_5,scaleSequentialSqrt:VU,scaleSequentialSymlog:I5,scaleSqrt:Cz,scaleSymlog:m5,scaleThreshold:v5,scaleTime:HU,scaleUtc:GU,tickFormat:c5},Symbol.toStringTag,{value:"Module"}));var rl=e=>e.chartData,D5=Se([rl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),R5=(e,t,r,n)=>n?D5(e):rl(e),P5=(e,t,r)=>r?D5(e):rl(e);function Zs(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Gt(t)&&Gt(r))return!0}return!1}function NN(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function L5(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,l,c;if(Gt(r))l=r;else if(typeof r=="function")return;if(Gt(n))c=n;else if(typeof n=="function")return;var f=[l,c];if(Zs(f))return f}}function qU(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Zs(n))return NN(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[l,c]=e,f,p;if(l==="auto")t!=null&&(f=Math.min(...t));else if(tt(l))f=l;else if(typeof l=="function")try{t!=null&&(f=l(t==null?void 0:t[0]))}catch{}else if(typeof l=="string"&&BE.test(l)){var b=BE.exec(l);if(b==null||b[1]==null||t==null)f=void 0;else{var v=+b[1];f=t[0]-v}}else f=t==null?void 0:t[0];if(c==="auto")t!=null&&(p=Math.max(...t));else if(tt(c))p=c;else if(typeof c=="function")try{t!=null&&(p=c(t==null?void 0:t[1]))}catch{}else if(typeof c=="string"&&zE.test(c)){var w=zE.exec(c);if(w==null||w[1]==null||t==null)p=void 0;else{var A=+w[1];p=t[1]+A}}else p=t==null?void 0:t[1];var T=[f,p];if(Zs(T))return t==null?T:NN(T,t,r)}}}var ou=1e9,XU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ub,Vr=!0,vi="[DecimalError] ",Po=vi+"Invalid argument: ",cb=vi+"Exponent out of range: ",cu=Math.floor,To=Math.pow,WU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xa,Rn=1e7,Br=7,B5=9007199254740991,Yh=cu(B5/Br),ot={};ot.absoluteValue=ot.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ot.comparedTo=ot.cmp=function(e){var t,r,n,l,c=this;if(e=new c.constructor(e),c.s!==e.s)return c.s||-e.s;if(c.e!==e.e)return c.e>e.e^c.s<0?1:-1;for(n=c.d.length,l=e.d.length,t=0,r=n<l?n:l;t<r;++t)if(c.d[t]!==e.d[t])return c.d[t]>e.d[t]^c.s<0?1:-1;return n===l?0:n>l^c.s<0?1:-1};ot.decimalPlaces=ot.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Br;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ot.dividedBy=ot.div=function(e){return Gs(this,new this.constructor(e))};ot.dividedToIntegerBy=ot.idiv=function(e){var t=this,r=t.constructor;return jr(Gs(t,new r(e),0,1),r.precision)};ot.equals=ot.eq=function(e){return!this.cmp(e)};ot.exponent=function(){return bn(this)};ot.greaterThan=ot.gt=function(e){return this.cmp(e)>0};ot.greaterThanOrEqualTo=ot.gte=function(e){return this.cmp(e)>=0};ot.isInteger=ot.isint=function(){return this.e>this.d.length-2};ot.isNegative=ot.isneg=function(){return this.s<0};ot.isPositive=ot.ispos=function(){return this.s>0};ot.isZero=function(){return this.s===0};ot.lessThan=ot.lt=function(e){return this.cmp(e)<0};ot.lessThanOrEqualTo=ot.lte=function(e){return this.cmp(e)<1};ot.logarithm=ot.log=function(e){var t,r=this,n=r.constructor,l=n.precision,c=l+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Xa))throw Error(vi+"NaN");if(r.s<1)throw Error(vi+(r.s?"NaN":"-Infinity"));return r.eq(Xa)?new n(0):(Vr=!1,t=Gs(Fd(r,c),Fd(e,c),c),Vr=!0,jr(t,l))};ot.minus=ot.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?F5(t,e):z5(t,(e.s=-e.s,e))};ot.modulo=ot.mod=function(e){var t,r=this,n=r.constructor,l=n.precision;if(e=new n(e),!e.s)throw Error(vi+"NaN");return r.s?(Vr=!1,t=Gs(r,e,0,1).times(e),Vr=!0,r.minus(t)):jr(new n(r),l)};ot.naturalExponential=ot.exp=function(){return U5(this)};ot.naturalLogarithm=ot.ln=function(){return Fd(this)};ot.negated=ot.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ot.plus=ot.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?z5(t,e):F5(t,(e.s=-e.s,e))};ot.precision=ot.sd=function(e){var t,r,n,l=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Po+e);if(t=bn(l)+1,n=l.d.length-1,r=n*Br+1,n=l.d[n],n){for(;n%10==0;n/=10)r--;for(n=l.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ot.squareRoot=ot.sqrt=function(){var e,t,r,n,l,c,f,p=this,b=p.constructor;if(p.s<1){if(!p.s)return new b(0);throw Error(vi+"NaN")}for(e=bn(p),Vr=!1,l=Math.sqrt(+p),l==0||l==1/0?(t=rs(p.d),(t.length+e)%2==0&&(t+="0"),l=Math.sqrt(t),e=cu((e+1)/2)-(e<0||e%2),l==1/0?t="5e"+e:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new b(t)):n=new b(l.toString()),r=b.precision,l=f=r+3;;)if(c=n,n=c.plus(Gs(p,c,f+2)).times(.5),rs(c.d).slice(0,f)===(t=rs(n.d)).slice(0,f)){if(t=t.slice(f-3,f+1),l==f&&t=="4999"){if(jr(c,r+1,0),c.times(c).eq(p)){n=c;break}}else if(t!="9999")break;f+=4}return Vr=!0,jr(n,r)};ot.times=ot.mul=function(e){var t,r,n,l,c,f,p,b,v,w=this,A=w.constructor,T=w.d,_=(e=new A(e)).d;if(!w.s||!e.s)return new A(0);for(e.s*=w.s,r=w.e+e.e,b=T.length,v=_.length,b<v&&(c=T,T=_,_=c,f=b,b=v,v=f),c=[],f=b+v,n=f;n--;)c.push(0);for(n=v;--n>=0;){for(t=0,l=b+n;l>n;)p=c[l]+_[n]*T[l-n-1]+t,c[l--]=p%Rn|0,t=p/Rn|0;c[l]=(c[l]+t)%Rn|0}for(;!c[--f];)c.pop();return t?++r:c.shift(),e.d=c,e.e=r,Vr?jr(e,A.precision):e};ot.toDecimalPlaces=ot.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ss(e,0,ou),t===void 0?t=n.rounding:ss(t,0,8),jr(r,e+bn(r)+1,t))};ot.toExponential=function(e,t){var r,n=this,l=n.constructor;return e===void 0?r=Vo(n,!0):(ss(e,0,ou),t===void 0?t=l.rounding:ss(t,0,8),n=jr(new l(n),e+1,t),r=Vo(n,!0,e+1)),r};ot.toFixed=function(e,t){var r,n,l=this,c=l.constructor;return e===void 0?Vo(l):(ss(e,0,ou),t===void 0?t=c.rounding:ss(t,0,8),n=jr(new c(l),e+bn(l)+1,t),r=Vo(n.abs(),!1,e+bn(n)+1),l.isneg()&&!l.isZero()?"-"+r:r)};ot.toInteger=ot.toint=function(){var e=this,t=e.constructor;return jr(new t(e),bn(e)+1,t.rounding)};ot.toNumber=function(){return+this};ot.toPower=ot.pow=function(e){var t,r,n,l,c,f,p=this,b=p.constructor,v=12,w=+(e=new b(e));if(!e.s)return new b(Xa);if(p=new b(p),!p.s){if(e.s<1)throw Error(vi+"Infinity");return p}if(p.eq(Xa))return p;if(n=b.precision,e.eq(Xa))return jr(p,n);if(t=e.e,r=e.d.length-1,f=t>=r,c=p.s,f){if((r=w<0?-w:w)<=B5){for(l=new b(Xa),t=Math.ceil(n/Br+4),Vr=!1;r%2&&(l=l.times(p),ON(l.d,t)),r=cu(r/2),r!==0;)p=p.times(p),ON(p.d,t);return Vr=!0,e.s<0?new b(Xa).div(l):jr(l,n)}}else if(c<0)throw Error(vi+"NaN");return c=c<0&&e.d[Math.max(t,r)]&1?-1:1,p.s=1,Vr=!1,l=e.times(Fd(p,n+v)),Vr=!0,l=U5(l),l.s=c,l};ot.toPrecision=function(e,t){var r,n,l=this,c=l.constructor;return e===void 0?(r=bn(l),n=Vo(l,r<=c.toExpNeg||r>=c.toExpPos)):(ss(e,1,ou),t===void 0?t=c.rounding:ss(t,0,8),l=jr(new c(l),e,t),r=bn(l),n=Vo(l,e<=r||r<=c.toExpNeg,e)),n};ot.toSignificantDigits=ot.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ss(e,1,ou),t===void 0?t=n.rounding:ss(t,0,8)),jr(new n(r),e,t)};ot.toString=ot.valueOf=ot.val=ot.toJSON=ot[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=bn(e),r=e.constructor;return Vo(e,t<=r.toExpNeg||t>=r.toExpPos)};function z5(e,t){var r,n,l,c,f,p,b,v,w=e.constructor,A=w.precision;if(!e.s||!t.s)return t.s||(t=new w(e)),Vr?jr(t,A):t;if(b=e.d,v=t.d,f=e.e,l=t.e,b=b.slice(),c=f-l,c){for(c<0?(n=b,c=-c,p=v.length):(n=v,l=f,p=b.length),f=Math.ceil(A/Br),p=f>p?f+1:p+1,c>p&&(c=p,n.length=1),n.reverse();c--;)n.push(0);n.reverse()}for(p=b.length,c=v.length,p-c<0&&(c=p,n=v,v=b,b=n),r=0;c;)r=(b[--c]=b[c]+v[c]+r)/Rn|0,b[c]%=Rn;for(r&&(b.unshift(r),++l),p=b.length;b[--p]==0;)b.pop();return t.d=b,t.e=l,Vr?jr(t,A):t}function ss(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Po+e)}function rs(e){var t,r,n,l=e.length-1,c="",f=e[0];if(l>0){for(c+=f,t=1;t<l;t++)n=e[t]+"",r=Br-n.length,r&&(c+=Ul(r)),c+=n;f=e[t],n=f+"",r=Br-n.length,r&&(c+=Ul(r))}else if(f===0)return"0";for(;f%10===0;)f/=10;return c+f}var Gs=(function(){function e(n,l){var c,f=0,p=n.length;for(n=n.slice();p--;)c=n[p]*l+f,n[p]=c%Rn|0,f=c/Rn|0;return f&&n.unshift(f),n}function t(n,l,c,f){var p,b;if(c!=f)b=c>f?1:-1;else for(p=b=0;p<c;p++)if(n[p]!=l[p]){b=n[p]>l[p]?1:-1;break}return b}function r(n,l,c){for(var f=0;c--;)n[c]-=f,f=n[c]<l[c]?1:0,n[c]=f*Rn+n[c]-l[c];for(;!n[0]&&n.length>1;)n.shift()}return function(n,l,c,f){var p,b,v,w,A,T,_,j,M,k,R,F,U,V,q,Y,L,ee,Z=n.constructor,Ne=n.s==l.s?1:-1,te=n.d,Q=l.d;if(!n.s)return new Z(n);if(!l.s)throw Error(vi+"Division by zero");for(b=n.e-l.e,L=Q.length,q=te.length,_=new Z(Ne),j=_.d=[],v=0;Q[v]==(te[v]||0);)++v;if(Q[v]>(te[v]||0)&&--b,c==null?F=c=Z.precision:f?F=c+(bn(n)-bn(l))+1:F=c,F<0)return new Z(0);if(F=F/Br+2|0,v=0,L==1)for(w=0,Q=Q[0],F++;(v<q||w)&&F--;v++)U=w*Rn+(te[v]||0),j[v]=U/Q|0,w=U%Q|0;else{for(w=Rn/(Q[0]+1)|0,w>1&&(Q=e(Q,w),te=e(te,w),L=Q.length,q=te.length),V=L,M=te.slice(0,L),k=M.length;k<L;)M[k++]=0;ee=Q.slice(),ee.unshift(0),Y=Q[0],Q[1]>=Rn/2&&++Y;do w=0,p=t(Q,M,L,k),p<0?(R=M[0],L!=k&&(R=R*Rn+(M[1]||0)),w=R/Y|0,w>1?(w>=Rn&&(w=Rn-1),A=e(Q,w),T=A.length,k=M.length,p=t(A,M,T,k),p==1&&(w--,r(A,L<T?ee:Q,T))):(w==0&&(p=w=1),A=Q.slice()),T=A.length,T<k&&A.unshift(0),r(M,A,k),p==-1&&(k=M.length,p=t(Q,M,L,k),p<1&&(w++,r(M,L<k?ee:Q,k))),k=M.length):p===0&&(w++,M=[0]),j[v++]=w,p&&M[0]?M[k++]=te[V]||0:(M=[te[V]],k=1);while((V++<q||M[0]!==void 0)&&F--)}return j[0]||j.shift(),_.e=b,jr(_,f?c+bn(_)+1:c)}})();function U5(e,t){var r,n,l,c,f,p,b=0,v=0,w=e.constructor,A=w.precision;if(bn(e)>16)throw Error(cb+bn(e));if(!e.s)return new w(Xa);for(Vr=!1,p=A,f=new w(.03125);e.abs().gte(.1);)e=e.times(f),v+=5;for(n=Math.log(To(2,v))/Math.LN10*2+5|0,p+=n,r=l=c=new w(Xa),w.precision=p;;){if(l=jr(l.times(e),p),r=r.times(++b),f=c.plus(Gs(l,r,p)),rs(f.d).slice(0,p)===rs(c.d).slice(0,p)){for(;v--;)c=jr(c.times(c),p);return w.precision=A,t==null?(Vr=!0,jr(c,A)):c}c=f}}function bn(e){for(var t=e.e*Br,r=e.d[0];r>=10;r/=10)t++;return t}function Tx(e,t,r){if(t>e.LN10.sd())throw Vr=!0,r&&(e.precision=r),Error(vi+"LN10 precision limit exceeded");return jr(new e(e.LN10),t)}function Ul(e){for(var t="";e--;)t+="0";return t}function Fd(e,t){var r,n,l,c,f,p,b,v,w,A=1,T=10,_=e,j=_.d,M=_.constructor,k=M.precision;if(_.s<1)throw Error(vi+(_.s?"NaN":"-Infinity"));if(_.eq(Xa))return new M(0);if(t==null?(Vr=!1,v=k):v=t,_.eq(10))return t==null&&(Vr=!0),Tx(M,v);if(v+=T,M.precision=v,r=rs(j),n=r.charAt(0),c=bn(_),Math.abs(c)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)_=_.times(e),r=rs(_.d),n=r.charAt(0),A++;c=bn(_),n>1?(_=new M("0."+r),c++):_=new M(n+"."+r.slice(1))}else return b=Tx(M,v+2,k).times(c+""),_=Fd(new M(n+"."+r.slice(1)),v-T).plus(b),M.precision=k,t==null?(Vr=!0,jr(_,k)):_;for(p=f=_=Gs(_.minus(Xa),_.plus(Xa),v),w=jr(_.times(_),v),l=3;;){if(f=jr(f.times(w),v),b=p.plus(Gs(f,new M(l),v)),rs(b.d).slice(0,v)===rs(p.d).slice(0,v))return p=p.times(2),c!==0&&(p=p.plus(Tx(M,v+2,k).times(c+""))),p=Gs(p,new M(A),v),M.precision=k,t==null?(Vr=!0,jr(p,k)):p;p=b,l+=2}}function TN(e,t){var r,n,l;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(l=t.length;t.charCodeAt(l-1)===48;)--l;if(t=t.slice(n,l),t){if(l-=n,r=r-n-1,e.e=cu(r/Br),e.d=[],n=(r+1)%Br,r<0&&(n+=Br),n<l){for(n&&e.d.push(+t.slice(0,n)),l-=Br;n<l;)e.d.push(+t.slice(n,n+=Br));t=t.slice(n),n=Br-t.length}else n-=l;for(;n--;)t+="0";if(e.d.push(+t),Vr&&(e.e>Yh||e.e<-Yh))throw Error(cb+r)}else e.s=0,e.e=0,e.d=[0];return e}function jr(e,t,r){var n,l,c,f,p,b,v,w,A=e.d;for(f=1,c=A[0];c>=10;c/=10)f++;if(n=t-f,n<0)n+=Br,l=t,v=A[w=0];else{if(w=Math.ceil((n+1)/Br),c=A.length,w>=c)return e;for(v=c=A[w],f=1;c>=10;c/=10)f++;n%=Br,l=n-Br+f}if(r!==void 0&&(c=To(10,f-l-1),p=v/c%10|0,b=t<0||A[w+1]!==void 0||v%c,b=r<4?(p||b)&&(r==0||r==(e.s<0?3:2)):p>5||p==5&&(r==4||b||r==6&&(n>0?l>0?v/To(10,f-l):0:A[w-1])%10&1||r==(e.s<0?8:7))),t<1||!A[0])return b?(c=bn(e),A.length=1,t=t-c-1,A[0]=To(10,(Br-t%Br)%Br),e.e=cu(-t/Br)||0):(A.length=1,A[0]=e.e=e.s=0),e;if(n==0?(A.length=w,c=1,w--):(A.length=w+1,c=To(10,Br-n),A[w]=l>0?(v/To(10,f-l)%To(10,l)|0)*c:0),b)for(;;)if(w==0){(A[0]+=c)==Rn&&(A[0]=1,++e.e);break}else{if(A[w]+=c,A[w]!=Rn)break;A[w--]=0,c=1}for(n=A.length;A[--n]===0;)A.pop();if(Vr&&(e.e>Yh||e.e<-Yh))throw Error(cb+bn(e));return e}function F5(e,t){var r,n,l,c,f,p,b,v,w,A,T=e.constructor,_=T.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new T(e),Vr?jr(t,_):t;if(b=e.d,A=t.d,n=t.e,v=e.e,b=b.slice(),f=v-n,f){for(w=f<0,w?(r=b,f=-f,p=A.length):(r=A,n=v,p=b.length),l=Math.max(Math.ceil(_/Br),p)+2,f>l&&(f=l,r.length=1),r.reverse(),l=f;l--;)r.push(0);r.reverse()}else{for(l=b.length,p=A.length,w=l<p,w&&(p=l),l=0;l<p;l++)if(b[l]!=A[l]){w=b[l]<A[l];break}f=0}for(w&&(r=b,b=A,A=r,t.s=-t.s),p=b.length,l=A.length-p;l>0;--l)b[p++]=0;for(l=A.length;l>f;){if(b[--l]<A[l]){for(c=l;c&&b[--c]===0;)b[c]=Rn-1;--b[c],b[l]+=Rn}b[l]-=A[l]}for(;b[--p]===0;)b.pop();for(;b[0]===0;b.shift())--n;return b[0]?(t.d=b,t.e=n,Vr?jr(t,_):t):new T(0)}function Vo(e,t,r){var n,l=bn(e),c=rs(e.d),f=c.length;return t?(r&&(n=r-f)>0?c=c.charAt(0)+"."+c.slice(1)+Ul(n):f>1&&(c=c.charAt(0)+"."+c.slice(1)),c=c+(l<0?"e":"e+")+l):l<0?(c="0."+Ul(-l-1)+c,r&&(n=r-f)>0&&(c+=Ul(n))):l>=f?(c+=Ul(l+1-f),r&&(n=r-l-1)>0&&(c=c+"."+Ul(n))):((n=l+1)<f&&(c=c.slice(0,n)+"."+c.slice(n)),r&&(n=r-f)>0&&(l+1===f&&(c+="."),c+=Ul(n))),e.s<0?"-"+c:c}function ON(e,t){if(e.length>t)return e.length=t,!0}function H5(e){var t,r,n;function l(c){var f=this;if(!(f instanceof l))return new l(c);if(f.constructor=l,c instanceof l){f.s=c.s,f.e=c.e,f.d=(c=c.d)?c.slice():c;return}if(typeof c=="number"){if(c*0!==0)throw Error(Po+c);if(c>0)f.s=1;else if(c<0)c=-c,f.s=-1;else{f.s=0,f.e=0,f.d=[0];return}if(c===~~c&&c<1e7){f.e=0,f.d=[c];return}return TN(f,c.toString())}else if(typeof c!="string")throw Error(Po+c);if(c.charCodeAt(0)===45?(c=c.slice(1),f.s=-1):f.s=1,WU.test(c))TN(f,c);else throw Error(Po+c)}if(l.prototype=ot,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.clone=H5,l.config=l.set=KU,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return l.config(e),l}function KU(e){if(!e||typeof e!="object")throw Error(vi+"Object expected");var t,r,n,l=["precision",1,ou,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<l.length;t+=3)if((n=e[r=l[t]])!==void 0)if(cu(n)===n&&n>=l[t+1]&&n<=l[t+2])this[r]=n;else throw Error(Po+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Po+r+": "+n);return this}var ub=H5(XU);Xa=new ub(1);const yr=ub;function G5(e){var t;return e===0?t=1:t=Math.floor(new yr(e).abs().log(10).toNumber())+1,t}function V5(e,t,r){for(var n=new yr(e),l=0,c=[];n.lt(t)&&l<1e5;)c.push(n.toNumber()),n=n.add(r),l++;return c}var Y5=e=>{var[t,r]=e,[n,l]=[t,r];return t>r&&([n,l]=[r,t]),[n,l]},q5=(e,t,r)=>{if(e.lte(0))return new yr(0);var n=G5(e.toNumber()),l=new yr(10).pow(n),c=e.div(l),f=n!==1?.05:.1,p=new yr(Math.ceil(c.div(f).toNumber())).add(r).mul(f),b=p.mul(l);return t?new yr(b.toNumber()):new yr(Math.ceil(b.toNumber()))},ZU=(e,t,r)=>{var n=new yr(1),l=new yr(e);if(!l.isint()&&r){var c=Math.abs(e);c<1?(n=new yr(10).pow(G5(e)-1),l=new yr(Math.floor(l.div(n).toNumber())).mul(n)):c>1&&(l=new yr(Math.floor(e)))}else e===0?l=new yr(Math.floor((t-1)/2)):r||(l=new yr(Math.floor(e)));for(var f=Math.floor((t-1)/2),p=[],b=0;b<t;b++)p.push(l.add(new yr(b-f).mul(n)).toNumber());return p},X5=function(t,r,n,l){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new yr(0),tickMin:new yr(0),tickMax:new yr(0)};var f=q5(new yr(r).sub(t).div(n-1),l,c),p;t<=0&&r>=0?p=new yr(0):(p=new yr(t).add(r).div(2),p=p.sub(new yr(p).mod(f)));var b=Math.ceil(p.sub(t).div(f).toNumber()),v=Math.ceil(new yr(r).sub(p).div(f).toNumber()),w=b+v+1;return w>n?X5(t,r,n,l,c+1):(w<n&&(v=r>0?v+(n-w):v,b=r>0?b:b+(n-w)),{step:f,tickMin:p.sub(new yr(b).mul(f)),tickMax:p.add(new yr(v).mul(f))})},$U=function(t){var[r,n]=t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,f=Math.max(l,2),[p,b]=Y5([r,n]);if(p===-1/0||b===1/0){var v=b===1/0?[p,...Array(l-1).fill(1/0)]:[...Array(l-1).fill(-1/0),b];return r>n?v.reverse():v}if(p===b)return ZU(p,l,c);var{step:w,tickMin:A,tickMax:T}=X5(p,b,f,c,0),_=V5(A,T.add(new yr(.1).mul(w)),w);return r>n?_.reverse():_},QU=function(t,r){var[n,l]=t,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[f,p]=Y5([n,l]);if(f===-1/0||p===1/0)return[n,l];if(f===p)return[f];var b=Math.max(r,2),v=q5(new yr(p).sub(f).div(b-1),c,0),w=[...V5(new yr(f),new yr(p),v),p];return c===!1&&(w=w.map(A=>Math.round(A))),n>l?w.reverse():w},W5=e=>e.rootProps.maxBarSize,JU=e=>e.rootProps.barGap,K5=e=>e.rootProps.barCategoryGap,eF=e=>e.rootProps.barSize,X1=e=>e.rootProps.stackOffset,Z5=e=>e.rootProps.reverseStackOrder,db=e=>e.options.chartName,fb=e=>e.rootProps.syncId,$5=e=>e.rootProps.syncMethod,hb=e=>e.options.eventEmitter,tF=e=>e.rootProps.baseValue,Pn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},So={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Qi={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},W1=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function K1(e,t,r){if(r!=="auto")return r;if(e!=null)return cs(e,t)?"category":"number"}function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function qh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){rF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rF(e,t,r){return(t=nF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nF(e){var t=aF(e,"string");return typeof t=="symbol"?t:t+""}function aF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _N={allowDataOverflow:So.allowDataOverflow,allowDecimals:So.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:So.angleAxisId,includeHidden:!1,name:void 0,reversed:So.reversed,scale:So.scale,tick:So.tick,tickCount:void 0,ticks:void 0,type:So.type,unit:void 0},MN={allowDataOverflow:Qi.allowDataOverflow,allowDecimals:Qi.allowDecimals,allowDuplicatedCategory:Qi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qi.radiusAxisId,includeHidden:Qi.includeHidden,name:void 0,reversed:Qi.reversed,scale:Qi.scale,tick:Qi.tick,tickCount:Qi.tickCount,ticks:void 0,type:Qi.type,unit:void 0},iF=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},mb=Se([iF,LO],(e,t)=>{var r;if(e!=null)return e;var n=(r=K1(t,"angleAxis",_N.type))!==null&&r!==void 0?r:"category";return qh(qh({},_N),{},{type:n})}),sF=(e,t)=>e.polarAxis.radiusAxis[t],gb=Se([sF,LO],(e,t)=>{var r;if(e!=null)return e;var n=(r=K1(t,"radiusAxis",MN.type))!==null&&r!==void 0?r:"category";return qh(qh({},MN),{},{type:n})}),Z1=e=>e.polarOptions,pb=Se([Js,el,Bn],nB),Q5=Se([Z1,pb],(e,t)=>{if(e!=null)return Pi(e.innerRadius,t,0)}),J5=Se([Z1,pb],(e,t)=>{if(e!=null)return Pi(e.outerRadius,t,t*.8)}),lF=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},e8=Se([Z1],lF);Se([mb,e8],W1);var t8=Se([pb,Q5,J5],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Se([gb,t8],W1);var r8=Se([fr,Z1,Q5,J5,Js,el],(e,t,r,n,l,c)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:f,cy:p,startAngle:b,endAngle:v}=t;return{cx:Pi(f,l,l/2),cy:Pi(p,c,c/2),innerRadius:r,outerRadius:n,startAngle:b,endAngle:v,clockWise:!1}}}),Un=(e,t)=>t,$1=(e,t,r)=>r;function Q1(e){return e==null?void 0:e.id}function n8(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:l,dataKey:c}=r,f=new Map;return e.forEach(p=>{var b,v=(b=p.data)!==null&&b!==void 0?b:n;if(!(v==null||v.length===0)){var w=Q1(p);v.forEach((A,T)=>{var _=c==null||l?T:String(yn(A,c,null)),j=yn(A,p.dataKey,0),M;f.has(_)?M=f.get(_):M={},Object.assign(M,{[w]:j}),f.set(_,M)})}}),Array.from(f.values())}function J1(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var em=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function tm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function oF(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Fn=e=>{var t=fr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},uu=e=>e.tooltip.settings.axisId;function cF(e){if(e in vd)return vd[e]();var t="scale".concat(Zd(e));if(t in vd)return vd[t]()}function jN(e){var t=e.ticks,r=e.bandwidth,n=e.range(),l=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(c){function f(){return c.apply(this,arguments)}return f.toString=function(){return c.toString()},f})(()=>l),rangeMin:()=>l[0],rangeMax:()=>l[1],isInRange(c){var f=l[0],p=l[1];return f<=p?c>=f&&c<=p:c>=p&&c<=f},bandwidth:r?()=>r.call(e):void 0,ticks:t?c=>t.call(e,c):void 0,map:(c,f)=>{var p=e(c);if(p!=null){if(e.bandwidth&&f!==null&&f!==void 0&&f.position){var b=e.bandwidth();switch(f.position){case"middle":p+=b/2;break;case"end":p+=b;break}}return p}}}}function kN(e,t,r){if(typeof e=="function")return jN(e.copy().domain(t).range(r));if(e!=null){var n=cF(e);if(n!=null)return n.domain(t).range(r),jN(n)}}var uF=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Zs(t)){for(var r,n,l=0;l<t.length;l++){var c=t[l];Gt(c)&&((r===void 0||c<r)&&(r=c),(n===void 0||c>n)&&(n=c))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){dF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dF(e,t,r){return(t=fF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fF(e){var t=hF(e,"string");return typeof t=="symbol"?t:t+""}function hF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lv=[0,"auto"],kn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},a8=(e,t)=>e.cartesianAxis.xAxis[t],nl=(e,t)=>{var r=a8(e,t);return r??kn},Dn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Lv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Jd},i8=(e,t)=>e.cartesianAxis.yAxis[t],al=(e,t)=>{var r=i8(e,t);return r??Dn},mF={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},xb=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??mF},va=(e,t,r)=>{switch(t){case"xAxis":return nl(e,r);case"yAxis":return al(e,r);case"zAxis":return xb(e,r);case"angleAxis":return mb(e,r);case"radiusAxis":return gb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},gF=(e,t,r)=>{switch(t){case"xAxis":return nl(e,r);case"yAxis":return al(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},of=(e,t,r)=>{switch(t){case"xAxis":return nl(e,r);case"yAxis":return al(e,r);case"angleAxis":return mb(e,r);case"radiusAxis":return gb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},s8=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function l8(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var rm=e=>e.graphicalItems.cartesianItems,pF=Se([Un,$1],l8),o8=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),cf=Se([rm,va,pF],o8,{memoizeOptions:{resultEqualityCheck:tm}}),c8=Se([cf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(J1)),u8=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),xF=Se([cf],u8),d8=e=>e.map(t=>t.data).filter(Boolean).flat(1),vF=Se([cf],d8,{memoizeOptions:{resultEqualityCheck:tm}}),f8=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:l}=t;return e.length>0?e:r.slice(n,l+1)},vb=Se([vF,R5],f8),h8=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:yn(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(l=>({value:yn(l,n)}))):e.map(n=>({value:n})),nm=Se([vb,va,cf],h8);function m8(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function th(e){if(as(e)||e instanceof Date){var t=Number(e);if(Gt(t))return t}}function RN(e){if(Array.isArray(e)){var t=[th(e[0]),th(e[1])];return Zs(t)?t:void 0}var r=th(e);if(r!=null)return[r,r]}function $s(e){return e.map(th).filter(Ia)}function yF(e,t,r){return!r||typeof t!="number"||Ri(t)?[]:r.length?$s(r.flatMap(n=>{var l=yn(e,n.dataKey),c,f;if(Array.isArray(l)?[c,f]=l:c=f=l,!(!Gt(c)||!Gt(f)))return[t-c,t+f]})):[]}var On=e=>{var t=Fn(e),r=uu(e);return of(e,t,r)},uf=Se([On],e=>e==null?void 0:e.dataKey),bF=Se([c8,R5,On],n8),g8=(e,t,r,n)=>{var l={},c=t.reduce((f,p)=>{if(p.stackId==null)return f;var b=f[p.stackId];return b==null&&(b=[]),b.push(p),f[p.stackId]=b,f},l);return Object.fromEntries(Object.entries(c).map(f=>{var[p,b]=f,v=n?[...b].reverse():b,w=v.map(Q1);return[p,{stackedData:K9(e,w,r),graphicalItems:v}]}))},Wh=Se([bF,c8,X1,Z5],g8),p8=(e,t,r,n)=>{var{dataStartIndex:l,dataEndIndex:c}=t;if(n==null&&r!=="zAxis"){var f=J9(e,l,c);if(!(f!=null&&f[0]===0&&f[1]===0))return f}},wF=Se([va],e=>e.allowDataOverflow),yb=e=>{var t;if(e==null||!("domain"in e))return Lv;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=$s(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Lv},x8=Se([va],yb),v8=Se([x8,wF],L5),AF=Se([Wh,rl,Un,v8],p8,{memoizeOptions:{resultEqualityCheck:em}}),bb=e=>e.errorBars,SF=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>m8(r,n)),Kh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var l=r.filter(Boolean);if(l.length!==0){var c=l.flat(),f=Math.min(...c),p=Math.max(...c);return[f,p]}},y8=(e,t,r,n,l)=>{var c,f;if(r.length>0&&e.forEach(p=>{r.forEach(b=>{var v,w,A=(v=n[b.id])===null||v===void 0?void 0:v.filter(R=>m8(l,R)),T=yn(p,(w=t.dataKey)!==null&&w!==void 0?w:b.dataKey),_=yF(p,T,A);if(_.length>=2){var j=Math.min(..._),M=Math.max(..._);(c==null||j<c)&&(c=j),(f==null||M>f)&&(f=M)}var k=RN(T);k!=null&&(c=c==null?k[0]:Math.min(c,k[0]),f=f==null?k[1]:Math.max(f,k[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(p=>{var b=RN(yn(p,t.dataKey));b!=null&&(c=c==null?b[0]:Math.min(c,b[0]),f=f==null?b[1]:Math.max(f,b[1]))}),Gt(c)&&Gt(f))return[c,f]},EF=Se([vb,va,xF,bb,Un],y8,{memoizeOptions:{resultEqualityCheck:em}});function CF(e){var{value:t}=e;if(as(t)||t instanceof Date)return t}var NF=(e,t,r)=>{var n=e.map(CF).filter(l=>l!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&DT(n))?e5(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},b8=e=>e.referenceElements.dots,du=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),TF=Se([b8,Un,$1],du),w8=e=>e.referenceElements.areas,OF=Se([w8,Un,$1],du),A8=e=>e.referenceElements.lines,IF=Se([A8,Un,$1],du),S8=(e,t)=>{if(e!=null){var r=$s(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},_F=Se(TF,Un,S8),E8=(e,t)=>{if(e!=null){var r=$s(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},MF=Se([OF,Un],E8);function jF(e){var t;if(e.x!=null)return $s([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:$s(r)}function kF(e){var t;if(e.y!=null)return $s([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:$s(r)}var C8=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?jF(n):kF(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},DF=Se([IF,Un],C8),RF=Se(_F,DF,MF,(e,t,r)=>Kh(e,r,t)),N8=(e,t,r,n,l,c,f,p)=>{if(r!=null)return r;var b=f==="vertical"&&p==="xAxis"||f==="horizontal"&&p==="yAxis",v=b?Kh(n,c,l):Kh(c,l);return qU(t,v,e.allowDataOverflow)},PF=Se([va,x8,v8,AF,EF,RF,fr,Un],N8,{memoizeOptions:{resultEqualityCheck:em}}),LF=[0,1],T8=(e,t,r,n,l,c,f)=>{if(!((e==null||r==null||r.length===0)&&f===void 0)){var{dataKey:p,type:b}=e,v=cs(t,c);if(v&&p==null){var w;return e5(0,(w=r==null?void 0:r.length)!==null&&w!==void 0?w:0)}return b==="category"?NF(n,e,v):l==="expand"?LF:f}},wb=Se([va,fr,vb,nm,X1,Un,PF],T8);function BF(e){return e in vd}var O8=(e,t,r)=>{if(e!=null){var{scale:n,type:l}=e;if(n==="auto")return l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":l==="category"?"band":"linear";if(typeof n=="string"){var c="scale".concat(Zd(n));return BF(c)?c:"point"}}},fu=Se([va,s8,db],O8);function Ab(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?kN(e.scale,r,n):kN(t,r,n)}var I8=(e,t,r)=>{var n=yb(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Zs(e))return $U(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Zs(e))return QU(e,t.tickCount,t.allowDecimals)}},Sb=Se([wb,of,fu],I8),_8=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Zs(t)&&Array.isArray(r)&&r.length>0){var l,c,f=t[0],p=(l=r[0])!==null&&l!==void 0?l:0,b=t[1],v=(c=r[r.length-1])!==null&&c!==void 0?c:0;return[Math.min(f,p),Math.max(b,v)]}return t},zF=Se([va,wb,Sb,Un],_8),UF=Se(nm,va,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from($s(e.map(A=>A.value))).sort((A,T)=>A-T),l=n[0],c=n[n.length-1];if(l==null||c==null)return 1/0;var f=c-l;if(f===0)return 1/0;for(var p=0;p<n.length-1;p++){var b=n[p],v=n[p+1];if(!(b==null||v==null)){var w=v-b;r=Math.min(r,w)}}return r/f}}),M8=Se(UF,fr,K5,Bn,(e,t,r,n,l)=>l,(e,t,r,n,l)=>{if(!Gt(e))return 0;var c=t==="vertical"?n.height:n.width;if(l==="gap")return e*c/2;if(l==="no-gap"){var f=Pi(r,e*c),p=e*c/2;return p-f-(p-f)/c*f}return 0}),FF=(e,t,r)=>{var n=nl(e,t);return n==null||typeof n.padding!="string"?0:M8(e,"xAxis",t,r,n.padding)},HF=(e,t,r)=>{var n=al(e,t);return n==null||typeof n.padding!="string"?0:M8(e,"yAxis",t,r,n.padding)},GF=Se(nl,FF,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:l}=e;return typeof l=="string"?{left:t,right:t}:{left:((r=l.left)!==null&&r!==void 0?r:0)+t,right:((n=l.right)!==null&&n!==void 0?n:0)+t}}),VF=Se(al,HF,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:l}=e;return typeof l=="string"?{top:t,bottom:t}:{top:((r=l.top)!==null&&r!==void 0?r:0)+t,bottom:((n=l.bottom)!==null&&n!==void 0?n:0)+t}}),YF=Se([Bn,GF,D1,k1,(e,t,r)=>r],(e,t,r,n,l)=>{var{padding:c}=n;return l?[c.left,r.width-c.right]:[e.left+t.left,e.left+e.width-t.right]}),qF=Se([Bn,fr,VF,D1,k1,(e,t,r)=>r],(e,t,r,n,l,c)=>{var{padding:f}=l;return c?[n.height-f.bottom,f.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),df=(e,t,r,n)=>{var l;switch(t){case"xAxis":return YF(e,r,n);case"yAxis":return qF(e,r,n);case"zAxis":return(l=xb(e,r))===null||l===void 0?void 0:l.range;case"angleAxis":return e8(e);case"radiusAxis":return t8(e,r);default:return}},j8=Se([va,df],W1),XF=Se([fu,zF],uF),am=Se([va,fu,XF,j8],Ab);Se([cf,bb,Un],SF);function k8(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var im=(e,t)=>t,sm=(e,t,r)=>r,WF=Se(M1,im,sm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(k8)),KF=Se(j1,im,sm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(k8)),D8=(e,t)=>({width:e.width,height:t.height}),ZF=(e,t)=>{var r=typeof t.width=="number"?t.width:Jd;return{width:r,height:e.height}},R8=Se(Bn,nl,D8),$F=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},QF=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},JF=Se(el,Bn,WF,im,sm,(e,t,r,n,l)=>{var c={},f;return r.forEach(p=>{var b=D8(t,p);f==null&&(f=$F(t,n,e));var v=n==="top"&&!l||n==="bottom"&&l;c[p.id]=f-Number(v)*b.height,f+=(v?-1:1)*b.height}),c}),eH=Se(Js,Bn,KF,im,sm,(e,t,r,n,l)=>{var c={},f;return r.forEach(p=>{var b=ZF(t,p);f==null&&(f=QF(t,n,e));var v=n==="left"&&!l||n==="right"&&l;c[p.id]=f-Number(v)*b.width,f+=(v?-1:1)*b.width}),c}),tH=(e,t)=>{var r=nl(e,t);if(r!=null)return JF(e,r.orientation,r.mirror)},rH=Se([Bn,nl,tH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var l=r==null?void 0:r[n];return l==null?{x:e.left,y:0}:{x:e.left,y:l}}}),nH=(e,t)=>{var r=al(e,t);if(r!=null)return eH(e,r.orientation,r.mirror)},aH=Se([Bn,al,nH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var l=r==null?void 0:r[n];return l==null?{x:0,y:e.top}:{x:l,y:e.top}}}),P8=Se(Bn,al,(e,t)=>{var r=typeof t.width=="number"?t.width:Jd;return{width:r,height:e.height}}),PN=(e,t,r)=>{switch(t){case"xAxis":return R8(e,r).width;case"yAxis":return P8(e,r).height;default:return}},L8=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:l,type:c,dataKey:f}=r,p=cs(e,n),b=t.map(v=>v.value);if(f&&p&&c==="category"&&l&&DT(b))return b}},Eb=Se([fr,nm,va,Un],L8),B8=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:l,scale:c}=r,f=cs(e,n);if(f&&(l==="number"||c!=="auto"))return t.map(p=>p.value)}},Cb=Se([fr,nm,of,Un],B8),LN=Se([fr,gF,fu,am,Eb,Cb,df,Sb,Un],(e,t,r,n,l,c,f,p,b)=>{if(t!=null){var v=cs(e,b);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:b,categoricalDomain:c,duplicateDomain:l,isCategorical:v,niceTicks:p,range:f,realScaleType:r,scale:n}}}),iH=(e,t,r,n,l,c,f,p,b)=>{if(!(t==null||n==null)){var v=cs(e,b),{type:w,ticks:A,tickCount:T}=t,_=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=w==="category"&&n.bandwidth?n.bandwidth()/_:0;j=b==="angleAxis"&&c!=null&&c.length>=2?Oa(c[0]-c[1])*2*j:j;var M=A||l;return M?M.map((k,R)=>{var F=f?f.indexOf(k):k,U=n.map(F);return Gt(U)?{index:R,coordinate:U+j,value:k,offset:j}:null}).filter(Ia):v&&p?p.map((k,R)=>{var F=n.map(k);return Gt(F)?{coordinate:F+j,value:k,index:R,offset:j}:null}).filter(Ia):n.ticks?n.ticks(T).map((k,R)=>{var F=n.map(k);return Gt(F)?{coordinate:F+j,value:k,index:R,offset:j}:null}).filter(Ia):n.domain().map((k,R)=>{var F=n.map(k);return Gt(F)?{coordinate:F+j,value:f?f[k]:k,index:R,offset:j}:null}).filter(Ia)}},z8=Se([fr,of,fu,am,Sb,df,Eb,Cb,Un],iH),sH=(e,t,r,n,l,c,f)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var p=cs(e,f),{tickCount:b}=t,v=0;return v=f==="angleAxis"&&(n==null?void 0:n.length)>=2?Oa(n[0]-n[1])*2*v:v,p&&c?c.map((w,A)=>{var T=r.map(w);return Gt(T)?{coordinate:T+v,value:w,index:A,offset:v}:null}).filter(Ia):r.ticks?r.ticks(b).map((w,A)=>{var T=r.map(w);return Gt(T)?{coordinate:T+v,value:w,index:A,offset:v}:null}).filter(Ia):r.domain().map((w,A)=>{var T=r.map(w);return Gt(T)?{coordinate:T+v,value:l?l[w]:w,index:A,offset:v}:null}).filter(Ia)}},Wl=Se([fr,of,am,df,Eb,Cb,Un],sH),Kl=Se(va,am,(e,t)=>{if(!(e==null||t==null))return Xh(Xh({},e),{},{scale:t})}),lH=Se([va,fu,wb,j8],Ab);Se((e,t,r)=>xb(e,r),lH,(e,t)=>{if(!(e==null||t==null))return Xh(Xh({},e),{},{scale:t})});var oH=Se([fr,M1,j1],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),U8=e=>e.options.defaultTooltipEventType,F8=e=>e.options.validateTooltipEventTypes;function H8(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Nb(e,t){var r=U8(e),n=F8(e);return H8(t,r,n)}function cH(e){return xt(t=>Nb(t,e))}var G8=(e,t)=>{var r,n=Number(t);if(!(Ri(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},uH=e=>e.tooltip.settings,Hl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},dH={itemInteraction:{click:Hl,hover:Hl},axisInteraction:{click:Hl,hover:Hl},keyboardInteraction:Hl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},V8=ja({name:"tooltip",initialState:dH,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Gr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,l=Di(e).tooltipItemPayloads.indexOf(r);l>-1&&(e.tooltipItemPayloads[l]=n)},prepare:Gr()},removeTooltipEntrySettings:{reducer(e,t){var r=Di(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Gr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:fH,replaceTooltipEntrySettings:hH,removeTooltipEntrySettings:mH,setTooltipSettingsState:gH,setActiveMouseOverItemIndex:Y8,mouseLeaveItem:pH,mouseLeaveChart:q8,setActiveClickItemIndex:xH,setMouseOverAxisIndex:X8,setMouseClickAxisIndex:vH,setSyncInteraction:Bv,setKeyboardInteraction:zv}=V8.actions,yH=V8.reducer;function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Y0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(n){bH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bH(e,t,r){return(t=wH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wH(e){var t=AH(e,"string");return typeof t=="symbol"?t:t+""}function AH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function EH(e){return e.index!=null}var W8=(e,t,r,n)=>{if(t==null)return Hl;var l=SH(e,t,r);if(l==null)return Hl;if(l.active)return l;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var c=e.settings.active===!0;if(EH(l)){if(c)return Y0(Y0({},l),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Y0(Y0({},Hl),{},{coordinate:l.coordinate})};function CH(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function NH(e,t){var r=CH(e),n=t[0],l=t[1];if(r===void 0)return!1;var c=Math.min(n,l),f=Math.max(n,l);return r>=c&&r<=f}function TH(e,t,r){if(r==null||t==null)return!0;var n=yn(e,t);return n==null||!Zs(r)?!0:NH(n,r)}var Tb=(e,t,r,n)=>{var l=e==null?void 0:e.index;if(l==null)return null;var c=Number(l);if(!Gt(c))return l;var f=0,p=1/0;t.length>0&&(p=t.length-1);var b=Math.max(f,Math.min(c,p)),v=t[b];return v==null||TH(v,r,n)?String(b):null},K8=(e,t,r,n,l,c,f)=>{if(c!=null){var p=f[0],b=p==null?void 0:p.getPosition(c);if(b!=null)return b;var v=l==null?void 0:l[Number(c)];if(v)switch(r){case"horizontal":return{x:v.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:v.coordinate}}}},Z8=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var l;if(r==="hover"?l=e.itemInteraction.hover.graphicalItemId:l=e.itemInteraction.click.graphicalItemId,l==null&&n!=null){var c=e.tooltipItemPayloads[0];return c!=null?[c]:[]}return e.tooltipItemPayloads.filter(f=>{var p;return((p=f.settings)===null||p===void 0?void 0:p.graphicalItemId)===l})},$8=e=>e.options.tooltipPayloadSearcher,hu=e=>e.tooltip;function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function UN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(n){OH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OH(e,t,r){return(t=IH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IH(e){var t=_H(e,"string");return typeof t=="symbol"?t:t+""}function _H(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MH(e,t){return e??t}var Q8=(e,t,r,n,l,c,f)=>{if(!(t==null||c==null)){var{chartData:p,computedData:b,dataStartIndex:v,dataEndIndex:w}=r,A=[];return e.reduce((T,_)=>{var j,{dataDefinedOnItem:M,settings:k}=_,R=MH(M,p),F=Array.isArray(R)?NO(R,v,w):R,U=(j=k==null?void 0:k.dataKey)!==null&&j!==void 0?j:n,V=k==null?void 0:k.nameKey,q;if(n&&Array.isArray(F)&&!Array.isArray(F[0])&&f==="axis"?q=RT(F,n,l):q=c(F,t,b,V),Array.isArray(q))q.forEach(L=>{var ee=UN(UN({},k),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});T.push(UE({tooltipEntrySettings:ee,dataKey:L.dataKey,payload:L.payload,value:yn(L.payload,L.dataKey),name:L.name}))});else{var Y;T.push(UE({tooltipEntrySettings:k,dataKey:U,payload:q,value:yn(q,U),name:(Y=yn(q,V))!==null&&Y!==void 0?Y:k==null?void 0:k.name}))}return T},A)}},Ob=Se([On,s8,db],O8),jH=Se([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),kH=Se([Fn,uu],l8),mu=Se([jH,On,kH],o8,{memoizeOptions:{resultEqualityCheck:tm}}),DH=Se([mu],e=>e.filter(J1)),RH=Se([mu],d8,{memoizeOptions:{resultEqualityCheck:tm}}),gu=Se([RH,rl],f8),PH=Se([DH,rl,On],n8),Ib=Se([gu,On,mu],h8),J8=Se([On],yb),LH=Se([On],e=>e.allowDataOverflow),e6=Se([J8,LH],L5),BH=Se([mu],e=>e.filter(J1)),zH=Se([PH,BH,X1,Z5],g8),UH=Se([zH,rl,Fn,e6],p8),FH=Se([mu],u8),HH=Se([gu,On,FH,bb,Fn],y8,{memoizeOptions:{resultEqualityCheck:em}}),GH=Se([b8,Fn,uu],du),VH=Se([GH,Fn],S8),YH=Se([w8,Fn,uu],du),qH=Se([YH,Fn],E8),XH=Se([A8,Fn,uu],du),WH=Se([XH,Fn],C8),KH=Se([VH,WH,qH],Kh),ZH=Se([On,J8,e6,UH,HH,KH,fr,Fn],N8),ff=Se([On,fr,gu,Ib,X1,Fn,ZH],T8),$H=Se([ff,On,Ob],I8),QH=Se([On,ff,$H,Fn],_8),t6=e=>{var t=Fn(e),r=uu(e),n=!1;return df(e,t,r,n)},r6=Se([On,t6],W1),n6=Se([On,Ob,QH,r6],Ab),JH=Se([fr,Ib,On,Fn],L8),eG=Se([fr,Ib,On,Fn],B8),tG=(e,t,r,n,l,c,f,p)=>{if(t){var{type:b}=t,v=cs(e,p);if(n){var w=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,A=b==="category"&&n.bandwidth?n.bandwidth()/w:0;return A=p==="angleAxis"&&l!=null&&(l==null?void 0:l.length)>=2?Oa(l[0]-l[1])*2*A:A,v&&f?f.map((T,_)=>{var j=n.map(T);return Gt(j)?{coordinate:j+A,value:T,index:_,offset:A}:null}).filter(Ia):n.domain().map((T,_)=>{var j=n.map(T);return Gt(j)?{coordinate:j+A,value:c?c[T]:T,index:_,offset:A}:null}).filter(Ia)}}},il=Se([fr,On,Ob,n6,t6,JH,eG,Fn],tG),_b=Se([U8,F8,uH],(e,t,r)=>H8(r.shared,e,t)),a6=e=>e.tooltip.settings.trigger,Mb=e=>e.tooltip.settings.defaultIndex,hf=Se([hu,_b,a6,Mb],W8),Yo=Se([hf,gu,uf,ff],Tb),i6=Se([il,Yo],G8),s6=Se([hf],e=>{if(e)return e.dataKey});Se([hf],e=>{if(e)return e.graphicalItemId});var l6=Se([hu,_b,a6,Mb],Z8),rG=Se([Js,el,fr,Bn,il,Mb,l6],K8),nG=Se([hf,rG],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),aG=Se([hf],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),iG=Se([l6,Yo,rl,uf,i6,$8,_b],Q8),sG=Se([iG],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function HN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(n){lG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lG(e,t,r){return(t=oG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oG(e){var t=cG(e,"string");return typeof t=="symbol"?t:t+""}function cG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uG=()=>xt(On),dG=()=>{var e=uG(),t=xt(il),r=xt(n6);return Qc(!e||!r?void 0:HN(HN({},e),{},{scale:r}),t)};function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Bc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(r),!0).forEach(function(n){fG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fG(e,t,r){return(t=hG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hG(e){var t=mG(e,"string");return typeof t=="symbol"?t:t+""}function mG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gG=(e,t,r,n)=>{var l=t.find(c=>c&&c.index===r);if(l){if(e==="horizontal")return{x:l.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:l.coordinate}}return{x:0,y:0}},pG=(e,t,r,n)=>{var l=t.find(v=>v&&v.index===r);if(l){if(e==="centric"){var c=l.coordinate,{radius:f}=n;return Bc(Bc(Bc({},n),Jn(n.cx,n.cy,f,c)),{},{angle:c,radius:f})}var p=l.coordinate,{angle:b}=n;return Bc(Bc(Bc({},n),Jn(n.cx,n.cy,p,b)),{},{angle:b,radius:p})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function xG(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var o6=(e,t,r,n,l)=>{var c,f=(c=t==null?void 0:t.length)!==null&&c!==void 0?c:0;if(f<=1||e==null)return 0;if(n==="angleAxis"&&l!=null&&Math.abs(Math.abs(l[1]-l[0])-360)<=1e-6)for(var p=0;p<f;p++){var b,v,w,A,T,_=p>0?(b=r[p-1])===null||b===void 0?void 0:b.coordinate:(v=r[f-1])===null||v===void 0?void 0:v.coordinate,j=(w=r[p])===null||w===void 0?void 0:w.coordinate,M=p>=f-1?(A=r[0])===null||A===void 0?void 0:A.coordinate:(T=r[p+1])===null||T===void 0?void 0:T.coordinate,k=void 0;if(!(_==null||j==null||M==null))if(Oa(j-_)!==Oa(M-j)){var R=[];if(Oa(M-j)===Oa(l[1]-l[0])){k=M;var F=j+l[1]-l[0];R[0]=Math.min(F,(F+_)/2),R[1]=Math.max(F,(F+_)/2)}else{k=_;var U=M+l[1]-l[0];R[0]=Math.min(j,(U+j)/2),R[1]=Math.max(j,(U+j)/2)}var V=[Math.min(j,(k+j)/2),Math.max(j,(k+j)/2)];if(e>V[0]&&e<=V[1]||e>=R[0]&&e<=R[1]){var q;return(q=r[p])===null||q===void 0?void 0:q.index}}else{var Y=Math.min(_,M),L=Math.max(_,M);if(e>(Y+j)/2&&e<=(L+j)/2){var ee;return(ee=r[p])===null||ee===void 0?void 0:ee.index}}}else if(t)for(var Z=0;Z<f;Z++){var Ne=t[Z];if(Ne!=null){var te=t[Z+1],Q=t[Z-1];if(Z===0&&te!=null&&e<=(Ne.coordinate+te.coordinate)/2||Z===f-1&&Q!=null&&e>(Ne.coordinate+Q.coordinate)/2||Z>0&&Z<f-1&&Q!=null&&te!=null&&e>(Ne.coordinate+Q.coordinate)/2&&e<=(Ne.coordinate+te.coordinate)/2)return Ne.index}}return-1},c6=()=>xt(db),jb=(e,t)=>t,u6=(e,t,r)=>r,kb=(e,t,r,n)=>n,vG=Se(il,e=>b1(e,t=>t.coordinate)),Db=Se([hu,jb,u6,kb],W8),Rb=Se([Db,gu,uf,ff],Tb),yG=(e,t,r)=>{if(t!=null){var n=hu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},d6=Se([hu,jb,u6,kb],Z8),Zh=Se([Js,el,fr,Bn,il,kb,d6],K8),bG=Se([Db,Zh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),f6=Se([il,Rb],G8),wG=Se([d6,Rb,rl,uf,f6,$8,jb],Q8),AG=Se([Db,Rb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),SG=(e,t,r,n,l,c,f)=>{if(!(!e||!r||!n||!l)&&xG(e,f)){var p=eP(e,t),b=o6(p,c,l,r,n),v=gG(t,l,b,e);return{activeIndex:String(b),activeCoordinate:v}}},EG=(e,t,r,n,l,c,f)=>{if(!(!e||!n||!l||!c||!r)){var p=oB(e,r);if(p){var b=tP(p,t),v=o6(b,f,c,n,l),w=pG(t,c,v,p);return{activeIndex:String(v),activeCoordinate:w}}}},CG=(e,t,r,n,l,c,f,p)=>{if(!(!e||!t||!n||!l||!c))return t==="horizontal"||t==="vertical"?SG(e,t,n,l,c,f,p):EG(e,t,r,n,l,c,f)},NG=Se(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),TG=Se(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Pn)),r=Array.from(new Set(t));return r.sort((n,l)=>n-l)},{memoizeOptions:{resultEqualityCheck:oF}});function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function YN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(r),!0).forEach(function(n){OG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OG(e,t,r){return(t=IG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IG(e){var t=_G(e,"string");return typeof t=="symbol"?t:t+""}function _G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MG={},jG={zIndexMap:Object.values(Pn).reduce((e,t)=>YN(YN({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),MG)},kG=new Set(Object.values(Pn));function DG(e){return kG.has(e)}var h6=ja({name:"zIndex",initialState:jG,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Gr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!DG(r)&&delete e.zIndexMap[r])},prepare:Gr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:l}=t.payload;e.zIndexMap[r]?l?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:l?void 0:n,panoramaElement:l?n:void 0}},prepare:Gr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Gr()}}}),{registerZIndexPortal:RG,unregisterZIndexPortal:PG,registerZIndexPortalElement:LG,unregisterZIndexPortalElement:BG}=h6.actions,zG=h6.reducer;function wi(e){var{zIndex:t,children:r}=e,n=kP(),l=n&&t!==void 0&&t!==0,c=ia(),f=fn();O.useLayoutEffect(()=>l?(f(RG({zIndex:t})),()=>{f(PG({zIndex:t}))}):Ko,[f,t,l]);var p=xt(b=>NG(b,t,c));return l?p?q4.createPortal(r,p):null:r}function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uv.apply(null,arguments)}function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function q0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){UG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UG(e,t,r){return(t=FG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FG(e){var t=HG(e,"string");return typeof t=="symbol"?t:t+""}function HG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GG(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return O.isValidElement(t)?O.cloneElement(t,n):O.createElement(r,n)}function VG(e){var t,{coordinate:r,payload:n,index:l,offset:c,tooltipAxisBandSize:f,layout:p,cursor:b,tooltipEventType:v,chartName:w}=e,A=r,T=n,_=l;if(!b||!A||w!=="ScatterChart"&&v!=="axis")return null;var j,M,k;if(w==="ScatterChart")j=A,M=wL,k=Pn.cursorLine;else if(w==="BarChart")j=AL(p,A,c,f),M=ZO,k=Pn.cursorRectangle;else if(p==="radial"&&BT(A)){var{cx:R,cy:F,radius:U,startAngle:V,endAngle:q}=$O(A);j={cx:R,cy:F,startAngle:V,endAngle:q,innerRadius:U,outerRadius:U},M=JO,k=Pn.cursorLine}else j={points:fB(p,A,c)},M=wd,k=Pn.cursorLine;var Y=typeof b=="object"&&"className"in b?b.className:void 0,L=q0(q0(q0(q0({stroke:"#ccc",pointerEvents:"none"},c),j),Kd(b)),{},{payload:T,payloadIndex:_,className:Cr("recharts-tooltip-cursor",Y)});return O.createElement(wi,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:k},O.createElement(GG,{cursor:b,cursorComp:M,cursorProps:L}))}function YG(e){var t=dG(),r=DO(),n=Zo(),l=c6();return t==null||r==null||n==null||l==null?null:O.createElement(VG,Uv({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:l}))}var m6=O.createContext(null),qG=()=>O.useContext(m6),Ox={exports:{}},XN;function XG(){return XN||(XN=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function l(b,v,w){this.fn=b,this.context=v,this.once=w||!1}function c(b,v,w,A,T){if(typeof w!="function")throw new TypeError("The listener must be a function");var _=new l(w,A||b,T),j=r?r+v:v;return b._events[j]?b._events[j].fn?b._events[j]=[b._events[j],_]:b._events[j].push(_):(b._events[j]=_,b._eventsCount++),b}function f(b,v){--b._eventsCount===0?b._events=new n:delete b._events[v]}function p(){this._events=new n,this._eventsCount=0}p.prototype.eventNames=function(){var v=[],w,A;if(this._eventsCount===0)return v;for(A in w=this._events)t.call(w,A)&&v.push(r?A.slice(1):A);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(w)):v},p.prototype.listeners=function(v){var w=r?r+v:v,A=this._events[w];if(!A)return[];if(A.fn)return[A.fn];for(var T=0,_=A.length,j=new Array(_);T<_;T++)j[T]=A[T].fn;return j},p.prototype.listenerCount=function(v){var w=r?r+v:v,A=this._events[w];return A?A.fn?1:A.length:0},p.prototype.emit=function(v,w,A,T,_,j){var M=r?r+v:v;if(!this._events[M])return!1;var k=this._events[M],R=arguments.length,F,U;if(k.fn){switch(k.once&&this.removeListener(v,k.fn,void 0,!0),R){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,w),!0;case 3:return k.fn.call(k.context,w,A),!0;case 4:return k.fn.call(k.context,w,A,T),!0;case 5:return k.fn.call(k.context,w,A,T,_),!0;case 6:return k.fn.call(k.context,w,A,T,_,j),!0}for(U=1,F=new Array(R-1);U<R;U++)F[U-1]=arguments[U];k.fn.apply(k.context,F)}else{var V=k.length,q;for(U=0;U<V;U++)switch(k[U].once&&this.removeListener(v,k[U].fn,void 0,!0),R){case 1:k[U].fn.call(k[U].context);break;case 2:k[U].fn.call(k[U].context,w);break;case 3:k[U].fn.call(k[U].context,w,A);break;case 4:k[U].fn.call(k[U].context,w,A,T);break;default:if(!F)for(q=1,F=new Array(R-1);q<R;q++)F[q-1]=arguments[q];k[U].fn.apply(k[U].context,F)}}return!0},p.prototype.on=function(v,w,A){return c(this,v,w,A,!1)},p.prototype.once=function(v,w,A){return c(this,v,w,A,!0)},p.prototype.removeListener=function(v,w,A,T){var _=r?r+v:v;if(!this._events[_])return this;if(!w)return f(this,_),this;var j=this._events[_];if(j.fn)j.fn===w&&(!T||j.once)&&(!A||j.context===A)&&f(this,_);else{for(var M=0,k=[],R=j.length;M<R;M++)(j[M].fn!==w||T&&!j[M].once||A&&j[M].context!==A)&&k.push(j[M]);k.length?this._events[_]=k.length===1?k[0]:k:f(this,_)}return this},p.prototype.removeAllListeners=function(v){var w;return v?(w=r?r+v:v,this._events[w]&&f(this,w)):(this._events=new n,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prefixed=r,p.EventEmitter=p,e.exports=p})(Ox)),Ox.exports}var WG=XG();const KG=ls(WG);var Hd=new KG,Fv="recharts.syncEvent.tooltip",WN="recharts.syncEvent.brush",g6=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!Ri(r))return e[r]}},ZG={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},p6=ja({name:"options",initialState:ZG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),$G=p6.reducer,{createEventEmitter:QG}=p6.actions;function JG(e){return e.tooltip.syncInteraction}var eV={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},x6=ja({name:"chartData",initialState:eV,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:KN,setDataStartEndIndexes:tV,setComputedData:nQ}=x6.actions,rV=x6.reducer,nV=["x","y"];function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){aV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aV(e,t,r){return(t=iV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iV(e){var t=sV(e,"string");return typeof t=="symbol"?t:t+""}function sV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lV(e,t){if(e==null)return{};var r,n,l=oV(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function oV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cV(){var e=xt(fb),t=xt(hb),r=fn(),n=xt($5),l=xt(il),c=Zo(),f=R1(),p=xt(b=>b.rootProps.className);O.useEffect(()=>{if(e==null)return Ko;var b=(v,w,A)=>{if(t!==A&&e===v){if(n==="index"){var T;if(f&&w!==null&&w!==void 0&&(T=w.payload)!==null&&T!==void 0&&T.coordinate&&w.payload.sourceViewBox){var _=w.payload.coordinate,{x:j,y:M}=_,k=lV(_,nV),{x:R,y:F,width:U,height:V}=w.payload.sourceViewBox,q=zc(zc({},k),{},{x:f.x+(U?(j-R)/U:0)*f.width,y:f.y+(V?(M-F)/V:0)*f.height});r(zc(zc({},w),{},{payload:zc(zc({},w.payload),{},{coordinate:q})}))}else r(w);return}if(l!=null){var Y;if(typeof n=="function"){var L={activeTooltipIndex:w.payload.index==null?void 0:Number(w.payload.index),isTooltipActive:w.payload.active,activeIndex:w.payload.index==null?void 0:Number(w.payload.index),activeLabel:w.payload.label,activeDataKey:w.payload.dataKey,activeCoordinate:w.payload.coordinate},ee=n(l,L);Y=l[ee]}else n==="value"&&(Y=l.find(re=>String(re.value)===w.payload.label));var{coordinate:Z}=w.payload;if(Y==null||w.payload.active===!1||Z==null||f==null){r(Bv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:Ne,y:te}=Z,Q=Math.min(Ne,f.x+f.width),ie=Math.min(te,f.y+f.height),be={x:c==="horizontal"?Y.coordinate:Q,y:c==="horizontal"?ie:Y.coordinate},X=Bv({active:w.payload.active,coordinate:be,dataKey:w.payload.dataKey,index:String(Y.index),label:w.payload.label,sourceViewBox:w.payload.sourceViewBox,graphicalItemId:w.payload.graphicalItemId});r(X)}}};return Hd.on(Fv,b),()=>{Hd.off(Fv,b)}},[p,r,t,e,n,l,c,f])}function uV(){var e=xt(fb),t=xt(hb),r=fn();O.useEffect(()=>{if(e==null)return Ko;var n=(l,c,f)=>{t!==f&&e===l&&r(tV(c))};return Hd.on(WN,n),()=>{Hd.off(WN,n)}},[r,t,e])}function dV(){var e=fn();O.useEffect(()=>{e(QG())},[e]),cV(),uV()}function fV(e,t,r,n,l,c){var f=xt(_=>yG(_,e,t)),p=xt(hb),b=xt(fb),v=xt($5),w=xt(JG),A=w==null?void 0:w.active,T=R1();O.useEffect(()=>{if(!A&&b!=null&&p!=null){var _=Bv({active:c,coordinate:r,dataKey:f,index:l,label:typeof n=="number"?String(n):n,sourceViewBox:T,graphicalItemId:void 0});Hd.emit(Fv,b,_,p)}},[A,r,f,l,n,p,b,v,c,T])}function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function QN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){hV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hV(e,t,r){return(t=mV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mV(e){var t=gV(e,"string");return typeof t=="symbol"?t:t+""}function gV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pV(e){return e.dataKey}function xV(e,t){return O.isValidElement(e)?O.cloneElement(e,t):typeof e=="function"?O.createElement(e,t):O.createElement(eL,t)}var JN=[],vV={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function rh(e){var t,r,n=xa(e,vV),{active:l,allowEscapeViewBox:c,animationDuration:f,animationEasing:p,content:b,filterNull:v,isAnimationActive:w,offset:A,payloadUniqBy:T,position:_,reverseDirection:j,useTranslate3d:M,wrapperStyle:k,cursor:R,shared:F,trigger:U,defaultIndex:V,portal:q,axisId:Y}=n,L=fn(),ee=typeof V=="number"?String(V):V;O.useEffect(()=>{L(gH({shared:F,trigger:U,axisId:Y,active:l,defaultIndex:ee}))},[L,F,U,Y,l,ee]);var Z=R1(),Ne=YO(),te=cH(F),{activeIndex:Q,isActive:ie}=(t=xt(Re=>AG(Re,te,U,ee)))!==null&&t!==void 0?t:{},be=xt(Re=>wG(Re,te,U,ee)),X=xt(Re=>f6(Re,te,U,ee)),re=xt(Re=>bG(Re,te,U,ee)),se=be,de=qG(),xe=(r=l??ie)!==null&&r!==void 0?r:!1,[Me,$]=U7([se,xe]),ue=te==="axis"?X:void 0;fV(te,U,re,ue,Q,xe);var Te=q??de;if(Te==null||Z==null||te==null)return null;var Pe=se??JN;xe||(Pe=JN),v&&Pe.length&&(Pe=f7(Pe.filter(Re=>Re.value!=null&&(Re.hide!==!0||n.includeHidden)),T,pV));var Qe=Pe.length>0,J=O.createElement(lL,{allowEscapeViewBox:c,animationDuration:f,animationEasing:p,isAnimationActive:w,active:xe,coordinate:re,hasPayload:Qe,offset:A,position:_,reverseDirection:j,useTranslate3d:M,viewBox:Z,wrapperStyle:k,lastBoundingBox:Me,innerRef:$,hasPortalFromProps:!!q},xV(b,QN(QN({},n),{},{payload:Pe,label:ue,active:xe,activeIndex:Q,coordinate:re,accessibilityLayer:Ne})));return O.createElement(O.Fragment,null,q4.createPortal(J,Te),xe&&O.createElement(YG,{cursor:R,tooltipEventType:te,coordinate:re,payload:Pe,index:Q}))}var v6=e=>null;v6.displayName="Cell";function yV(e,t,r){return(t=bV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bV(e){var t=wV(e,"string");return typeof t=="symbol"?t:t+""}function wV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class AV{constructor(t){yV(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function e3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function SV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(r),!0).forEach(function(n){EV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EV(e,t,r){return(t=CV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CV(e){var t=NV(e,"string");return typeof t=="symbol"?t:t+""}function NV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TV={cacheSize:2e3,enableCache:!0},y6=SV({},TV),t3=new AV(y6.cacheSize),OV={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},r3="recharts_measurement_span";function IV(e,t){var r=t.fontSize||"",n=t.fontFamily||"",l=t.fontWeight||"",c=t.fontStyle||"",f=t.letterSpacing||"",p=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(l,"|").concat(c,"|").concat(f,"|").concat(p)}var n3=(e,t)=>{try{var r=document.getElementById(r3);r||(r=document.createElement("span"),r.setAttribute("id",r3),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,OV,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ad=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||rf.isSsr)return{width:0,height:0};if(!y6.enableCache)return n3(t,r);var n=IV(t,r),l=t3.get(n);if(l)return l;var c=n3(t,r);return t3.set(n,c),c},b6;function _V(e,t,r){return(t=MV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MV(e){var t=jV(e,"string");return typeof t=="symbol"?t:t+""}function jV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,i3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kV=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},PV=["cm","mm","pt","pc","in","Q","px"];function LV(e){return PV.includes(e)}var Hc="NaN";function BV(e,t){return e*RV[t]}class Qn{static parse(t){var r,[,n,l]=(r=DV.exec(t))!==null&&r!==void 0?r:[];return n==null?Qn.NaN:new Qn(parseFloat(n),l??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ri(t)&&(this.unit=""),r!==""&&!kV.test(r)&&(this.num=NaN,this.unit=""),LV(r)&&(this.num=BV(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Qn(NaN,""):new Qn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Qn(NaN,""):new Qn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Qn(NaN,""):new Qn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Qn(NaN,""):new Qn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ri(this.num)}}b6=Qn;_V(Qn,"NaN",new b6(NaN,""));function w6(e){if(e==null||e.includes(Hc))return Hc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,l,c]=(r=a3.exec(t))!==null&&r!==void 0?r:[],f=Qn.parse(n??""),p=Qn.parse(c??""),b=l==="*"?f.multiply(p):f.divide(p);if(b.isNaN())return Hc;t=t.replace(a3,b.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var v,[,w,A,T]=(v=i3.exec(t))!==null&&v!==void 0?v:[],_=Qn.parse(w??""),j=Qn.parse(T??""),M=A==="+"?_.add(j):_.subtract(j);if(M.isNaN())return Hc;t=t.replace(i3,M.toString())}return t}var s3=/\(([^()]*)\)/;function zV(e){for(var t=e,r;(r=s3.exec(t))!=null;){var[,n]=r;t=t.replace(s3,w6(n))}return t}function UV(e){var t=e.replace(/\s+/g,"");return t=zV(t),t=w6(t),t}function FV(e){try{return UV(e)}catch{return Hc}}function Ix(e){var t=FV(e.slice(5,-1));return t===Hc?"":t}var HV=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],GV=["dx","dy","angle","className","breakAll"];function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hv.apply(null,arguments)}function l3(e,t){if(e==null)return{};var r,n,l=VV(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function VV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var A6=/[ \f\n\r\t\v\u2028\u2029]+/,S6=e=>{var{children:t,breakAll:r,style:n}=e;try{var l=[];rn(t)||(r?l=t.toString().split(""):l=t.toString().split(A6));var c=l.map(p=>({word:p,width:Ad(p,n).width})),f=r?0:Ad("",n).width;return{wordsWithComputedWidth:c,spaceWidth:f}}catch{return null}};function YV(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var E6=(e,t,r,n)=>e.reduce((l,c)=>{var{word:f,width:p}=c,b=l[l.length-1];if(b&&p!=null&&(t==null||n||b.width+p+r<Number(t)))b.words.push(f),b.width+=p+r;else{var v={words:[f],width:p};l.push(v)}return l},[]),C6=e=>e.reduce((t,r)=>t.width>r.width?t:r),qV="",o3=(e,t,r,n,l,c,f,p)=>{var b=e.slice(0,t),v=S6({breakAll:r,style:n,children:b+qV});if(!v)return[!1,[]];var w=E6(v.wordsWithComputedWidth,c,f,p),A=w.length>l||C6(w).width>Number(c);return[A,w]},XV=(e,t,r,n,l)=>{var{maxLines:c,children:f,style:p,breakAll:b}=e,v=tt(c),w=String(f),A=E6(t,n,r,l);if(!v||l)return A;var T=A.length>c||C6(A).width>Number(n);if(!T)return A;for(var _=0,j=w.length-1,M=0,k;_<=j&&M<=w.length-1;){var R=Math.floor((_+j)/2),F=R-1,[U,V]=o3(w,F,b,p,c,n,r,l),[q]=o3(w,R,b,p,c,n,r,l);if(!U&&!q&&(_=R+1),U&&q&&(j=R-1),!U&&q){k=V;break}M++}return k||A},c3=e=>{var t=rn(e)?[]:e.toString().split(A6);return[{words:t,width:void 0}]},WV=e=>{var{width:t,scaleToFit:r,children:n,style:l,breakAll:c,maxLines:f}=e;if((t||r)&&!rf.isSsr){var p,b,v=S6({breakAll:c,children:n,style:l});if(v){var{wordsWithComputedWidth:w,spaceWidth:A}=v;p=w,b=A}else return c3(n);return XV({breakAll:c,children:n,maxLines:f,style:l},p,b,t,!!r)}return c3(n)},N6="#808080",KV={angle:0,breakAll:!1,capHeight:"0.71em",fill:N6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Pb=O.forwardRef((e,t)=>{var r=xa(e,KV),{x:n,y:l,lineHeight:c,capHeight:f,fill:p,scaleToFit:b,textAnchor:v,verticalAnchor:w}=r,A=l3(r,HV),T=O.useMemo(()=>WV({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:b,style:A.style,width:A.width}),[A.breakAll,A.children,A.maxLines,b,A.style,A.width]),{dx:_,dy:j,angle:M,className:k,breakAll:R}=A,F=l3(A,GV);if(!as(n)||!as(l)||T.length===0)return null;var U=Number(n)+(tt(_)?_:0),V=Number(l)+(tt(j)?j:0);if(!Gt(U)||!Gt(V))return null;var q;switch(w){case"start":q=Ix("calc(".concat(f,")"));break;case"middle":q=Ix("calc(".concat((T.length-1)/2," * -").concat(c," + (").concat(f," / 2))"));break;default:q=Ix("calc(".concat(T.length-1," * -").concat(c,")"));break}var Y=[],L=T[0];if(b&&L!=null){var ee=L.width,{width:Z}=A;Y.push("scale(".concat(tt(Z)&&tt(ee)?Z/ee:1,")"))}return M&&Y.push("rotate(".concat(M,", ").concat(U,", ").concat(V,")")),Y.length&&(F.transform=Y.join(" ")),O.createElement("text",Hv({},ha(F),{ref:t,x:U,y:V,className:Cr("recharts-text",k),textAnchor:v,fill:p.includes("url")?N6:p}),T.map((Ne,te)=>{var Q=Ne.words.join(R?"":" ");return O.createElement("tspan",{x:U,dy:te===0?q:c,key:"".concat(Q,"-").concat(te)},Q)}))});Pb.displayName="Text";function u3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(r),!0).forEach(function(n){ZV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZV(e,t,r){return(t=$V(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $V(e){var t=QV(e,"string");return typeof t=="symbol"?t:t+""}function QV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JV=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:l}=e,{x:c,y:f,height:p,upperWidth:b,lowerWidth:v}=Py(t),w=c,A=c+(b-v)/2,T=(w+A)/2,_=(b+v)/2,j=w+b/2,M=p>=0?1:-1,k=M*n,R=M>0?"end":"start",F=M>0?"start":"end",U=b>=0?1:-1,V=U*n,q=U>0?"end":"start",Y=U>0?"start":"end",L=l;if(r==="top"){var ee={x:w+b/2,y:f-k,horizontalAnchor:"middle",verticalAnchor:R};return L&&(ee.height=Math.max(f-L.y,0),ee.width=b),ee}if(r==="bottom"){var Z={x:A+v/2,y:f+p+k,horizontalAnchor:"middle",verticalAnchor:F};return L&&(Z.height=Math.max(L.y+L.height-(f+p),0),Z.width=v),Z}if(r==="left"){var Ne={x:T-V,y:f+p/2,horizontalAnchor:q,verticalAnchor:"middle"};return L&&(Ne.width=Math.max(Ne.x-L.x,0),Ne.height=p),Ne}if(r==="right"){var te={x:T+_+V,y:f+p/2,horizontalAnchor:Y,verticalAnchor:"middle"};return L&&(te.width=Math.max(L.x+L.width-te.x,0),te.height=p),te}var Q=L?{width:_,height:p}:{};return r==="insideLeft"?Ji({x:T+V,y:f+p/2,horizontalAnchor:Y,verticalAnchor:"middle"},Q):r==="insideRight"?Ji({x:T+_-V,y:f+p/2,horizontalAnchor:q,verticalAnchor:"middle"},Q):r==="insideTop"?Ji({x:w+b/2,y:f+k,horizontalAnchor:"middle",verticalAnchor:F},Q):r==="insideBottom"?Ji({x:A+v/2,y:f+p-k,horizontalAnchor:"middle",verticalAnchor:R},Q):r==="insideTopLeft"?Ji({x:w+V,y:f+k,horizontalAnchor:Y,verticalAnchor:F},Q):r==="insideTopRight"?Ji({x:w+b-V,y:f+k,horizontalAnchor:q,verticalAnchor:F},Q):r==="insideBottomLeft"?Ji({x:A+V,y:f+p-k,horizontalAnchor:Y,verticalAnchor:R},Q):r==="insideBottomRight"?Ji({x:A+v-V,y:f+p-k,horizontalAnchor:q,verticalAnchor:R},Q):r&&typeof r=="object"&&(tt(r.x)||Uo(r.x))&&(tt(r.y)||Uo(r.y))?Ji({x:c+Pi(r.x,_),y:f+Pi(r.y,p),horizontalAnchor:"end",verticalAnchor:"end"},Q):Ji({x:j,y:f+p/2,horizontalAnchor:"middle",verticalAnchor:"middle"},Q)},eY=["labelRef"],tY=["content"];function d3(e,t){if(e==null)return{};var r,n,l=rY(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function rY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function f3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(r),!0).forEach(function(n){nY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nY(e,t,r){return(t=aY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aY(e){var t=iY(e,"string");return typeof t=="symbol"?t:t+""}function iY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ls.apply(null,arguments)}var T6=O.createContext(null),sY=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:l,width:c,height:f,children:p}=e,b=O.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:l,width:c,height:f}),[t,r,n,l,c,f]);return O.createElement(T6.Provider,{value:b},p)},O6=()=>{var e=O.useContext(T6),t=R1();return e||(t?Py(t):void 0)},lY=O.createContext(null),oY=()=>{var e=O.useContext(lY),t=xt(r8);return e||t},cY=e=>{var{value:t,formatter:r}=e,n=rn(e.children)?t:e.children;return typeof r=="function"?r(n):n},Lb=e=>e!=null&&typeof e=="function",uY=(e,t)=>{var r=Oa(t-e),n=Math.min(Math.abs(t-e),360);return r*n},dY=(e,t,r,n,l)=>{var{offset:c,className:f}=e,{cx:p,cy:b,innerRadius:v,outerRadius:w,startAngle:A,endAngle:T,clockWise:_}=l,j=(v+w)/2,M=uY(A,T),k=M>=0?1:-1,R,F;switch(t){case"insideStart":R=A+k*c,F=_;break;case"insideEnd":R=T-k*c,F=!_;break;case"end":R=T+k*c,F=_;break;default:throw new Error("Unsupported position ".concat(t))}F=M<=0?F:!F;var U=Jn(p,b,j,R),V=Jn(p,b,j,R+(F?1:-1)*359),q="M".concat(U.x,",").concat(U.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(F?0:1,`,
    `).concat(V.x,",").concat(V.y),Y=rn(e.id)?Id("recharts-radial-line-"):e.id;return O.createElement("text",Ls({},n,{dominantBaseline:"central",className:Cr("recharts-radial-bar-label",f)}),O.createElement("defs",null,O.createElement("path",{id:Y,d:q})),O.createElement("textPath",{xlinkHref:"#".concat(Y)},r))},fY=(e,t,r)=>{var{cx:n,cy:l,innerRadius:c,outerRadius:f,startAngle:p,endAngle:b}=e,v=(p+b)/2;if(r==="outside"){var{x:w,y:A}=Jn(n,l,f+t,v);return{x:w,y:A,textAnchor:w>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:l,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:l,textAnchor:"middle",verticalAnchor:"end"};var T=(c+f)/2,{x:_,y:j}=Jn(n,l,T,v);return{x:_,y:j,textAnchor:"middle",verticalAnchor:"middle"}},nh=e=>e!=null&&"cx"in e&&tt(e.cx),hY={angle:0,offset:5,zIndex:Pn.label,position:"middle",textBreakAll:!1};function mY(e){if(!nh(e))return e;var{cx:t,cy:r,outerRadius:n}=e,l=n*2;return{x:t-n,y:r-n,width:l,upperWidth:l,lowerWidth:l,height:l}}function Fl(e){var t=xa(e,hY),{viewBox:r,parentViewBox:n,position:l,value:c,children:f,content:p,className:b="",textBreakAll:v,labelRef:w}=t,A=oY(),T=O6(),_=l==="center"?T:A??T,j,M,k;r==null?j=_:nh(r)?j=r:j=Py(r);var R=mY(j);if(!j||rn(c)&&rn(f)&&!O.isValidElement(p)&&typeof p!="function")return null;var F=yd(yd({},t),{},{viewBox:j});if(O.isValidElement(p)){var{labelRef:U}=F,V=d3(F,eY);return O.cloneElement(p,V)}if(typeof p=="function"){var{content:q}=F,Y=d3(F,tY);if(M=O.createElement(p,Y),O.isValidElement(M))return M}else M=cY(t);var L=ha(t);if(nh(j)){if(l==="insideStart"||l==="insideEnd"||l==="end")return dY(t,l,M,L,j);k=fY(j,t.offset,t.position)}else{if(!R)return null;var ee=JV({viewBox:R,position:l,offset:t.offset,parentViewBox:nh(n)?void 0:n});k=yd(yd({x:ee.x,y:ee.y,textAnchor:ee.horizontalAnchor,verticalAnchor:ee.verticalAnchor},ee.width!==void 0?{width:ee.width}:{}),ee.height!==void 0?{height:ee.height}:{})}return O.createElement(wi,{zIndex:t.zIndex},O.createElement(Pb,Ls({ref:w,className:Cr("recharts-label",b)},L,k,{textAnchor:YV(L.textAnchor)?L.textAnchor:k.textAnchor,breakAll:v}),M))}Fl.displayName="Label";var gY=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?O.createElement(Fl,Ls({key:"label-implicit"},n)):as(e)?O.createElement(Fl,Ls({key:"label-implicit",value:e},n)):O.isValidElement(e)?e.type===Fl?O.cloneElement(e,yd({key:"label-implicit"},n)):O.createElement(Fl,Ls({key:"label-implicit",content:e},n)):Lb(e)?O.createElement(Fl,Ls({key:"label-implicit",content:e},n)):e&&typeof e=="object"?O.createElement(Fl,Ls({},e,{key:"label-implicit"},n)):null};function pY(e){var{label:t,labelRef:r}=e,n=O6();return gY(t,n,r)||null}var _x={},Mx={},h3;function xY(){return h3||(h3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Mx)),Mx}var jx={},m3;function vY(){return m3||(m3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(jx)),jx}var g3;function yY(){return g3||(g3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xY(),r=vY(),n=Cy();function l(c){if(n.isArrayLike(c))return t.last(r.toArray(c))}e.last=l})(_x)),_x}var kx,p3;function bY(){return p3||(p3=1,kx=yY().last),kx}var wY=bY();const AY=ls(wY);var SY=["valueAccessor"],EY=["dataKey","clockWise","id","textBreakAll","zIndex"];function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$h.apply(null,arguments)}function x3(e,t){if(e==null)return{};var r,n,l=CY(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function CY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NY=e=>Array.isArray(e.value)?AY(e.value):e.value,I6=O.createContext(void 0),_6=I6.Provider,M6=O.createContext(void 0);M6.Provider;function TY(){return O.useContext(I6)}function OY(){return O.useContext(M6)}function ah(e){var{valueAccessor:t=NY}=e,r=x3(e,SY),{dataKey:n,clockWise:l,id:c,textBreakAll:f,zIndex:p}=r,b=x3(r,EY),v=TY(),w=OY(),A=v||w;return!A||!A.length?null:O.createElement(wi,{zIndex:p??Pn.label},O.createElement(ma,{className:"recharts-label-list"},A.map((T,_)=>{var j,M=rn(n)?t(T,_):yn(T.payload,n),k=rn(c)?{}:{id:"".concat(c,"-").concat(_)};return O.createElement(Fl,$h({key:"label-".concat(_)},ha(T),b,k,{fill:(j=r.fill)!==null&&j!==void 0?j:T.fill,parentViewBox:T.parentViewBox,value:M,textBreakAll:f,viewBox:T.viewBox,index:_,zIndex:0}))})))}ah.displayName="LabelList";function j6(e){var{label:t}=e;return t?t===!0?O.createElement(ah,{key:"labelList-implicit"}):O.isValidElement(t)||Lb(t)?O.createElement(ah,{key:"labelList-implicit",content:t}):typeof t=="object"?O.createElement(ah,$h({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gv.apply(null,arguments)}var k6=e=>{var{cx:t,cy:r,r:n,className:l}=e,c=Cr("recharts-dot",l);return tt(t)&&tt(r)&&tt(n)?O.createElement("circle",Gv({},pi(e),Sy(e),{className:c,cx:t,cy:r,r:n})):null},IY={radiusAxis:{},angleAxis:{}},D6=ja({name:"polarAxis",initialState:IY,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:aQ,removeRadiusAxis:iQ,addAngleAxis:sQ,removeAngleAxis:lQ}=D6.actions,_Y=D6.reducer;function MY(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Dx={exports:{}},Sr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v3;function jY(){if(v3)return Sr;v3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),T=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function j(M){if(typeof M=="object"&&M!==null){var k=M.$$typeof;switch(k){case e:switch(M=M.type,M){case r:case l:case n:case b:case v:case T:return M;default:switch(M=M&&M.$$typeof,M){case f:case p:case A:case w:return M;case c:return M;default:return k}}case t:return k}}}return Sr.ContextConsumer=c,Sr.ContextProvider=f,Sr.Element=e,Sr.ForwardRef=p,Sr.Fragment=r,Sr.Lazy=A,Sr.Memo=w,Sr.Portal=t,Sr.Profiler=l,Sr.StrictMode=n,Sr.Suspense=b,Sr.SuspenseList=v,Sr.isContextConsumer=function(M){return j(M)===c},Sr.isContextProvider=function(M){return j(M)===f},Sr.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===e},Sr.isForwardRef=function(M){return j(M)===p},Sr.isFragment=function(M){return j(M)===r},Sr.isLazy=function(M){return j(M)===A},Sr.isMemo=function(M){return j(M)===w},Sr.isPortal=function(M){return j(M)===t},Sr.isProfiler=function(M){return j(M)===l},Sr.isStrictMode=function(M){return j(M)===n},Sr.isSuspense=function(M){return j(M)===b},Sr.isSuspenseList=function(M){return j(M)===v},Sr.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===l||M===n||M===b||M===v||typeof M=="object"&&M!==null&&(M.$$typeof===A||M.$$typeof===w||M.$$typeof===f||M.$$typeof===c||M.$$typeof===p||M.$$typeof===_||M.getModuleId!==void 0)},Sr.typeOf=j,Sr}var y3;function kY(){return y3||(y3=1,Dx.exports=jY()),Dx.exports}var DY=kY(),b3=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",w3=null,Rx=null,R6=e=>{if(e===w3&&Array.isArray(Rx))return Rx;var t=[];return O.Children.forEach(e,r=>{rn(r)||(DY.isFragment(r)?t=t.concat(R6(r.props.children)):t.push(r))}),Rx=t,w3=e,t};function RY(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(l=>b3(l)):n=[b3(t)],R6(e).forEach(l=>{var c=Zc(l,"type.displayName")||Zc(l,"type.name");c&&n.indexOf(c)!==-1&&r.push(l)}),r}var P6=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Px={},A3;function PY(){return A3||(A3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var l;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const c=r[Symbol.toStringTag];return c==null||!((l=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&l.writable)?!1:r.toString()===`[object ${c}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Px)),Px}var Lx,S3;function LY(){return S3||(S3=1,Lx=PY().isPlainObject),Lx}var BY=LY();const zY=ls(BY);var E3,C3,N3,T3,O3;function I3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function _3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(r),!0).forEach(function(n){UY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UY(e,t,r){return(t=FY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FY(e){var t=HY(e,"string");return typeof t=="symbol"?t:t+""}function HY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qh(){return Qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qh.apply(null,arguments)}function pd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var M3=(e,t,r,n,l)=>{var c=r-n,f;return f=tn(E3||(E3=pd(["M ",",",""])),e,t),f+=tn(C3||(C3=pd(["L ",",",""])),e+r,t),f+=tn(N3||(N3=pd(["L ",",",""])),e+r-c/2,t+l),f+=tn(T3||(T3=pd(["L ",",",""])),e+r-c/2-n,t+l),f+=tn(O3||(O3=pd(["L ",","," Z"])),e,t),f},GY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VY=e=>{var t=xa(e,GY),{x:r,y:n,upperWidth:l,lowerWidth:c,height:f,className:p}=t,{animationEasing:b,animationDuration:v,animationBegin:w,isUpdateAnimationActive:A}=t,T=O.useRef(null),[_,j]=O.useState(-1),M=O.useRef(l),k=O.useRef(c),R=O.useRef(f),F=O.useRef(r),U=O.useRef(n),V=U1(e,"trapezoid-");if(O.useEffect(()=>{if(T.current&&T.current.getTotalLength)try{var be=T.current.getTotalLength();be&&j(be)}catch{}},[]),r!==+r||n!==+n||l!==+l||c!==+c||f!==+f||l===0&&c===0||f===0)return null;var q=Cr("recharts-trapezoid",p);if(!A)return O.createElement("g",null,O.createElement("path",Qh({},ha(t),{className:q,d:M3(r,n,l,c,f)})));var Y=M.current,L=k.current,ee=R.current,Z=F.current,Ne=U.current,te="0px ".concat(_===-1?1:_,"px"),Q="".concat(_,"px 0px"),ie=qO(["strokeDasharray"],v,b);return O.createElement(z1,{animationId:V,key:V,canBegin:_>0,duration:v,easing:b,isActive:A,begin:w},be=>{var X=Xr(Y,l,be),re=Xr(L,c,be),se=Xr(ee,f,be),de=Xr(Z,r,be),xe=Xr(Ne,n,be);T.current&&(M.current=X,k.current=re,R.current=se,F.current=de,U.current=xe);var Me=be>0?{transition:ie,strokeDasharray:Q}:{strokeDasharray:te};return O.createElement("path",Qh({},ha(t),{className:q,d:M3(de,xe,X,re,se),ref:T,style:_3(_3({},Me),t.style)}))})},YY=["option","shapeType","activeClassName"];function qY(e,t){if(e==null)return{};var r,n,l=XY(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function XY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function j3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(r),!0).forEach(function(n){WY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WY(e,t,r){return(t=KY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KY(e){var t=ZY(e,"string");return typeof t=="symbol"?t:t+""}function ZY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Y(e,t){return Jh(Jh({},t),e)}function QY(e,t){return e==="symbols"}function k3(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return O.createElement(ZO,r);case"trapezoid":return O.createElement(VY,r);case"sector":return O.createElement(JO,r);case"symbols":if(QY(t))return O.createElement(LT,r);break;case"curve":return O.createElement(wd,r);default:return null}}function JY(e){return O.isValidElement(e)?e.props:e}function eq(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,l=qY(e,YY),c;if(O.isValidElement(t))c=O.cloneElement(t,Jh(Jh({},l),JY(t)));else if(typeof t=="function")c=t(l,l.index);else if(zY(t)&&typeof t!="boolean"){var f=$Y(t,l);c=O.createElement(k3,{shapeType:r,elementProps:f})}else{var p=l;c=O.createElement(k3,{shapeType:r,elementProps:p})}return l.isActive?O.createElement(ma,{className:n},c):c}var L6=(e,t,r)=>{var n=fn();return(l,c)=>f=>{e==null||e(l,c,f),n(Y8({activeIndex:String(c),activeDataKey:t,activeCoordinate:l.tooltipPosition,activeGraphicalItemId:r}))}},B6=e=>{var t=fn();return(r,n)=>l=>{e==null||e(r,n,l),t(pH())}},z6=(e,t,r)=>{var n=fn();return(l,c)=>f=>{e==null||e(l,c,f),n(xH({activeIndex:String(c),activeDataKey:t,activeCoordinate:l.tooltipPosition,activeGraphicalItemId:r}))}};function U6(e){var{tooltipEntrySettings:t}=e,r=fn(),n=ia(),l=O.useRef(null);return O.useLayoutEffect(()=>{n||(l.current===null?r(fH(t)):l.current!==t&&r(hH({prev:l.current,next:t})),l.current=t)},[t,r,n]),O.useLayoutEffect(()=>()=>{l.current&&(r(mH(l.current)),l.current=null)},[r]),null}function F6(e){var{legendPayload:t}=e,r=fn(),n=ia(),l=O.useRef(null);return O.useLayoutEffect(()=>{n||(l.current===null?r(qP(t)):l.current!==t&&r(XP({prev:l.current,next:t})),l.current=t)},[r,n,t]),O.useLayoutEffect(()=>()=>{l.current&&(r(WP(l.current)),l.current=null)},[r]),null}var Bx,tq=()=>{var[e]=O.useState(()=>Id("uid-"));return e},rq=(Bx=rM.useId)!==null&&Bx!==void 0?Bx:tq;function nq(e,t){var r=rq();return t||(e?"".concat(e,"-").concat(r):r)}var aq=O.createContext(void 0),H6=e=>{var{id:t,type:r,children:n}=e,l=nq("recharts-".concat(r),t);return O.createElement(aq.Provider,{value:l},n(l))},iq={cartesianItems:[],polarItems:[]},G6=ja({name:"graphicalItems",initialState:iq,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Gr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,l=Di(e).cartesianItems.indexOf(r);l>-1&&(e.cartesianItems[l]=n)},prepare:Gr()},removeCartesianGraphicalItem:{reducer(e,t){var r=Di(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Gr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Gr()},removePolarGraphicalItem:{reducer(e,t){var r=Di(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Gr()}}}),{addCartesianGraphicalItem:sq,replaceCartesianGraphicalItem:lq,removeCartesianGraphicalItem:oq,addPolarGraphicalItem:oQ,removePolarGraphicalItem:cQ}=G6.actions,cq=G6.reducer,uq=e=>{var t=fn(),r=O.useRef(null);return O.useLayoutEffect(()=>{r.current===null?t(sq(e)):r.current!==e&&t(lq({prev:r.current,next:e})),r.current=e},[t,e]),O.useLayoutEffect(()=>()=>{r.current&&(t(oq(r.current)),r.current=null)},[t]),null},V6=O.memo(uq),dq=["points"];function D3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function zx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(r),!0).forEach(function(n){fq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fq(e,t,r){return(t=hq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hq(e){var t=mq(e,"string");return typeof t=="symbol"?t:t+""}function mq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e1.apply(null,arguments)}function gq(e,t){if(e==null)return{};var r,n,l=pq(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function pq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xq(e){var{option:t,dotProps:r,className:n}=e;if(O.isValidElement(t))return O.cloneElement(t,r);if(typeof t=="function")return t(r);var l=Cr(n,typeof t!="boolean"?t.className:""),c=r??{},{points:f}=c,p=gq(c,dq);return O.createElement(k6,e1({},p,{className:l}))}function vq(e,t){return e==null?!1:t?!0:e.length===1}function yq(e){var{points:t,dot:r,className:n,dotClassName:l,dataKey:c,baseProps:f,needClip:p,clipPathId:b,zIndex:v=Pn.scatter}=e;if(!vq(t,r))return null;var w=P6(r),A=BD(r),T=t.map((j,M)=>{var k,R,F=zx(zx(zx({r:3},f),A),{},{index:M,cx:(k=j.x)!==null&&k!==void 0?k:void 0,cy:(R=j.y)!==null&&R!==void 0?R:void 0,dataKey:c,value:j.value,payload:j.payload,points:t});return O.createElement(xq,{key:"dot-".concat(M),option:r,dotProps:F,className:l})}),_={};return p&&b!=null&&(_.clipPath="url(#clipPath-".concat(w?"":"dots-").concat(b,")")),O.createElement(wi,{zIndex:v},O.createElement(ma,e1({className:n},_),T))}function R3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function P3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R3(Object(r),!0).forEach(function(n){bq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bq(e,t,r){return(t=wq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wq(e){var t=Aq(e,"string");return typeof t=="symbol"?t:t+""}function Aq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y6=0,Sq={xAxis:{},yAxis:{},zAxis:{}},q6=ja({name:"cartesianAxis",initialState:Sq,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Gr()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Gr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Gr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Gr()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Gr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Gr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Gr()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Gr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Gr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,l=e.yAxis[r];if(l){var c,f=l.widthHistory||[];if(f.length===3&&f[0]===f[2]&&n===f[1]&&n!==l.width&&Math.abs(n-((c=f[0])!==null&&c!==void 0?c:0))<=1)return;var p=[...f,n].slice(-3);e.yAxis[r]=P3(P3({},l),{},{width:n,widthHistory:p})}}}}),{addXAxis:Eq,replaceXAxis:Cq,removeXAxis:Nq,addYAxis:Tq,replaceYAxis:Oq,removeYAxis:Iq,addZAxis:uQ,replaceZAxis:dQ,removeZAxis:fQ,updateYAxisWidth:_q}=q6.actions,Mq=q6.reducer,jq=Se([Bn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),kq=Se([jq,Js,el],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Bb=()=>xt(kq),Dq=()=>xt(sG);function L3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Ux(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(r),!0).forEach(function(n){Rq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rq(e,t,r){return(t=Pq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pq(e){var t=Lq(e,"string");return typeof t=="symbol"?t:t+""}function Lq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bq=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:l,dataKey:c,clipPath:f}=e;if(l===!1||t.x==null||t.y==null)return null;var p={index:r,dataKey:c,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},b=Ux(Ux(Ux({},p),Kd(l)),Sy(l)),v;return O.isValidElement(l)?v=O.cloneElement(l,b):typeof l=="function"?v=l(b):v=O.createElement(k6,b),O.createElement(ma,{className:"recharts-active-dot",clipPath:f},v)};function B3(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:l,clipPath:c,zIndex:f=Pn.activeDot}=e,p=xt(Yo),b=Dq();if(t==null||b==null)return null;var v=t.find(w=>b.includes(w.payload));return rn(v)?null:O.createElement(wi,{zIndex:f},O.createElement(Bq,{point:v,childIndex:Number(p),mainColor:r,dataKey:l,activeDot:n,clipPath:c}))}var z3=(e,t,r)=>{var n=r??e;if(!rn(n))return Pi(n,t,0)},zq=(e,t,r)=>{var n={},l=e.filter(J1),c=e.filter(v=>v.stackId==null),f=l.reduce((v,w)=>{var A=v[w.stackId];return A==null&&(A=[]),A.push(w),v[w.stackId]=A,v},n),p=Object.entries(f).map(v=>{var w,[A,T]=v,_=T.map(M=>M.dataKey),j=z3(t,r,(w=T[0])===null||w===void 0?void 0:w.barSize);return{stackId:A,dataKeys:_,barSize:j}}),b=c.map(v=>{var w=[v.dataKey].filter(T=>T!=null),A=z3(t,r,v.barSize);return{stackId:void 0,dataKeys:w,barSize:A}});return[...p,...b]};function U3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function X0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U3(Object(r),!0).forEach(function(n){Uq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uq(e,t,r){return(t=Fq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fq(e){var t=Hq(e,"string");return typeof t=="symbol"?t:t+""}function Hq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gq(e,t,r,n,l){var c,f=n.length;if(!(f<1)){var p=Pi(e,r,0,!0),b,v=[];if(Gt((c=n[0])===null||c===void 0?void 0:c.barSize)){var w=!1,A=r/f,T=n.reduce((F,U)=>F+(U.barSize||0),0);T+=(f-1)*p,T>=r&&(T-=(f-1)*p,p=0),T>=r&&A>0&&(w=!0,A*=.9,T=f*A);var _=(r-T)/2>>0,j={offset:_-p,size:0};b=n.reduce((F,U)=>{var V,q={stackId:U.stackId,dataKeys:U.dataKeys,position:{offset:j.offset+j.size+p,size:w?A:(V=U.barSize)!==null&&V!==void 0?V:0}},Y=[...F,q];return j=q.position,Y},v)}else{var M=Pi(t,r,0,!0);r-2*M-(f-1)*p<=0&&(p=0);var k=(r-2*M-(f-1)*p)/f;k>1&&(k>>=0);var R=Gt(l)?Math.min(k,l):k;b=n.reduce((F,U,V)=>[...F,{stackId:U.stackId,dataKeys:U.dataKeys,position:{offset:M+(k+p)*V+(k-R)/2,size:R}}],v)}return b}}var Vq=(e,t,r,n,l,c,f)=>{var p=rn(f)?t:f,b=Gq(r,n,l!==c?l:c,e,p);return l!==c&&b!=null&&(b=b.map(v=>X0(X0({},v),{},{position:X0(X0({},v.position),{},{offset:v.position.offset-l/2})}))),b},Yq=(e,t)=>{var r=Q1(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var l=e[n];if(l){var{stackedData:c}=l;if(c)return c.find(f=>f.key===r)}}}},qq=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function Xq(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Gt(e.zIndex)?e.zIndex:t}var Wq=e=>{var{chartData:t}=e,r=fn(),n=ia();return O.useEffect(()=>n?()=>{}:(r(KN(t)),()=>{r(KN(void 0))}),[t,r,n]),null},F3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},X6=ja({name:"brush",initialState:F3,reducers:{setBrushSettings(e,t){return t.payload==null?F3:t.payload}}}),{setBrushSettings:hQ}=X6.actions,Kq=X6.reducer;function Zq(e){return(e%180+180)%180}var $q=function(t){var{width:r,height:n}=t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=Zq(l),f=c*Math.PI/180,p=Math.atan(n/r),b=f>p&&f<Math.PI-p?n/Math.sin(f):r/Math.cos(f);return Math.abs(b)},Qq={dots:[],areas:[],lines:[]},W6=ja({name:"referenceElements",initialState:Qq,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Di(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Di(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Di(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:mQ,removeDot:gQ,addArea:pQ,removeArea:xQ,addLine:vQ,removeLine:yQ}=W6.actions,Jq=W6.reducer,eX=O.createContext(void 0),tX=e=>{var{children:t}=e,[r]=O.useState("".concat(Id("recharts"),"-clip")),n=Bb();if(n==null)return null;var{x:l,y:c,width:f,height:p}=n;return O.createElement(eX.Provider,{value:r},O.createElement("defs",null,O.createElement("clipPath",{id:r},O.createElement("rect",{x:l,y:c,height:p,width:f}))),t)};function K6(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var l=e[n];l!==void 0&&r.push(l)}return r}function rX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return $q(n,r)}function nX(e,t,r){var n=r==="width",{x:l,y:c,width:f,height:p}=e;return t===1?{start:n?l:c,end:n?l+f:c+p}:{start:n?l+f:c+p,end:n?l:c}}function Gd(e,t,r,n,l){if(e*t<e*n||e*t>e*l)return!1;var c=r();return e*(t-e*c/2-n)>=0&&e*(t+e*c/2-l)<=0}function aX(e,t){return K6(e,t+1)}function iX(e,t,r,n,l){for(var c=(n||[]).slice(),{start:f,end:p}=t,b=0,v=1,w=f,A=function(){var j=n==null?void 0:n[b];if(j===void 0)return{v:K6(n,v)};var M=b,k,R=()=>(k===void 0&&(k=r(j,M)),k),F=j.coordinate,U=b===0||Gd(e,F,R,w,p);U||(b=0,w=f,v+=1),U&&(w=F+e*(R()/2+l),b+=v)},T;v<=c.length;)if(T=A(),T)return T.v;return[]}function sX(e,t,r,n,l){var c=(n||[]).slice(),f=c.length;if(f===0)return[];for(var{start:p,end:b}=t,v=1;v<=f;v++){for(var w=(f-1)%v,A=p,T=!0,_=function(){var V=n[M];if(V==null)return 0;var q=M,Y,L=()=>(Y===void 0&&(Y=r(V,q)),Y),ee=V.coordinate,Z=M===w||Gd(e,ee,L,A,b);if(!Z)return T=!1,1;Z&&(A=ee+e*(L()/2+l))},j,M=w;M<f&&(j=_(),!(j!==0&&j===1));M+=v);if(T){for(var k=[],R=w;R<f;R+=v){var F=n[R];F!=null&&k.push(F)}return k}}return[]}function H3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H3(Object(r),!0).forEach(function(n){lX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lX(e,t,r){return(t=oX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oX(e){var t=cX(e,"string");return typeof t=="symbol"?t:t+""}function cX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uX(e,t,r,n,l){for(var c=(n||[]).slice(),f=c.length,{start:p}=t,{end:b}=t,v=function(T){var _=c[T];if(_==null)return 1;var j=_,M,k=()=>(M===void 0&&(M=r(_,T)),M);if(T===f-1){var R=e*(j.coordinate+e*k()/2-b);c[T]=j=ra(ra({},j),{},{tickCoord:R>0?j.coordinate-R*e:j.coordinate})}else c[T]=j=ra(ra({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var F=Gd(e,j.tickCoord,k,p,b);F&&(b=j.tickCoord-e*(k()/2+l),c[T]=ra(ra({},j),{},{isShow:!0}))}},w=f-1;w>=0;w--)v(w);return c}function dX(e,t,r,n,l,c){var f=(n||[]).slice(),p=f.length,{start:b,end:v}=t;if(c){var w=n[p-1];if(w!=null){var A=r(w,p-1),T=e*(w.coordinate+e*A/2-v);if(f[p-1]=w=ra(ra({},w),{},{tickCoord:T>0?w.coordinate-T*e:w.coordinate}),w.tickCoord!=null){var _=Gd(e,w.tickCoord,()=>A,b,v);_&&(v=w.tickCoord-e*(A/2+l),f[p-1]=ra(ra({},w),{},{isShow:!0}))}}}for(var j=c?p-1:p,M=function(F){var U=f[F];if(U==null)return 1;var V=U,q,Y=()=>(q===void 0&&(q=r(U,F)),q);if(F===0){var L=e*(V.coordinate-e*Y()/2-b);f[F]=V=ra(ra({},V),{},{tickCoord:L<0?V.coordinate-L*e:V.coordinate})}else f[F]=V=ra(ra({},V),{},{tickCoord:V.coordinate});if(V.tickCoord!=null){var ee=Gd(e,V.tickCoord,Y,b,v);ee&&(b=V.tickCoord+e*(Y()/2+l),f[F]=ra(ra({},V),{},{isShow:!0}))}},k=0;k<j;k++)M(k);return f}function zb(e,t,r){var{tick:n,ticks:l,viewBox:c,minTickGap:f,orientation:p,interval:b,tickFormatter:v,unit:w,angle:A}=e;if(!l||!l.length||!n)return[];if(tt(b)||rf.isSsr){var T;return(T=aX(l,tt(b)?b:0))!==null&&T!==void 0?T:[]}var _=[],j=p==="top"||p==="bottom"?"width":"height",M=w&&j==="width"?Ad(w,{fontSize:t,letterSpacing:r}):{width:0,height:0},k=(q,Y)=>{var L=typeof v=="function"?v(q.value,Y):q.value;return j==="width"?rX(Ad(L,{fontSize:t,letterSpacing:r}),M,A):Ad(L,{fontSize:t,letterSpacing:r})[j]},R=l[0],F=l[1],U=l.length>=2&&R!=null&&F!=null?Oa(F.coordinate-R.coordinate):1,V=nX(c,U,j);return b==="equidistantPreserveStart"?iX(U,V,k,l,f):b==="equidistantPreserveEnd"?sX(U,V,k,l,f):(b==="preserveStart"||b==="preserveStartEnd"?_=dX(U,V,k,l,f,b==="preserveStartEnd"):_=uX(U,V,k,l,f),_.filter(q=>q.isShow))}var fX=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:l=0,tickMargin:c=0}=e,f=0;if(t){Array.from(t).forEach(w=>{if(w){var A=w.getBoundingClientRect();A.width>f&&(f=A.width)}});var p=r?r.getBoundingClientRect().width:0,b=l+c,v=f+b+p+(r?n:0);return Math.round(v)}return 0},hX=["axisLine","width","height","className","hide","ticks","axisType"];function mX(e,t){if(e==null)return{};var r,n,l=gX(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function gX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qo.apply(null,arguments)}function G3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G3(Object(r),!0).forEach(function(n){pX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pX(e,t,r){return(t=xX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xX(e){var t=vX(e,"string");return typeof t=="symbol"?t:t+""}function vX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Pn.axis};function yX(e){var{x:t,y:r,width:n,height:l,orientation:c,mirror:f,axisLine:p,otherSvgProps:b}=e;if(!p)return null;var v=en(en(en({},b),pi(p)),{},{fill:"none"});if(c==="top"||c==="bottom"){var w=+(c==="top"&&!f||c==="bottom"&&f);v=en(en({},v),{},{x1:t,y1:r+w*l,x2:t+n,y2:r+w*l})}else{var A=+(c==="left"&&!f||c==="right"&&f);v=en(en({},v),{},{x1:t+A*n,y1:r,x2:t+A*n,y2:r+l})}return O.createElement("line",qo({},v,{className:Cr("recharts-cartesian-axis-line",Zc(p,"className"))}))}function bX(e,t,r,n,l,c,f,p,b){var v,w,A,T,_,j,M=p?-1:1,k=e.tickSize||f,R=tt(e.tickCoord)?e.tickCoord:e.coordinate;switch(c){case"top":v=w=e.coordinate,T=r+ +!p*l,A=T-M*k,j=A-M*b,_=R;break;case"left":A=T=e.coordinate,w=t+ +!p*n,v=w-M*k,_=v-M*b,j=R;break;case"right":A=T=e.coordinate,w=t+ +p*n,v=w+M*k,_=v+M*b,j=R;break;default:v=w=e.coordinate,T=r+ +p*l,A=T+M*k,j=A+M*b,_=R;break}return{line:{x1:v,y1:A,x2:w,y2:T},tick:{x:_,y:j}}}function wX(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function AX(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function SX(e){var{option:t,tickProps:r,value:n}=e,l,c=Cr(r.className,"recharts-cartesian-axis-tick-value");if(O.isValidElement(t))l=O.cloneElement(t,en(en({},r),{},{className:c}));else if(typeof t=="function")l=t(en(en({},r),{},{className:c}));else{var f="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(f=Cr(f,MY(t))),l=O.createElement(Pb,qo({},r,{className:f}),n)}return l}var EX=O.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:l,stroke:c,tickFormatter:f,unit:p,padding:b,tickTextProps:v,orientation:w,mirror:A,x:T,y:_,width:j,height:M,tickSize:k,tickMargin:R,fontSize:F,letterSpacing:U,getTicksConfig:V,events:q,axisType:Y}=e,L=zb(en(en({},V),{},{ticks:r}),F,U),ee=wX(w,A),Z=AX(w,A),Ne=pi(V),te=Kd(n),Q={};typeof l=="object"&&(Q=l);var ie=en(en({},Ne),{},{fill:"none"},Q),be=L.map(se=>en({entry:se},bX(se,T,_,j,M,w,k,A,R))),X=be.map(se=>{var{entry:de,line:xe}=se;return O.createElement(ma,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(de.value,"-").concat(de.coordinate,"-").concat(de.tickCoord)},l&&O.createElement("line",qo({},ie,xe,{className:Cr("recharts-cartesian-axis-tick-line",Zc(l,"className"))})))}),re=be.map((se,de)=>{var xe,Me,{entry:$,tick:ue}=se,Te=en(en(en(en({verticalAnchor:Z},Ne),{},{textAnchor:ee,stroke:"none",fill:c},ue),{},{index:de,payload:$,visibleTicksCount:L.length,tickFormatter:f,padding:b},v),{},{angle:(xe=(Me=v==null?void 0:v.angle)!==null&&Me!==void 0?Me:Ne.angle)!==null&&xe!==void 0?xe:0}),Pe=en(en({},Te),te);return O.createElement(ma,qo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},Ey(q,$,de)),n&&O.createElement(SX,{option:n,tickProps:Pe,value:"".concat(typeof f=="function"?f($.value,de):$.value).concat(p||"")}))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(Y,"-ticks")},re.length>0&&O.createElement(wi,{zIndex:Pn.label},O.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(Y,"-tick-labels"),ref:t},re)),X.length>0&&O.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(Y,"-tick-lines")},X))}),CX=O.forwardRef((e,t)=>{var{axisLine:r,width:n,height:l,className:c,hide:f,ticks:p,axisType:b}=e,v=mX(e,hX),[w,A]=O.useState(""),[T,_]=O.useState(""),j=O.useRef(null);O.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var k;return fX({ticks:j.current,label:(k=e.labelRef)===null||k===void 0?void 0:k.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var M=O.useCallback(k=>{if(k){var R=k.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=R;var F=R[0];if(F){var U=window.getComputedStyle(F),V=U.fontSize,q=U.letterSpacing;(V!==w||q!==T)&&(A(V),_(q))}}},[w,T]);return f||n!=null&&n<=0||l!=null&&l<=0?null:O.createElement(wi,{zIndex:e.zIndex},O.createElement(ma,{className:Cr("recharts-cartesian-axis",c)},O.createElement(yX,{x:e.x,y:e.y,width:n,height:l,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:pi(e)}),O.createElement(EX,{ref:M,axisType:b,events:v,fontSize:w,getTicksConfig:e,height:e.height,letterSpacing:T,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:p,unit:e.unit,width:e.width,x:e.x,y:e.y}),O.createElement(sY,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},O.createElement(pY,{label:e.label,labelRef:e.labelRef}),e.children)))}),Ub=O.forwardRef((e,t)=>{var r=xa(e,Vs);return O.createElement(CX,qo({},r,{ref:t}))});Ub.displayName="CartesianAxis";var NX=["x1","y1","x2","y2","key"],TX=["offset"],OX=["xAxisId","yAxisId"],IX=["xAxisId","yAxisId"];function V3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V3(Object(r),!0).forEach(function(n){_X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _X(e,t,r){return(t=MX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jo.apply(null,arguments)}function t1(e,t){if(e==null)return{};var r,n,l=kX(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function kX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DX=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:l,width:c,height:f,ry:p}=e;return O.createElement("rect",{x:n,y:l,ry:p,width:c,height:f,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Z6(e){var{option:t,lineItemProps:r}=e,n;if(O.isValidElement(t))n=O.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var l,{x1:c,y1:f,x2:p,y2:b,key:v}=r,w=t1(r,NX),A=(l=pi(w))!==null&&l!==void 0?l:{},{offset:T}=A,_=t1(A,TX);n=O.createElement("line",jo({},_,{x1:c,y1:f,x2:p,y2:b,fill:"none",key:v}))}return n}function RX(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:l}=e;if(!n||!l||!l.length)return null;var{xAxisId:c,yAxisId:f}=e,p=t1(e,OX),b=l.map((v,w)=>{var A=na(na({},p),{},{x1:t,y1:v,x2:t+r,y2:v,key:"line-".concat(w),index:w});return O.createElement(Z6,{key:"line-".concat(w),option:n,lineItemProps:A})});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},b)}function PX(e){var{y:t,height:r,vertical:n=!0,verticalPoints:l}=e;if(!n||!l||!l.length)return null;var{xAxisId:c,yAxisId:f}=e,p=t1(e,IX),b=l.map((v,w)=>{var A=na(na({},p),{},{x1:v,y1:t,x2:v,y2:t+r,key:"line-".concat(w),index:w});return O.createElement(Z6,{option:n,lineItemProps:A,key:"line-".concat(w)})});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},b)}function LX(e){var{horizontalFill:t,fillOpacity:r,x:n,y:l,width:c,height:f,horizontalPoints:p,horizontal:b=!0}=e;if(!b||!t||!t.length||p==null)return null;var v=p.map(A=>Math.round(A+l-l)).sort((A,T)=>A-T);l!==v[0]&&v.unshift(0);var w=v.map((A,T)=>{var _=v[T+1],j=_==null,M=j?l+f-A:_-A;if(M<=0)return null;var k=T%t.length;return O.createElement("rect",{key:"react-".concat(T),y:A,x:n,height:M,width:c,stroke:"none",fill:t[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},w)}function BX(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:l,y:c,width:f,height:p,verticalPoints:b}=e;if(!t||!r||!r.length)return null;var v=b.map(A=>Math.round(A+l-l)).sort((A,T)=>A-T);l!==v[0]&&v.unshift(0);var w=v.map((A,T)=>{var _=v[T+1],j=_==null,M=j?l+f-A:_-A;if(M<=0)return null;var k=T%r.length;return O.createElement("rect",{key:"react-".concat(T),x:A,y:c,width:M,height:p,stroke:"none",fill:r[k],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},w)}var zX=(e,t)=>{var{xAxis:r,width:n,height:l,offset:c}=e;return TO(zb(na(na(na({},Vs),r),{},{ticks:OO(r),viewBox:{x:0,y:0,width:n,height:l}})),c.left,c.left+c.width,t)},UX=(e,t)=>{var{yAxis:r,width:n,height:l,offset:c}=e;return TO(zb(na(na(na({},Vs),r),{},{ticks:OO(r),viewBox:{x:0,y:0,width:n,height:l}})),c.top,c.top+c.height,t)},FX={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Pn.grid};function Sd(e){var t=RO(),r=PO(),n=DO(),l=na(na({},xa(e,FX)),{},{x:tt(e.x)?e.x:n.left,y:tt(e.y)?e.y:n.top,width:tt(e.width)?e.width:n.width,height:tt(e.height)?e.height:n.height}),{xAxisId:c,yAxisId:f,x:p,y:b,width:v,height:w,syncWithTicks:A,horizontalValues:T,verticalValues:_}=l,j=ia(),M=xt(Z=>LN(Z,"xAxis",c,j)),k=xt(Z=>LN(Z,"yAxis",f,j));if(!is(v)||!is(w)||!tt(p)||!tt(b))return null;var R=l.verticalCoordinatesGenerator||zX,F=l.horizontalCoordinatesGenerator||UX,{horizontalPoints:U,verticalPoints:V}=l;if((!U||!U.length)&&typeof F=="function"){var q=T&&T.length,Y=F({yAxis:k?na(na({},k),{},{ticks:q?T:k.ticks}):void 0,width:t??v,height:r??w,offset:n},q?!0:A);Nh(Array.isArray(Y),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Y,"]")),Array.isArray(Y)&&(U=Y)}if((!V||!V.length)&&typeof R=="function"){var L=_&&_.length,ee=R({xAxis:M?na(na({},M),{},{ticks:L?_:M.ticks}):void 0,width:t??v,height:r??w,offset:n},L?!0:A);Nh(Array.isArray(ee),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof ee,"]")),Array.isArray(ee)&&(V=ee)}return O.createElement(wi,{zIndex:l.zIndex},O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(DX,{fill:l.fill,fillOpacity:l.fillOpacity,x:l.x,y:l.y,width:l.width,height:l.height,ry:l.ry}),O.createElement(LX,jo({},l,{horizontalPoints:U})),O.createElement(BX,jo({},l,{verticalPoints:V})),O.createElement(RX,jo({},l,{offset:n,horizontalPoints:U,xAxis:M,yAxis:k})),O.createElement(PX,jo({},l,{offset:n,verticalPoints:V,xAxis:M,yAxis:k}))))}Sd.displayName="CartesianGrid";var HX={},$6=ja({name:"errorBars",initialState:HX,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:l}=t.payload;e[r]&&(e[r]=e[r].map(c=>c.dataKey===n.dataKey&&c.direction===n.direction?l:c))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(l=>l.dataKey!==n.dataKey||l.direction!==n.direction))}}}),{addErrorBar:bQ,replaceErrorBar:wQ,removeErrorBar:AQ}=$6.actions,GX=$6.reducer,VX=["children"];function YX(e,t){if(e==null)return{};var r,n,l=qX(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function qX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},WX=O.createContext(XX);function KX(e){var{children:t}=e,r=YX(e,VX);return O.createElement(WX.Provider,{value:r},t)}function Fb(e,t){var r,n,l=xt(v=>nl(v,e)),c=xt(v=>al(v,t)),f=(r=l==null?void 0:l.allowDataOverflow)!==null&&r!==void 0?r:kn.allowDataOverflow,p=(n=c==null?void 0:c.allowDataOverflow)!==null&&n!==void 0?n:Dn.allowDataOverflow,b=f||p;return{needClip:b,needClipX:f,needClipY:p}}function Q6(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,l=Bb(),{needClipX:c,needClipY:f,needClip:p}=Fb(t,r);if(!p||!l)return null;var{x:b,y:v,width:w,height:A}=l;return O.createElement("clipPath",{id:"clipPath-".concat(n)},O.createElement("rect",{x:c?b:b-w/2,y:f?v:v-A/2,width:c?w:w*2,height:f?A:A*2}))}function ZX(e){var t=Kd(e),r=3,n=2;if(t!=null){var{r:l,strokeWidth:c}=t,f=Number(l),p=Number(c);return(Number.isNaN(f)||f<0)&&(f=r),(Number.isNaN(p)||p<0)&&(p=n),{r:f,strokeWidth:p}}return{r,strokeWidth:n}}var Fx={exports:{}},Hx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y3;function $X(){if(Y3)return Hx;Y3=1;var e=nu();function t(b,v){return b===v&&(b!==0||1/b===1/v)||b!==b&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,l=e.useRef,c=e.useEffect,f=e.useMemo,p=e.useDebugValue;return Hx.useSyncExternalStoreWithSelector=function(b,v,w,A,T){var _=l(null);if(_.current===null){var j={hasValue:!1,value:null};_.current=j}else j=_.current;_=f(function(){function k(q){if(!R){if(R=!0,F=q,q=A(q),T!==void 0&&j.hasValue){var Y=j.value;if(T(Y,q))return U=Y}return U=q}if(Y=U,r(F,q))return Y;var L=A(q);return T!==void 0&&T(Y,L)?(F=q,Y):(F=q,U=L)}var R=!1,F,U,V=w===void 0?null:w;return[function(){return k(v())},V===null?void 0:function(){return k(V())}]},[v,w,A,T]);var M=n(b,_[0],_[1]);return c(function(){j.hasValue=!0,j.value=M},[M]),p(M),M},Hx}var q3;function QX(){return q3||(q3=1,Fx.exports=$X()),Fx.exports}QX();function JX(e){e()}function eW(){let e=null,t=null;return{clear(){e=null,t=null},notify(){JX(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const l=t={callback:r,next:null,prev:t};return l.prev?l.prev.next=l:e=l,function(){!n||e===null||(n=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}var X3={notify(){},get:()=>[]};function tW(e,t){let r,n=X3,l=0,c=!1;function f(M){w();const k=n.subscribe(M);let R=!1;return()=>{R||(R=!0,k(),A())}}function p(){n.notify()}function b(){j.onStateChange&&j.onStateChange()}function v(){return c}function w(){l++,r||(r=e.subscribe(b),n=eW())}function A(){l--,r&&l===0&&(r(),r=void 0,n.clear(),n=X3)}function T(){c||(c=!0,w())}function _(){c&&(c=!1,A())}const j={addNestedSub:f,notifyNestedSubs:p,handleChangeWrapper:b,isSubscribed:v,trySubscribe:T,tryUnsubscribe:_,getListeners:()=>n};return j}var rW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nW=rW(),aW=()=>typeof navigator<"u"&&navigator.product==="ReactNative",iW=aW(),sW=()=>nW||iW?O.useLayoutEffect:O.useEffect,lW=sW();function W3(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function oW(e,t){if(W3(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let l=0;l<r.length;l++)if(!Object.prototype.hasOwnProperty.call(t,r[l])||!W3(e[r[l]],t[r[l]]))return!1;return!0}var Gx=Symbol.for("react-redux-context"),Vx=typeof globalThis<"u"?globalThis:{};function cW(){if(!O.createContext)return{};const e=Vx[Gx]??(Vx[Gx]=new Map);let t=e.get(O.createContext);return t||(t=O.createContext(null),e.set(O.createContext,t)),t}var uW=cW();function dW(e){const{children:t,context:r,serverState:n,store:l}=e,c=O.useMemo(()=>{const b=tW(l);return{store:l,subscription:b,getServerState:n?()=>n:void 0}},[l,n]),f=O.useMemo(()=>l.getState(),[l]);lW(()=>{const{subscription:b}=c;return b.onStateChange=b.notifyNestedSubs,b.trySubscribe(),f!==l.getState()&&b.notifyNestedSubs(),()=>{b.tryUnsubscribe(),b.onStateChange=void 0}},[c,f]);const p=r||uW;return O.createElement(p.Provider,{value:c},t)}var fW=dW,hW=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function mW(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function lm(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(hW.has(n)){if(e[n]==null&&t[n]==null)continue;if(!oW(e[n],t[n]))return!1}else if(!mW(e[n],t[n]))return!1;return!0}function us(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(l=>l.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:Y6}function ds(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(l=>l.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:Y6}var J6=(e,t,r)=>Kl(e,"xAxis",us(e,t),r),eI=(e,t,r)=>Wl(e,"xAxis",us(e,t),r),tI=(e,t,r)=>Kl(e,"yAxis",ds(e,t),r),rI=(e,t,r)=>Wl(e,"yAxis",ds(e,t),r),gW=Se([fr,J6,tI,eI,rI],(e,t,r,n,l)=>cs(e,"xAxis")?Qc(t,n,!1):Qc(r,l,!1)),pW=(e,t)=>t,nI=Se([rm,pW],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),aI=e=>{var t=fr(e),r=cs(t,"xAxis");return r?"yAxis":"xAxis"},xW=(e,t)=>{var r=aI(e);return r==="yAxis"?ds(e,t):us(e,t)},vW=(e,t,r)=>Wh(e,aI(e),xW(e,t),r),yW=Se([nI,vW],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,l=Q1(e);if(!(n==null||l==null)){var c=(r=t[n])===null||r===void 0?void 0:r.stackedData,f=c==null?void 0:c.find(p=>p.key===l);if(f!=null)return f.map(p=>[p[0],p[1]])}}}),bW=Se([fr,J6,tI,eI,rI,yW,P5,gW,nI,tF],(e,t,r,n,l,c,f,p,b,v)=>{var{chartData:w,dataStartIndex:A,dataEndIndex:T}=f;if(!(b==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||l==null||n.length===0||l.length===0||p==null)){var{data:_}=b,j;if(_&&_.length>0?j=_:j=w==null?void 0:w.slice(A,T+1),j!=null)return zW({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:l,dataStartIndex:A,areaSettings:b,stackedData:c,displayedData:j,chartBaseValue:v,bandSize:p})}}),wW=["id"],AW=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lo.apply(null,arguments)}function iI(e,t){if(e==null)return{};var r,n,l=SW(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function SW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function K3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Gc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K3(Object(r),!0).forEach(function(n){EW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EW(e,t,r){return(t=CW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CW(e){var t=NW(e,"string");return typeof t=="symbol"?t:t+""}function NW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r1(e,t){return e&&e!=="none"?e:t}var TW=e=>{var{dataKey:t,name:r,stroke:n,fill:l,legendType:c,hide:f}=e;return[{inactive:f,dataKey:t,type:c,color:r1(n,l),value:_1(r,t),payload:e}]},OW=O.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:l,fill:c,name:f,hide:p,unit:b,tooltipType:v,id:w}=e,A={dataDefinedOnItem:r,getPosition:Ko,settings:{stroke:n,strokeWidth:l,fill:c,dataKey:t,nameKey:void 0,name:_1(f,t),hide:p,type:v,color:r1(n,c),unit:b,graphicalItemId:w}};return O.createElement(U6,{tooltipEntrySettings:A})});function IW(e){var{clipPathId:t,points:r,props:n}=e,{needClip:l,dot:c,dataKey:f}=n,p=pi(n);return O.createElement(yq,{points:r,dot:c,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:f,baseProps:p,needClip:l,clipPathId:t})}function _W(e){var{showLabels:t,children:r,points:n}=e,l=n.map(c=>{var f,p,b={x:(f=c.x)!==null&&f!==void 0?f:0,y:(p=c.y)!==null&&p!==void 0?p:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Gc(Gc({},b),{},{value:c.value,payload:c.payload,parentViewBox:void 0,viewBox:b,fill:void 0})});return O.createElement(_6,{value:t?l:void 0},r)}function Z3(e){var{points:t,baseLine:r,needClip:n,clipPathId:l,props:c}=e,{layout:f,type:p,stroke:b,connectNulls:v,isRange:w}=c,{id:A}=c,T=iI(c,wW),_=pi(T),j=ha(T);return O.createElement(O.Fragment,null,(t==null?void 0:t.length)>1&&O.createElement(ma,{clipPath:n?"url(#clipPath-".concat(l,")"):void 0},O.createElement(wd,Lo({},j,{id:A,points:t,connectNulls:v,type:p,baseLine:r,layout:f,stroke:"none",className:"recharts-area-area"})),b!=="none"&&O.createElement(wd,Lo({},_,{className:"recharts-area-curve",layout:f,type:p,connectNulls:v,fill:"none",points:t})),b!=="none"&&w&&O.createElement(wd,Lo({},_,{className:"recharts-area-curve",layout:f,type:p,connectNulls:v,fill:"none",points:r}))),O.createElement(IW,{points:t,props:T,clipPathId:l}))}function MW(e){var t,r,{alpha:n,baseLine:l,points:c,strokeWidth:f}=e,p=(t=c[0])===null||t===void 0?void 0:t.y,b=(r=c[c.length-1])===null||r===void 0?void 0:r.y;if(!Gt(p)||!Gt(b))return null;var v=n*Math.abs(p-b),w=Math.max(...c.map(A=>A.x||0));return tt(l)?w=Math.max(l,w):l&&Array.isArray(l)&&l.length&&(w=Math.max(...l.map(A=>A.x||0),w)),tt(w)?O.createElement("rect",{x:0,y:p<b?p:p-v,width:w+(f?parseInt("".concat(f),10):1),height:Math.floor(v)}):null}function jW(e){var t,r,{alpha:n,baseLine:l,points:c,strokeWidth:f}=e,p=(t=c[0])===null||t===void 0?void 0:t.x,b=(r=c[c.length-1])===null||r===void 0?void 0:r.x;if(!Gt(p)||!Gt(b))return null;var v=n*Math.abs(p-b),w=Math.max(...c.map(A=>A.y||0));return tt(l)?w=Math.max(l,w):l&&Array.isArray(l)&&l.length&&(w=Math.max(...l.map(A=>A.y||0),w)),tt(w)?O.createElement("rect",{x:p<b?p:p-v,y:0,width:v,height:Math.floor(w+(f?parseInt("".concat(f),10):1))}):null}function kW(e){var{alpha:t,layout:r,points:n,baseLine:l,strokeWidth:c}=e;return r==="vertical"?O.createElement(MW,{alpha:t,points:n,baseLine:l,strokeWidth:c}):O.createElement(jW,{alpha:t,points:n,baseLine:l,strokeWidth:c})}function DW(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:l,previousBaselineRef:c}=e,{points:f,baseLine:p,isAnimationActive:b,animationBegin:v,animationDuration:w,animationEasing:A,onAnimationStart:T,onAnimationEnd:_}=n,j=O.useMemo(()=>({points:f,baseLine:p}),[f,p]),M=U1(j,"recharts-area-"),k=Ly(),[R,F]=O.useState(!1),U=!R,V=O.useCallback(()=>{typeof _=="function"&&_(),F(!1)},[_]),q=O.useCallback(()=>{typeof T=="function"&&T(),F(!0)},[T]);if(k==null)return null;var Y=l.current,L=c.current;return O.createElement(_W,{showLabels:U,points:f},n.children,O.createElement(z1,{animationId:M,begin:v,duration:w,isActive:b,easing:A,onAnimationEnd:V,onAnimationStart:q,key:M},ee=>{if(Y){var Z=Y.length/f.length,Ne=ee===1?f:f.map((Q,ie)=>{var be=Math.floor(ie*Z);if(Y[be]){var X=Y[be];return Gc(Gc({},Q),{},{x:Xr(X.x,Q.x,ee),y:Xr(X.y,Q.y,ee)})}return Q}),te;return tt(p)?te=Xr(L,p,ee):rn(p)||Ri(p)?te=Xr(L,0,ee):te=p.map((Q,ie)=>{var be=Math.floor(ie*Z);if(Array.isArray(L)&&L[be]){var X=L[be];return Gc(Gc({},Q),{},{x:Xr(X.x,Q.x,ee),y:Xr(X.y,Q.y,ee)})}return Q}),ee>0&&(l.current=Ne,c.current=te),O.createElement(Z3,{points:Ne,baseLine:te,needClip:t,clipPathId:r,props:n})}return ee>0&&(l.current=f,c.current=p),O.createElement(ma,null,b&&O.createElement("defs",null,O.createElement("clipPath",{id:"animationClipPath-".concat(r)},O.createElement(kW,{alpha:ee,points:f,baseLine:p,layout:k,strokeWidth:n.strokeWidth}))),O.createElement(ma,{clipPath:"url(#animationClipPath-".concat(r,")")},O.createElement(Z3,{points:f,baseLine:p,needClip:t,clipPathId:r,props:n})))}),O.createElement(j6,{label:n.label}))}function RW(e){var{needClip:t,clipPathId:r,props:n}=e,l=O.useRef(null),c=O.useRef();return O.createElement(DW,{needClip:t,clipPathId:r,props:n,previousPointsRef:l,previousBaselineRef:c})}class PW extends O.PureComponent{render(){var{hide:t,dot:r,points:n,className:l,top:c,left:f,needClip:p,xAxisId:b,yAxisId:v,width:w,height:A,id:T,baseLine:_,zIndex:j}=this.props;if(t)return null;var M=Cr("recharts-area",l),k=T,{r:R,strokeWidth:F}=ZX(r),U=P6(r),V=R*2+F,q=p?"url(#clipPath-".concat(U?"":"dots-").concat(k,")"):void 0;return O.createElement(wi,{zIndex:j},O.createElement(ma,{className:M},p&&O.createElement("defs",null,O.createElement(Q6,{clipPathId:k,xAxisId:b,yAxisId:v}),!U&&O.createElement("clipPath",{id:"clipPath-dots-".concat(k)},O.createElement("rect",{x:f-V/2,y:c-V/2,width:w+V,height:A+V}))),O.createElement(RW,{needClip:p,clipPathId:k,props:this.props})),O.createElement(B3,{points:n,mainColor:r1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:q}),this.props.isRange&&Array.isArray(_)&&O.createElement(B3,{points:_,mainColor:r1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:q}))}}var sI={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Pn.area};function LW(e){var t,r=xa(e,sI),{activeDot:n,animationBegin:l,animationDuration:c,animationEasing:f,connectNulls:p,dot:b,fill:v,fillOpacity:w,hide:A,isAnimationActive:T,legendType:_,stroke:j,xAxisId:M,yAxisId:k}=r,R=iI(r,AW),F=Zo(),U=c6(),{needClip:V}=Fb(M,k),q=ia(),{points:Y,isRange:L,baseLine:ee}=(t=xt(be=>bW(be,e.id,q)))!==null&&t!==void 0?t:{},Z=Bb();if(F!=="horizontal"&&F!=="vertical"||Z==null||U!=="AreaChart"&&U!=="ComposedChart")return null;var{height:Ne,width:te,x:Q,y:ie}=Z;return!Y||!Y.length?null:O.createElement(PW,Lo({},R,{activeDot:n,animationBegin:l,animationDuration:c,animationEasing:f,baseLine:ee,connectNulls:p,dot:b,fill:v,fillOpacity:w,height:Ne,hide:A,layout:F,isAnimationActive:T==="auto"?!rf.isSsr:T,isRange:L,legendType:_,needClip:V,points:Y,stroke:j,width:te,left:Q,top:ie,xAxisId:M,yAxisId:k}))}var BW=(e,t,r,n,l)=>{var c=r??t;if(tt(c))return c;var f=e==="horizontal"?l:n,p=f.scale.domain();if(f.type==="number"){var b=Math.max(p[0],p[1]),v=Math.min(p[0],p[1]);return c==="dataMin"?v:c==="dataMax"||b<0?b:Math.max(Math.min(p[0],p[1]),0)}return c==="dataMin"?p[0]:c==="dataMax"?p[1]:p[0]};function zW(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:l,layout:c,chartBaseValue:f,xAxis:p,yAxis:b,displayedData:v,dataStartIndex:w,xAxisTicks:A,yAxisTicks:T,bandSize:_}=e,j=l&&l.length,M=BW(c,f,r,p,b),k=c==="horizontal",R=!1,F=v.map((V,q)=>{var Y,L,ee,Z;if(j)Z=l[w+q];else{var Ne=yn(V,n);Array.isArray(Ne)?(Z=Ne,R=!0):Z=[M,Ne]}var te=(Y=(L=Z)===null||L===void 0?void 0:L[1])!==null&&Y!==void 0?Y:null,Q=te==null||j&&!t&&yn(V,n)==null;if(k){var ie;return{x:PE({axis:p,ticks:A,bandSize:_,entry:V,index:q}),y:Q?null:(ie=b.scale.map(te))!==null&&ie!==void 0?ie:null,value:Z,payload:V}}return{x:Q?null:(ee=p.scale.map(te))!==null&&ee!==void 0?ee:null,y:PE({axis:b,ticks:T,bandSize:_,entry:V,index:q}),value:Z,payload:V}}),U;return j||R?U=F.map(V=>{var q,Y=Array.isArray(V.value)?V.value[0]:null;if(k){var L;return{x:V.x,y:Y!=null&&V.y!=null&&(L=b.scale.map(Y))!==null&&L!==void 0?L:null,payload:V.payload}}return{x:Y!=null&&(q=p.scale.map(Y))!==null&&q!==void 0?q:null,y:V.y,payload:V.payload}}):U=k?b.scale.map(M):p.scale.map(M),{points:F,baseLine:U??0,isRange:R}}function UW(e){var t=xa(e,sI),r=ia();return O.createElement(H6,{id:t.id,type:"area"},n=>O.createElement(O.Fragment,null,O.createElement(F6,{legendPayload:TW(t)}),O.createElement(OW,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),O.createElement(V6,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:IO(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),O.createElement(LW,Lo({},t,{id:n}))))}var lI=O.memo(UW,lm);lI.displayName="Area";var FW="Invariant failed";function HW(e,t){throw new Error(FW)}function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vv.apply(null,arguments)}function n1(e){return O.createElement(eq,Vv({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var GW=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,l)=>{if(tt(t))return t;var c=tt(n)||rn(n);return c?t(n,l):(c||HW(),r)}},VW=(e,t,r)=>r,YW=(e,t)=>t,mf=Se([rm,YW],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),qW=Se([mf],e=>e==null?void 0:e.maxBarSize),XW=(e,t,r,n)=>n,WW=Se([fr,rm,us,ds,VW],(e,t,r,n,l)=>t.filter(c=>e==="horizontal"?c.xAxisId===r:c.yAxisId===n).filter(c=>c.isPanorama===l).filter(c=>c.hide===!1).filter(c=>c.type==="bar")),KW=(e,t,r)=>{var n=fr(e),l=us(e,t),c=ds(e,t);if(!(l==null||c==null))return n==="horizontal"?Wh(e,"yAxis",c,r):Wh(e,"xAxis",l,r)},ZW=(e,t)=>{var r=fr(e),n=us(e,t),l=ds(e,t);if(!(n==null||l==null))return r==="horizontal"?PN(e,"xAxis",n):PN(e,"yAxis",l)},$W=Se([WW,eF,ZW],zq),QW=(e,t,r)=>{var n,l,c=mf(e,t);if(c==null)return 0;var f=us(e,t),p=ds(e,t);if(f==null||p==null)return 0;var b=fr(e),v=W5(e),{maxBarSize:w}=c,A=rn(w)?v:w,T,_;return b==="horizontal"?(T=Kl(e,"xAxis",f,r),_=Wl(e,"xAxis",f,r)):(T=Kl(e,"yAxis",p,r),_=Wl(e,"yAxis",p,r)),(n=(l=Qc(T,_,!0))!==null&&l!==void 0?l:A)!==null&&n!==void 0?n:0},oI=(e,t,r)=>{var n=fr(e),l=us(e,t),c=ds(e,t);if(!(l==null||c==null)){var f,p;return n==="horizontal"?(f=Kl(e,"xAxis",l,r),p=Wl(e,"xAxis",l,r)):(f=Kl(e,"yAxis",c,r),p=Wl(e,"yAxis",c,r)),Qc(f,p)}},JW=Se([$W,W5,JU,K5,QW,oI,qW],Vq),eK=(e,t,r)=>{var n=us(e,t);if(n!=null)return Kl(e,"xAxis",n,r)},tK=(e,t,r)=>{var n=ds(e,t);if(n!=null)return Kl(e,"yAxis",n,r)},rK=(e,t,r)=>{var n=us(e,t);if(n!=null)return Wl(e,"xAxis",n,r)},nK=(e,t,r)=>{var n=ds(e,t);if(n!=null)return Wl(e,"yAxis",n,r)},aK=Se([JW,mf],qq),iK=Se([KW,mf],Yq),sK=Se([Bn,Dy,eK,tK,rK,nK,aK,fr,P5,oI,iK,mf,XW],(e,t,r,n,l,c,f,p,b,v,w,A,T)=>{var{chartData:_,dataStartIndex:j,dataEndIndex:M}=b;if(!(A==null||f==null||t==null||p!=="horizontal"&&p!=="vertical"||r==null||n==null||l==null||c==null||v==null)){var{data:k}=A,R;if(k!=null&&k.length>0?R=k:R=_==null?void 0:_.slice(j,M+1),R!=null)return DK({layout:p,barSettings:A,pos:f,parentViewBox:t,bandSize:v,xAxis:r,yAxis:n,xAxisTicks:l,yAxisTicks:c,stackedData:w,displayedData:R,offset:e,cells:T,dataStartIndex:j})}}),lK=["index"];function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yv.apply(null,arguments)}function oK(e,t){if(e==null)return{};var r,n,l=cK(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function cK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cI=O.createContext(void 0),uK=e=>{var t=O.useContext(cI);if(t!=null)return t.stackId;if(e!=null)return IO(e)},dK=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),fK=e=>{var t=O.useContext(cI);if(t!=null){var{stackId:r}=t;return"url(#".concat(dK(r,e),")")}},uI=e=>{var{index:t}=e,r=oK(e,lK),n=fK(t);return O.createElement(ma,Yv({className:"recharts-bar-stack-layer",clipPath:n},r))},hK=["onMouseEnter","onMouseLeave","onClick"],mK=["value","background","tooltipPosition"],gK=["id"],pK=["onMouseEnter","onClick","onMouseLeave"];function Qs(){return Qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qs.apply(null,arguments)}function $3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$3(Object(r),!0).forEach(function(n){xK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xK(e,t,r){return(t=vK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vK(e){var t=yK(e,"string");return typeof t=="symbol"?t:t+""}function yK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a1(e,t){if(e==null)return{};var r,n,l=bK(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function bK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wK=e=>{var{dataKey:t,name:r,fill:n,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:n,value:_1(r,t),payload:e}]},AK=O.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:l,name:c,hide:f,unit:p,tooltipType:b,id:v}=e,w={dataDefinedOnItem:void 0,getPosition:Ko,settings:{stroke:r,strokeWidth:n,fill:l,dataKey:t,nameKey:void 0,name:_1(c,t),hide:f,type:b,color:l,unit:p,graphicalItemId:v}};return O.createElement(U6,{tooltipEntrySettings:w})});function SK(e){var t=xt(Yo),{data:r,dataKey:n,background:l,allOtherBarProps:c}=e,{onMouseEnter:f,onMouseLeave:p,onClick:b}=c,v=a1(c,hK),w=L6(f,n,c.id),A=B6(p),T=z6(b,n,c.id);if(!l||r==null)return null;var _=Kd(l);return O.createElement(wi,{zIndex:Xq(l,Pn.barBackground)},r.map((j,M)=>{var{value:k,background:R,tooltipPosition:F}=j,U=a1(j,mK);if(!R)return null;var V=w(j,M),q=A(j,M),Y=T(j,M),L=da(da(da(da(da({option:l,isActive:String(M)===t},U),{},{fill:"#eee"},R),_),Ey(v,j,M)),{},{onMouseEnter:V,onMouseLeave:q,onClick:Y,dataKey:n,index:M,className:"recharts-bar-background-rectangle"});return O.createElement(n1,Qs({key:"background-bar-".concat(M)},L))}))}function EK(e){var{showLabels:t,children:r,rects:n}=e,l=n==null?void 0:n.map(c=>{var f={x:c.x,y:c.y,width:c.width,lowerWidth:c.width,upperWidth:c.width,height:c.height};return da(da({},f),{},{value:c.value,payload:c.payload,parentViewBox:c.parentViewBox,viewBox:f,fill:c.fill})});return O.createElement(_6,{value:t?l:void 0},r)}function CK(e){var{shape:t,activeBar:r,baseProps:n,entry:l,index:c,dataKey:f}=e,p=xt(Yo),b=xt(s6),v=r&&String(c)===p&&(b==null||f===b),w=v?r:t;return v?O.createElement(wi,{zIndex:Pn.activeBar},O.createElement(uI,{index:c},O.createElement(n1,Qs({},n,{name:String(n.name)},l,{isActive:v,option:w,index:c,dataKey:f})))):O.createElement(n1,Qs({},n,{name:String(n.name)},l,{isActive:v,option:w,index:c,dataKey:f}))}function NK(e){var{shape:t,baseProps:r,entry:n,index:l,dataKey:c}=e;return O.createElement(n1,Qs({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:l,dataKey:c}))}function TK(e){var t,{data:r,props:n}=e,l=(t=pi(n))!==null&&t!==void 0?t:{},{id:c}=l,f=a1(l,gK),{shape:p,dataKey:b,activeBar:v}=n,{onMouseEnter:w,onClick:A,onMouseLeave:T}=n,_=a1(n,pK),j=L6(w,b,c),M=B6(T),k=z6(A,b,c);return r?O.createElement(O.Fragment,null,r.map((R,F)=>O.createElement(uI,Qs({index:F,key:"rectangle-".concat(R==null?void 0:R.x,"-").concat(R==null?void 0:R.y,"-").concat(R==null?void 0:R.value,"-").concat(F),className:"recharts-bar-rectangle"},Ey(_,R,F),{onMouseEnter:j(R,F),onMouseLeave:M(R,F),onClick:k(R,F)}),v?O.createElement(CK,{shape:p,activeBar:v,baseProps:f,entry:R,index:F,dataKey:b}):O.createElement(NK,{shape:p,baseProps:f,entry:R,index:F,dataKey:b})))):null}function OK(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:l,isAnimationActive:c,animationBegin:f,animationDuration:p,animationEasing:b,onAnimationEnd:v,onAnimationStart:w}=t,A=r.current,T=U1(t,"recharts-bar-"),[_,j]=O.useState(!1),M=!_,k=O.useCallback(()=>{typeof v=="function"&&v(),j(!1)},[v]),R=O.useCallback(()=>{typeof w=="function"&&w(),j(!0)},[w]);return O.createElement(EK,{showLabels:M,rects:n},O.createElement(z1,{animationId:T,begin:f,duration:p,isActive:c,easing:b,onAnimationEnd:k,onAnimationStart:R,key:T},F=>{var U=F===1?n:n==null?void 0:n.map((V,q)=>{var Y=A&&A[q];if(Y)return da(da({},V),{},{x:Xr(Y.x,V.x,F),y:Xr(Y.y,V.y,F),width:Xr(Y.width,V.width,F),height:Xr(Y.height,V.height,F)});if(l==="horizontal"){var L=Xr(0,V.height,F),ee=Xr(V.stackedBarStart,V.y,F);return da(da({},V),{},{y:ee,height:L})}var Z=Xr(0,V.width,F),Ne=Xr(V.stackedBarStart,V.x,F);return da(da({},V),{},{width:Z,x:Ne})});return F>0&&(r.current=U??null),U==null?null:O.createElement(ma,null,O.createElement(TK,{props:t,data:U}))}),O.createElement(j6,{label:t.label}),t.children)}function IK(e){var t=O.useRef(null);return O.createElement(OK,{previousRectanglesRef:t,props:e})}var dI=0,_K=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:yn(e,t)}};class MK extends O.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:l,xAxisId:c,yAxisId:f,needClip:p,background:b,id:v}=this.props;if(t||r==null)return null;var w=Cr("recharts-bar",l),A=v;return O.createElement(ma,{className:w,id:v},p&&O.createElement("defs",null,O.createElement(Q6,{clipPathId:A,xAxisId:c,yAxisId:f})),O.createElement(ma,{className:"recharts-bar-rectangles",clipPath:p?"url(#clipPath-".concat(A,")"):void 0},O.createElement(SK,{data:r,dataKey:n,background:b,allOtherBarProps:this.props}),O.createElement(IK,this.props)))}}var jK={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:dI,xAxisId:0,yAxisId:0,zIndex:Pn.bar};function kK(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:l,minPointSize:c,activeBar:f,animationBegin:p,animationDuration:b,animationEasing:v,isAnimationActive:w}=e,{needClip:A}=Fb(t,r),T=Zo(),_=ia(),j=RY(e.children,v6),M=xt(F=>sK(F,e.id,_,j));if(T!=="vertical"&&T!=="horizontal")return null;var k,R=M==null?void 0:M[0];return R==null||R.height==null||R.width==null?k=0:k=T==="vertical"?R.height/2:R.width/2,O.createElement(KX,{xAxisId:t,yAxisId:r,data:M,dataPointFormatter:_K,errorBarOffset:k},O.createElement(MK,Qs({},e,{layout:T,needClip:A,data:M,xAxisId:t,yAxisId:r,hide:n,legendType:l,minPointSize:c,activeBar:f,animationBegin:p,animationDuration:b,animationEasing:v,isAnimationActive:w})))}function DK(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:l,bandSize:c,xAxis:f,yAxis:p,xAxisTicks:b,yAxisTicks:v,stackedData:w,displayedData:A,offset:T,cells:_,parentViewBox:j,dataStartIndex:M}=e,k=t==="horizontal"?p:f,R=w?k.scale.domain():null,F=Z9({numericAxis:k}),U=k.scale.map(F);return A.map((V,q)=>{var Y,L,ee,Z,Ne,te;if(w){var Q=w[q+M];if(Q==null)return null;Y=Y9(Q,R)}else Y=yn(V,r),Array.isArray(Y)||(Y=[F,Y]);var ie=GW(n,dI)(Y[1],q);if(t==="horizontal"){var be,X=p.scale.map(Y[0]),re=p.scale.map(Y[1]);if(X==null||re==null)return null;L=LE({axis:f,ticks:b,bandSize:c,offset:l.offset,entry:V,index:q}),ee=(be=re??X)!==null&&be!==void 0?be:void 0,Z=l.size;var se=X-re;if(Ne=Ri(se)?0:se,te={x:L,y:T.top,width:Z,height:T.height},Math.abs(ie)>0&&Math.abs(Ne)<Math.abs(ie)){var de=Oa(Ne||ie)*(Math.abs(ie)-Math.abs(Ne));ee-=de,Ne+=de}}else{var xe=f.scale.map(Y[0]),Me=f.scale.map(Y[1]);if(xe==null||Me==null)return null;if(L=xe,ee=LE({axis:p,ticks:v,bandSize:c,offset:l.offset,entry:V,index:q}),Z=Me-xe,Ne=l.size,te={x:T.left,y:ee,width:T.width,height:Ne},Math.abs(ie)>0&&Math.abs(Z)<Math.abs(ie)){var $=Oa(Z||ie)*(Math.abs(ie)-Math.abs(Z));Z+=$}}if(L==null||ee==null||Z==null||Ne==null)return null;var ue=da(da({},V),{},{stackedBarStart:U,x:L,y:ee,width:Z,height:Ne,value:w?Y:Y[1],payload:V,background:te,tooltipPosition:{x:L+Z/2,y:ee+Ne/2},parentViewBox:j},_&&_[q]&&_[q].props);return ue}).filter(Boolean)}function RK(e){var t=xa(e,jK),r=uK(t.stackId),n=ia();return O.createElement(H6,{id:t.id,type:"bar"},l=>O.createElement(O.Fragment,null,O.createElement(F6,{legendPayload:wK(t)}),O.createElement(AK,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:l}),O.createElement(V6,{type:"bar",id:l,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),O.createElement(wi,{zIndex:t.zIndex},O.createElement(kK,Qs({},t,{id:l})))))}var i1=O.memo(RK,lm);i1.displayName="Bar";var PK=["domain","range"],LK=["domain","range"];function Q3(e,t){if(e==null)return{};var r,n,l=BK(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function BK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function J3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function fI(e,t){if(e===t)return!0;var{domain:r,range:n}=e,l=Q3(e,PK),{domain:c,range:f}=t,p=Q3(t,LK);return!J3(r,c)||!J3(n,f)?!1:lm(l,p)}var zK=["type"],UK=["dangerouslySetInnerHTML","ticks","scale"],FK=["id","scale"];function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qv.apply(null,arguments)}function e4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function t4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e4(Object(r),!0).forEach(function(n){HK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HK(e,t,r){return(t=GK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=VK(e,"string");return typeof t=="symbol"?t:t+""}function VK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xv(e,t){if(e==null)return{};var r,n,l=YK(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function YK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qK(e){var t=fn(),r=O.useRef(null),n=Ly(),{type:l}=e,c=Xv(e,zK),f=K1(n,"xAxis",l),p=O.useMemo(()=>{if(f!=null)return t4(t4({},c),{},{type:f})},[c,f]);return O.useLayoutEffect(()=>{p!=null&&(r.current===null?t(Eq(p)):r.current!==p&&t(Cq({prev:r.current,next:p})),r.current=p)},[p,t]),O.useLayoutEffect(()=>()=>{r.current&&(t(Nq(r.current)),r.current=null)},[t]),null}var XK=e=>{var{xAxisId:t,className:r}=e,n=xt(Dy),l=ia(),c="xAxis",f=xt(R=>z8(R,c,t,l)),p=xt(R=>R8(R,t)),b=xt(R=>rH(R,t)),v=xt(R=>a8(R,t));if(p==null||b==null||v==null)return null;var{dangerouslySetInnerHTML:w,ticks:A,scale:T}=e,_=Xv(e,UK),{id:j,scale:M}=v,k=Xv(v,FK);return O.createElement(Ub,qv({},_,k,{x:b.x,y:b.y,width:p.width,height:p.height,className:Cr("recharts-".concat(c," ").concat(c),r),viewBox:n,ticks:f,axisType:c}))},WK={allowDataOverflow:kn.allowDataOverflow,allowDecimals:kn.allowDecimals,allowDuplicatedCategory:kn.allowDuplicatedCategory,angle:kn.angle,axisLine:Vs.axisLine,height:kn.height,hide:!1,includeHidden:kn.includeHidden,interval:kn.interval,label:!1,minTickGap:kn.minTickGap,mirror:kn.mirror,orientation:kn.orientation,padding:kn.padding,reversed:kn.reversed,scale:kn.scale,tick:kn.tick,tickCount:kn.tickCount,tickLine:Vs.tickLine,tickSize:Vs.tickSize,type:kn.type,xAxisId:0},KK=e=>{var t=xa(e,WK);return O.createElement(O.Fragment,null,O.createElement(qK,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),O.createElement(XK,t))},Ed=O.memo(KK,fI);Ed.displayName="XAxis";var ZK=["type"],$K=["dangerouslySetInnerHTML","ticks","scale"],QK=["id","scale"];function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wv.apply(null,arguments)}function r4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function n4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r4(Object(r),!0).forEach(function(n){JK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JK(e,t,r){return(t=eZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eZ(e){var t=tZ(e,"string");return typeof t=="symbol"?t:t+""}function tZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kv(e,t){if(e==null)return{};var r,n,l=rZ(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function rZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nZ(e){var t=fn(),r=O.useRef(null),n=Ly(),{type:l}=e,c=Kv(e,ZK),f=K1(n,"yAxis",l),p=O.useMemo(()=>{if(f!=null)return n4(n4({},c),{},{type:f})},[f,c]);return O.useLayoutEffect(()=>{p!=null&&(r.current===null?t(Tq(p)):r.current!==p&&t(Oq({prev:r.current,next:p})),r.current=p)},[p,t]),O.useLayoutEffect(()=>()=>{r.current&&(t(Iq(r.current)),r.current=null)},[t]),null}function aZ(e){var{yAxisId:t,className:r,width:n,label:l}=e,c=O.useRef(null),f=O.useRef(null),p=xt(Dy),b=ia(),v=fn(),w="yAxis",A=xt(Y=>P8(Y,t)),T=xt(Y=>aH(Y,t)),_=xt(Y=>z8(Y,w,t,b)),j=xt(Y=>i8(Y,t));if(O.useLayoutEffect(()=>{if(!(n!=="auto"||!A||Lb(l)||O.isValidElement(l)||j==null)){var Y=c.current;if(Y){var L=Y.getCalculatedWidth();Math.round(A.width)!==Math.round(L)&&v(_q({id:t,width:L}))}}},[_,A,v,l,t,n,j]),A==null||T==null||j==null)return null;var{dangerouslySetInnerHTML:M,ticks:k,scale:R}=e,F=Kv(e,$K),{id:U,scale:V}=j,q=Kv(j,QK);return O.createElement(Ub,Wv({},F,q,{ref:c,labelRef:f,x:T.x,y:T.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:A.width,height:A.height,className:Cr("recharts-".concat(w," ").concat(w),r),viewBox:p,ticks:_,axisType:w}))}var iZ={allowDataOverflow:Dn.allowDataOverflow,allowDecimals:Dn.allowDecimals,allowDuplicatedCategory:Dn.allowDuplicatedCategory,angle:Dn.angle,axisLine:Vs.axisLine,hide:!1,includeHidden:Dn.includeHidden,interval:Dn.interval,label:!1,minTickGap:Dn.minTickGap,mirror:Dn.mirror,orientation:Dn.orientation,padding:Dn.padding,reversed:Dn.reversed,scale:Dn.scale,tick:Dn.tick,tickCount:Dn.tickCount,tickLine:Vs.tickLine,tickSize:Vs.tickSize,type:Dn.type,width:Dn.width,yAxisId:0},sZ=e=>{var t=xa(e,iZ);return O.createElement(O.Fragment,null,O.createElement(nZ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),O.createElement(aZ,t))},Cd=O.memo(sZ,fI);Cd.displayName="YAxis";var lZ=(e,t)=>t,Hb=Se([lZ,fr,r8,Fn,r6,il,vG,Bn],CG),Gb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},hI=xi("mouseClick"),mI=Qd();mI.startListening({actionCreator:hI,effect:(e,t)=>{var r=e.payload,n=Hb(t.getState(),Gb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(vH({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Zv=xi("mouseMove"),gI=Qd(),W0=null;gI.startListening({actionCreator:Zv,effect:(e,t)=>{var r=e.payload;W0!==null&&cancelAnimationFrame(W0);var n=Gb(r);W0=requestAnimationFrame(()=>{var l=t.getState(),c=Nb(l,l.tooltip.settings.shared);if(c==="axis"){var f=Hb(l,n);(f==null?void 0:f.activeIndex)!=null?t.dispatch(X8({activeIndex:f.activeIndex,activeDataKey:void 0,activeCoordinate:f.activeCoordinate})):t.dispatch(q8())}W0=null})}});function oZ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var a4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},pI=ja({name:"rootProps",initialState:a4,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:a4.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),cZ=pI.reducer,{updateOptions:uZ}=pI.actions,dZ=null,fZ={updatePolarOptions:(e,t)=>t.payload},xI=ja({name:"polarOptions",initialState:dZ,reducers:fZ}),{updatePolarOptions:SQ}=xI.actions,hZ=xI.reducer,vI=xi("keyDown"),yI=xi("focus"),Vb=Qd();Vb.startListening({actionCreator:vI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:l}=r.tooltip,c=e.payload;if(!(c!=="ArrowRight"&&c!=="ArrowLeft"&&c!=="Enter")){var f=Tb(l,gu(r),uf(r),ff(r)),p=f==null?-1:Number(f);if(!(!Number.isFinite(p)||p<0)){var b=il(r);if(c==="Enter"){var v=Zh(r,"axis","hover",String(l.index));t.dispatch(zv({active:!l.active,activeIndex:l.index,activeCoordinate:v}));return}var w=oH(r),A=w==="left-to-right"?1:-1,T=c==="ArrowRight"?1:-1,_=p+T*A;if(!(b==null||_>=b.length||_<0)){var j=Zh(r,"axis","hover",String(_));t.dispatch(zv({active:!0,activeIndex:_.toString(),activeCoordinate:j}))}}}}}});Vb.startListening({actionCreator:yI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:l}=r.tooltip;if(!l.active&&l.index==null){var c="0",f=Zh(r,"axis","hover",String(c));t.dispatch(zv({active:!0,activeIndex:c,activeCoordinate:f}))}}}});var mi=xi("externalEvent"),bI=Qd(),Yx=new Map;bI.startListening({actionCreator:mi,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var l=n.type,c=Yx.get(l);c!==void 0&&cancelAnimationFrame(c);var f=requestAnimationFrame(()=>{try{var p=t.getState(),b={activeCoordinate:nG(p),activeDataKey:s6(p),activeIndex:Yo(p),activeLabel:i6(p),activeTooltipIndex:Yo(p),isTooltipActive:aG(p)};r(b,n)}finally{Yx.delete(l)}});Yx.set(l,f)}}});var mZ=Se([hu],e=>e.tooltipItemPayloads),gZ=Se([mZ,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(c=>c.settings.graphicalItemId===r);if(n!=null){var{getPosition:l}=n;if(l!=null)return l(t)}}}),wI=xi("touchMove"),AI=Qd();AI.startListening({actionCreator:wI,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),l=Nb(n,n.tooltip.settings.shared);if(l==="axis"){var c=r.touches[0];if(c==null)return;var f=Hb(n,Gb({clientX:c.clientX,clientY:c.clientY,currentTarget:r.currentTarget}));(f==null?void 0:f.activeIndex)!=null&&t.dispatch(X8({activeIndex:f.activeIndex,activeDataKey:void 0,activeCoordinate:f.activeCoordinate}))}else if(l==="item"){var p,b=r.touches[0];if(document.elementFromPoint==null||b==null)return;var v=document.elementFromPoint(b.clientX,b.clientY);if(!v||!v.getAttribute)return;var w=v.getAttribute(nP),A=(p=v.getAttribute(aP))!==null&&p!==void 0?p:void 0,T=mu(n).find(M=>M.id===A);if(w==null||T==null||A==null)return;var{dataKey:_}=T,j=gZ(n,w,A);t.dispatch(Y8({activeDataKey:_,activeIndex:w,activeCoordinate:j,activeGraphicalItemId:A}))}}}});var pZ=QT({brush:Kq,cartesianAxis:Mq,chartData:rV,errorBars:GX,graphicalItems:cq,layout:U9,legend:KP,options:$G,polarAxis:_Y,polarOptions:hZ,referenceElements:Jq,rootProps:cZ,tooltip:yH,zIndex:zG}),xZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return d9({reducer:pZ,preloadedState:t,middleware:n=>{var l;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((l="es6")!==null&&l!==void 0?l:"")}).concat([mI.middleware,gI.middleware,Vb.middleware,bI.middleware,AI.middleware])},enhancers:n=>{var l=n;return typeof n=="function"&&(l=n()),l.concat(hO({type:"raf"}))},devTools:{serialize:{replacer:oZ},name:"recharts-".concat(r)}})};function vZ(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,l=ia(),c=O.useRef(null);if(l)return r;c.current==null&&(c.current=xZ(t,n));var f=Ty;return O.createElement(fW,{context:f,store:c.current},r)}function yZ(e){var{layout:t,margin:r}=e,n=fn(),l=ia();return O.useEffect(()=>{l||(n(L9(t)),n(P9(r)))},[n,l,t,r]),null}var bZ=O.memo(yZ,lm);function wZ(e){var t=fn();return O.useEffect(()=>{t(uZ(e))},[t,e]),null}function i4(e){var{zIndex:t,isPanorama:r}=e,n=O.useRef(null),l=fn();return O.useLayoutEffect(()=>(n.current&&l(LG({zIndex:t,element:n.current,isPanorama:r})),()=>{l(BG({zIndex:t,isPanorama:r}))}),[l,t,r]),O.createElement("g",{tabIndex:-1,ref:n})}function s4(e){var{children:t,isPanorama:r}=e,n=xt(TG);if(!n||n.length===0)return t;var l=n.filter(f=>f<0),c=n.filter(f=>f>0);return O.createElement(O.Fragment,null,l.map(f=>O.createElement(i4,{key:f,zIndex:f,isPanorama:r})),t,c.map(f=>O.createElement(i4,{key:f,zIndex:f,isPanorama:r})))}var AZ=["children"];function SZ(e,t){if(e==null)return{};var r,n,l=EZ(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function EZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function s1(){return s1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s1.apply(null,arguments)}var CZ={width:"100%",height:"100%",display:"block"},NZ=O.forwardRef((e,t)=>{var r=RO(),n=PO(),l=YO();if(!is(r)||!is(n))return null;var{children:c,otherAttributes:f,title:p,desc:b}=e,v,w;return f!=null&&(typeof f.tabIndex=="number"?v=f.tabIndex:v=l?0:void 0,typeof f.role=="string"?w=f.role:w=l?"application":void 0),O.createElement(pT,s1({},f,{title:p,desc:b,role:w,tabIndex:v,width:r,height:n,style:CZ,ref:t}),c)}),TZ=e=>{var{children:t}=e,r=xt(D1);if(!r)return null;var{width:n,height:l,y:c,x:f}=r;return O.createElement(pT,{width:n,height:l,x:f,y:c},t)},l4=O.forwardRef((e,t)=>{var{children:r}=e,n=SZ(e,AZ),l=ia();return l?O.createElement(TZ,null,O.createElement(s4,{isPanorama:!0},r)):O.createElement(NZ,s1({ref:t},n),O.createElement(s4,{isPanorama:!1},r))});function OZ(){var e=fn(),[t,r]=O.useState(null),n=xt(rP);return O.useEffect(()=>{if(t!=null){var l=t.getBoundingClientRect(),c=l.width/t.offsetWidth;Gt(c)&&c!==n&&e(z9(c))}},[t,e,n]),r}function o4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function IZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o4(Object(r),!0).forEach(function(n){_Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Z(e,t,r){return(t=MZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MZ(e){var t=jZ(e,"string");return typeof t=="symbol"?t:t+""}function jZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yl.apply(null,arguments)}var kZ=()=>(dV(),null);function l1(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var DZ=O.forwardRef((e,t)=>{var r,n,l=O.useRef(null),[c,f]=O.useState({containerWidth:l1((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:l1((n=e.style)===null||n===void 0?void 0:n.height)}),p=O.useCallback((v,w)=>{f(A=>{var T=Math.round(v),_=Math.round(w);return A.containerWidth===T&&A.containerHeight===_?A:{containerWidth:T,containerHeight:_}})},[]),b=O.useCallback(v=>{if(typeof t=="function"&&t(v),v!=null&&typeof ResizeObserver<"u"){var{width:w,height:A}=v.getBoundingClientRect();p(w,A);var T=j=>{var M=j[0];if(M!=null){var{width:k,height:R}=M.contentRect;p(k,R)}},_=new ResizeObserver(T);_.observe(v),l.current=_}},[t,p]);return O.useEffect(()=>()=>{var v=l.current;v!=null&&v.disconnect()},[p]),O.createElement(O.Fragment,null,O.createElement(ef,{width:c.containerWidth,height:c.containerHeight}),O.createElement("div",Yl({ref:b},e)))}),RZ=O.forwardRef((e,t)=>{var{width:r,height:n}=e,[l,c]=O.useState({containerWidth:l1(r),containerHeight:l1(n)}),f=O.useCallback((b,v)=>{c(w=>{var A=Math.round(b),T=Math.round(v);return w.containerWidth===A&&w.containerHeight===T?w:{containerWidth:A,containerHeight:T}})},[]),p=O.useCallback(b=>{if(typeof t=="function"&&t(b),b!=null){var{width:v,height:w}=b.getBoundingClientRect();f(v,w)}},[t,f]);return O.createElement(O.Fragment,null,O.createElement(ef,{width:l.containerWidth,height:l.containerHeight}),O.createElement("div",Yl({ref:p},e)))}),PZ=O.forwardRef((e,t)=>{var{width:r,height:n}=e;return O.createElement(O.Fragment,null,O.createElement(ef,{width:r,height:n}),O.createElement("div",Yl({ref:t},e)))}),LZ=O.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?O.createElement(RZ,Yl({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?O.createElement(PZ,Yl({},e,{width:r,height:n,ref:t})):O.createElement(O.Fragment,null,O.createElement(ef,{width:r,height:n}),O.createElement("div",Yl({ref:t},e)))});function BZ(e){return e?DZ:LZ}var zZ=O.forwardRef((e,t)=>{var{children:r,className:n,height:l,onClick:c,onContextMenu:f,onDoubleClick:p,onMouseDown:b,onMouseEnter:v,onMouseLeave:w,onMouseMove:A,onMouseUp:T,onTouchEnd:_,onTouchMove:j,onTouchStart:M,style:k,width:R,responsive:F,dispatchTouchEvents:U=!0}=e,V=O.useRef(null),q=fn(),[Y,L]=O.useState(null),[ee,Z]=O.useState(null),Ne=OZ(),te=Ry(),Q=(te==null?void 0:te.width)>0?te.width:R,ie=(te==null?void 0:te.height)>0?te.height:l,be=O.useCallback(he=>{Ne(he),typeof t=="function"&&t(he),L(he),Z(he),he!=null&&(V.current=he)},[Ne,t,L,Z]),X=O.useCallback(he=>{q(hI(he)),q(mi({handler:c,reactEvent:he}))},[q,c]),re=O.useCallback(he=>{q(Zv(he)),q(mi({handler:v,reactEvent:he}))},[q,v]),se=O.useCallback(he=>{q(q8()),q(mi({handler:w,reactEvent:he}))},[q,w]),de=O.useCallback(he=>{q(Zv(he)),q(mi({handler:A,reactEvent:he}))},[q,A]),xe=O.useCallback(()=>{q(yI())},[q]),Me=O.useCallback(he=>{q(vI(he.key))},[q]),$=O.useCallback(he=>{q(mi({handler:f,reactEvent:he}))},[q,f]),ue=O.useCallback(he=>{q(mi({handler:p,reactEvent:he}))},[q,p]),Te=O.useCallback(he=>{q(mi({handler:b,reactEvent:he}))},[q,b]),Pe=O.useCallback(he=>{q(mi({handler:T,reactEvent:he}))},[q,T]),Qe=O.useCallback(he=>{q(mi({handler:M,reactEvent:he}))},[q,M]),J=O.useCallback(he=>{U&&q(wI(he)),q(mi({handler:j,reactEvent:he}))},[q,U,j]),Re=O.useCallback(he=>{q(mi({handler:_,reactEvent:he}))},[q,_]),Ze=BZ(F);return O.createElement(m6.Provider,{value:Y},O.createElement(YD.Provider,{value:ee},O.createElement(Ze,{width:Q??(k==null?void 0:k.width),height:ie??(k==null?void 0:k.height),className:Cr("recharts-wrapper",n),style:IZ({position:"relative",cursor:"default",width:Q,height:ie},k),onClick:X,onContextMenu:$,onDoubleClick:ue,onFocus:xe,onKeyDown:Me,onMouseDown:Te,onMouseEnter:re,onMouseLeave:se,onMouseMove:de,onMouseUp:Pe,onTouchEnd:Re,onTouchMove:J,onTouchStart:Qe,ref:be},O.createElement(kZ,null),r)))}),UZ=["width","height","responsive","children","className","style","compact","title","desc"];function FZ(e,t){if(e==null)return{};var r,n,l=HZ(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function HZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GZ=O.forwardRef((e,t)=>{var{width:r,height:n,responsive:l,children:c,className:f,style:p,compact:b,title:v,desc:w}=e,A=FZ(e,UZ),T=pi(A);return b?O.createElement(O.Fragment,null,O.createElement(ef,{width:r,height:n}),O.createElement(l4,{otherAttributes:T,title:v,desc:w},c)):O.createElement(zZ,{className:f,style:p,width:r,height:n,responsive:l??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},O.createElement(l4,{otherAttributes:T,title:v,desc:w,ref:t},O.createElement(tX,null,c)))});function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$v.apply(null,arguments)}var VZ={top:5,right:5,bottom:5,left:5},YZ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:VZ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},SI=O.forwardRef(function(t,r){var n,l=xa(t.categoricalChartProps,YZ),{chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:b,categoricalChartProps:v}=t,w={chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:b,eventEmitter:void 0};return O.createElement(vZ,{preloadedState:{options:w},reduxStoreName:(n=v.id)!==null&&n!==void 0?n:c},O.createElement(Wq,{chartData:v.data}),O.createElement(bZ,{layout:l.layout,margin:l.margin}),O.createElement(wZ,{baseValue:l.baseValue,accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className,reverseStackOrder:l.reverseStackOrder}),O.createElement(GZ,$v({},l,{ref:r})))}),qZ=["axis","item"],Qv=O.forwardRef((e,t)=>O.createElement(SI,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qZ,tooltipPayloadSearcher:g6,categoricalChartProps:e,ref:t})),XZ=["axis"],WZ=O.forwardRef((e,t)=>O.createElement(SI,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:XZ,tooltipPayloadSearcher:g6,categoricalChartProps:e,ref:t}));const Eo=({title:e,value:t,change:r,icon:n,colorClass:l,isPremium:c=!0,footer:f})=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-md transition-shadow h-full flex flex-col",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsx("div",{className:`p-3 rounded-xl ${l} bg-opacity-10 dark:bg-opacity-20`,children:m.jsx(n,{className:`w-6 h-6 ${l.replace("bg-","text-")}`})}),r&&m.jsx("span",{className:"flex items-center text-xs font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/30 px-2 py-1 rounded-full",children:r})]}),m.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:e}),m.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white flex-1",children:c?t:m.jsxs("span",{className:"flex items-center gap-2 text-slate-400 text-lg blur-[2px] hover:blur-0 transition-all cursor-help",title:"Upgrade to see totals",children:[m.jsx(ql,{className:"w-4 h-4"})," Hidden"]})}),f&&m.jsx("div",{className:"mt-3 pt-3 border-t border-slate-100 dark:border-slate-700 text-xs",children:f})]}),KZ=()=>{const{invoices:e,customers:t,products:r,workers:n,salaryRecords:l,customerPayments:c,businessProfile:f,isLoading:p}=Ln(),{theme:b}=fT(),[v,w]=O.useState("month");pa();const A=f.plan!==Er.FREE,T=f.includeNonGstInReports!==!1;if(p)return m.jsx("div",{className:"p-10 text-center text-slate-500 dark:text-slate-400 animate-pulse",children:"Loading dashboard..."});const _=(te,Q)=>{if(!te)return!1;const ie=te.split("T")[0],be=new Date,X=be.getFullYear(),re=be.getMonth()+1,se=be.getDate(),[de,xe,Me]=ie.split("-").map(Number);switch(Q){case"today":return de===X&&xe===re&&Me===se;case"month":return de===X&&xe===re;case"year":return de===X;case"all":return!0;default:return!0}},j=O.useMemo(()=>e.filter(te=>!te.isDeleted&&(T||te.billingType!=="NON_GST")&&_(te.date,v)),[e,v,T]),M=O.useMemo(()=>{let te=0,Q=0;return j.forEach(ie=>{ie.returns&&ie.returns.forEach(be=>{te+=be.totalRefundAmount,Q++})}),{count:Q,total:te}},[j]),k=O.useMemo(()=>{const te=j.reduce((be,X)=>be+(X.paidAmount||0),0),Q=j.reduce((be,X)=>be+X.grandTotal,0),ie=M.total;return{net:te,billed:Q,refunds:ie}},[j,M]),R=O.useMemo(()=>{let te=0,Q=0,ie=0,be=0,X=0,re=0;return j.forEach(se=>{se.excludeFromReports||(te+=se.paidAmount,se.status===Ot.OVERDUE?(ie+=se.balanceAmount,re++):se.balanceAmount>0&&(Q+=se.balanceAmount,X++),se.status===Ot.PAID&&be++)}),{collected:{count:be,amount:te},pending:{count:X,amount:Q},overdue:{count:re,amount:ie}}},[j]),F=O.useMemo(()=>{const te={},Q=new Date,ie=[];if(v==="year"||v==="all")for(let X=5;X>=0;X--){const se=new Date(Q.getFullYear(),Q.getMonth()-X,1).toLocaleString("default",{month:"short",year:"2-digit"});ie.push(se),te[se]=0}else for(let X=6;X>=0;X--){const re=new Date(Q);re.setDate(re.getDate()-X);const se=re.toLocaleDateString("default",{day:"numeric",month:"short"});ie.push(se),te[se]=0}const be=(X,re)=>{const[se,de,xe]=X.split("T")[0].split("-").map(Number),Me=new Date(se,de-1,xe);let $="";v==="year"||v==="all"?$=Me.toLocaleString("default",{month:"short",year:"2-digit"}):$=Me.toLocaleDateString("default",{day:"numeric",month:"short"}),te[$]!==void 0&&(te[$]+=re)};return e.forEach(X=>{if(!X.isDeleted&&!X.excludeFromReports){if(!T&&X.billingType==="NON_GST")return;be(X.date,X.paidAmount||0)}}),ie.map(X=>({name:X,revenue:te[X]||0}))},[e,v,T]),U=O.useMemo(()=>{var be;const te=((be=f.stockSettings)==null?void 0:be.lowStockThreshold)??5,Q=r.filter(X=>(X.stock||0)<=te),ie=Q.reduce((X,re)=>X+re.price*(re.stock||0),0);return{count:Q.length,value:ie}},[r,f.stockSettings]),V=O.useMemo(()=>{const te=n.filter(ie=>ie.advanceBalance>0),Q=te.reduce((ie,be)=>ie+be.advanceBalance,0);return{count:te.length,total:Q}},[n]),q=O.useMemo(()=>{const te=new Date().toISOString().slice(0,7),Q=l.filter(X=>X.month===te),ie=Q.filter(X=>X.status==="Paid").reduce((X,re)=>X+re.amount,0),be=Q.filter(X=>X.status==="Unpaid").reduce((X,re)=>X+re.amount,0);return{paid:ie,pending:be}},[l]),Y=b==="dark"||b==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches,L=Y?"#334155":"#e2e8f0",ee=Y?"#94a3b8":"#64748b",Z=Y?"#1e293b":"#ffffff",Ne=Y?"#f8fafc":"#0f172a";return m.jsxs("div",{className:"animate-in fade-in duration-500",children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-4 lg:px-10 pt-4 lg:pt-10 pb-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Overview"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Welcome back, here is your business summary."})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"relative",children:[m.jsxs("select",{value:v,onChange:te=>w(te.target.value),className:"appearance-none bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 py-2.5 pl-4 pr-10 rounded-xl font-medium focus:outline-none focus:ring-2 focus:ring-primary-500 cursor-pointer shadow-sm",children:[m.jsx("option",{value:"today",children:"Today"}),m.jsx("option",{value:"month",children:"This Month"}),m.jsx("option",{value:"year",children:"This Year"}),m.jsx("option",{value:"all",children:"All Time"})]}),m.jsx($4,{className:"w-4 h-4 text-slate-400 absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"})]}),m.jsxs(Ma,{to:"/invoices/new",className:"bg-primary-600 hover:bg-primary-700 text-white px-5 py-2.5 rounded-xl font-medium flex items-center gap-2 shadow-lg shadow-primary-600/30 transition-all",children:[m.jsx(Hs,{className:"w-5 h-5"}),"Create Invoice"]})]})]}),!T&&m.jsxs("div",{className:"mt-4 bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800 rounded-xl p-3 flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",children:[m.jsx(nT,{className:"w-4 h-4"}),m.jsxs("span",{children:["Non-GST invoices are currently excluded from revenue calculations. Change this in ",m.jsx(Ma,{to:"/profile",className:"underline font-bold",children:"Settings"}),"."]})]})]}),m.jsxs("div",{className:"px-4 lg:px-10 pb-10 space-y-8",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx(Eo,{title:"Revenue (Paid)",value:$e(k.net),change:v==="all"?"":"Net Collected",icon:uh,colorClass:"bg-emerald-500 text-emerald-600",footer:m.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[m.jsxs("span",{children:["Billed: ",$e(k.billed)]}),m.jsxs("span",{children:["Refunds: -",$e(k.refunds)]})]})}),m.jsx(Eo,{title:"Customers",value:t.length,icon:su,colorClass:"bg-blue-500 text-blue-600"}),m.jsx(Eo,{title:"Invoices Generated",value:j.length,icon:$x,colorClass:"bg-indigo-500 text-indigo-600"}),m.jsx(Eo,{title:"Refunds & Returns",value:$e(M.total),icon:Oo,colorClass:"bg-red-500 text-red-600",footer:m.jsxs("div",{className:"text-xs text-slate-500",children:[M.count," items returned in period"]})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsx(Eo,{title:"Low Stock Products",value:U.count,icon:Xd,colorClass:"bg-orange-500 text-orange-600",isPremium:!0,footer:m.jsxs("div",{className:"flex justify-between items-center text-slate-500 dark:text-slate-400",children:[m.jsx("span",{children:"Value at Risk:"}),m.jsx("span",{className:"font-bold text-orange-600 dark:text-orange-400",children:A?$e(U.value):"Upgrade"})]})}),m.jsx(Eo,{title:"Workers Advance",value:$e(V.total),icon:ch,colorClass:"bg-purple-500 text-purple-600",isPremium:A,footer:m.jsxs("div",{className:"flex justify-between items-center text-slate-500 dark:text-slate-400",children:[m.jsx("span",{children:"Workers with Advance:"}),m.jsx("span",{className:"font-bold text-purple-600 dark:text-purple-400",children:V.count})]})}),m.jsx(Eo,{title:"This Month Salaries",value:$e(q.paid),icon:tT,colorClass:"bg-blue-500 text-blue-600",isPremium:A,footer:m.jsxs("div",{className:"flex justify-between items-center text-slate-500 dark:text-slate-400",children:[m.jsx("span",{children:"Pending Payment:"}),m.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:A?$e(q.pending):"Upgrade"})]})})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-6",children:"Invoice Status (Created in Period)"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"p-4 rounded-xl bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-800",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-800/50 rounded-lg text-emerald-600 dark:text-emerald-400",children:m.jsx(Bo,{className:"w-5 h-5"})}),m.jsxs("span",{className:"text-xs font-bold bg-white dark:bg-slate-800 px-2 py-1 rounded-full text-emerald-600 dark:text-emerald-400 shadow-sm",children:[R.collected.count," Invoices"]})]}),m.jsx("p",{className:"text-xs text-emerald-600/80 dark:text-emerald-400/80 font-medium",children:"Collected"}),m.jsx("p",{className:"text-xl font-bold text-emerald-700 dark:text-emerald-300",children:$e(R.collected.amount)})]}),m.jsxs("div",{className:"p-4 rounded-xl bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-100 dark:border-yellow-800",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-800/50 rounded-lg text-yellow-600 dark:text-yellow-400",children:m.jsx(fy,{className:"w-5 h-5"})}),m.jsxs("span",{className:"text-xs font-bold bg-white dark:bg-slate-800 px-2 py-1 rounded-full text-yellow-600 dark:text-yellow-400 shadow-sm",children:[R.pending.count," Invoices"]})]}),m.jsx("p",{className:"text-xs text-yellow-600/80 dark:text-yellow-400/80 font-medium",children:"Pending"}),m.jsx("p",{className:"text-xl font-bold text-yellow-700 dark:text-yellow-300",children:$e(R.pending.amount)})]}),m.jsxs("div",{className:"p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-800",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-800/50 rounded-lg text-red-600 dark:text-red-400",children:m.jsx(f1,{className:"w-5 h-5"})}),m.jsxs("span",{className:"text-xs font-bold bg-white dark:bg-slate-800 px-2 py-1 rounded-full text-red-600 dark:text-red-400 shadow-sm",children:[R.overdue.count," Invoices"]})]}),m.jsx("p",{className:"text-xs text-red-600/80 dark:text-red-400/80 font-medium",children:"Overdue"}),m.jsx("p",{className:"text-xl font-bold text-red-700 dark:text-red-300",children:$e(R.overdue.amount)})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-6",children:"Revenue Trend (Based on Invoice Date)"}),m.jsx("div",{className:"h-72 w-full",children:m.jsx(eh,{width:"100%",height:"100%",children:m.jsxs(Qv,{data:F,children:[m.jsx(Sd,{strokeDasharray:"3 3",vertical:!1,stroke:L}),m.jsx(Ed,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:ee,fontSize:12},dy:10}),m.jsx(Cd,{axisLine:!1,tickLine:!1,tick:{fill:ee,fontSize:12},tickFormatter:te=>`${te>=1e3?te/1e3+"k":te}`}),m.jsx(rh,{cursor:{fill:Y?"#334155":"#f1f5f9"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",backgroundColor:Z,color:Ne},itemStyle:{color:Ne},labelStyle:{color:ee},formatter:te=>[`${te}`,"Revenue"]}),m.jsx(i1,{dataKey:"revenue",fill:"#4f46e5",radius:[6,6,0,0],barSize:32})]})})})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm flex flex-col",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Recent Invoices"}),m.jsxs("div",{className:"space-y-4 flex-1 overflow-auto",children:[e.filter(te=>!te.isDeleted).slice(0,5).map(te=>m.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-xl transition-colors group cursor-pointer border border-transparent hover:border-slate-100 dark:hover:border-slate-700",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-slate-500 dark:text-slate-400 group-hover:bg-white dark:group-hover:bg-slate-600 group-hover:shadow-sm",children:m.jsx($x,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:te.customerName}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:te.invoiceNumber})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:$e(te.grandTotal)}),m.jsx("p",{className:`text-[10px] font-bold uppercase tracking-wider ${te.status==="Paid"?"text-emerald-500":te.status==="Partially Paid"?"text-orange-500":te.status==="Returned"?"text-slate-500":"text-red-500"}`,children:te.status})]})]},te.id)),e.length===0&&m.jsx("div",{className:"text-center text-slate-400 py-8 text-sm",children:"No recent invoices."})]}),m.jsx(Ma,{to:"/invoices",className:"block text-center text-sm font-semibold text-primary-600 dark:text-primary-400 mt-6 hover:text-primary-700 dark:hover:text-primary-300",children:"View All Invoices"})]})]})]})]})},It=({label:e,error:t,className:r="",...n})=>m.jsxs("div",{className:"w-full",children:[e&&m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:e}),m.jsx("input",{className:`w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 
        bg-white dark:bg-slate-800 
        text-slate-900 dark:text-white 
        placeholder:text-slate-400 dark:placeholder:text-slate-500
        focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400
        disabled:opacity-50 disabled:bg-slate-100 dark:disabled:bg-slate-900 disabled:cursor-not-allowed
        [color-scheme:light] dark:[color-scheme:dark]
        transition-all duration-200 ${t?"border-red-500 focus:ring-red-500":""} ${r}`,...n}),t&&m.jsx("p",{className:"mt-1 text-xs text-red-500",children:t})]}),Xo=({label:e,options:t,placeholder:r,className:n="",...l})=>m.jsxs("div",{className:"w-full",children:[e&&m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:e}),m.jsxs("select",{className:`w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 
        bg-white dark:bg-slate-800 
        text-slate-900 dark:text-white 
        focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400
        disabled:opacity-50 disabled:bg-slate-100 dark:disabled:bg-slate-900
        [color-scheme:light] dark:[color-scheme:dark]
        transition-all duration-200 ${n}`,...l,children:[r&&m.jsx("option",{value:"",className:"text-slate-500",children:r}),t.map(c=>m.jsx("option",{value:c.value,children:c.label},c.value))]})]}),ZZ=()=>{const{invoices:e,softDeleteInvoice:t,restoreInvoice:r,permanentDeleteInvoice:n,processSalesReturn:l}=Ln(),{showAlert:c}=$l(),[f]=Y4(),[p,b]=O.useState(""),[v,w]=O.useState(f.get("status")||"All"),[A,T]=O.useState("active"),[_,j]=O.useState(!1),[M,k]=O.useState("date"),[R,F]=O.useState("desc"),[U,V]=O.useState(!1),[q,Y]=O.useState(null),[L,ee]=O.useState(!1),[Z,Ne]=O.useState(null),[te,Q]=O.useState({}),[ie,be]=O.useState({}),[X,re]=O.useState(new Date().toISOString().split("T")[0]),[se,de]=O.useState(""),[xe,Me]=O.useState("ADJUST"),[$,ue]=O.useState("Cash"),Te=Oe=>{M===Oe?F(R==="asc"?"desc":"asc"):(k(Oe),F("asc"))},Pe=Oe=>{Y(Oe),V(!0)},Qe=()=>{q&&(t(q),V(!1),Y(null))},J=()=>{q&&(n(q),V(!1),Y(null))},Re=Oe=>{Ne(Oe),Q({}),be({}),re(new Date().toISOString().split("T")[0]),de(""),Me("ADJUST"),ue("Cash"),ee(!0)},Ze=O.useMemo(()=>{if(!Z)return{totalRefundValue:0,newGrandTotal:0,excessPayment:0};let Oe=0;Z.items.forEach(lt=>{const wn=te[lt.id]||0;if(wn>0){const ka=lt.amount/lt.quantity*wn*(1+lt.gstRate/100);Oe+=ka}});const Ct=Math.max(0,Z.grandTotal-Oe),bt=Z.paidAmount||0,Nt=Math.max(0,bt-Ct);return{totalRefundValue:Oe,newGrandTotal:Ct,excessPayment:Nt}},[Z,te]);O.useEffect(()=>{Ze.excessPayment<=0?Me("ADJUST"):xe==="ADJUST"&&Me("CASH")},[Ze.excessPayment,xe]);const he=async()=>{if(!Z)return;const Oe=[];if(Object.keys(te).forEach(Nt=>{const lt=te[Nt];lt>0&&Oe.push({itemId:Nt,quantity:lt,condition:ie[Nt]||Yc.GOOD})}),Oe.length===0){c({title:"No Items",message:"Please select at least one item to return.",type:"warning"});return}let Ct=se;xe==="CASH"&&Ze.excessPayment>0&&(Ct=`${se?se+" | ":""}Refunded via ${$}`);const bt=await l(Z.id,{items:Oe,date:X,reason:Ct,refundMethod:xe});bt.success?(c({title:"Return Processed",message:bt.message||"Success",type:"success"}),ee(!1),Ne(null)):c({title:"Failed",message:bt.message||"Could not process return",type:"error"})},nt=e.filter(Oe=>{if(A==="active"&&Oe.isDeleted||A==="deleted"&&!Oe.isDeleted)return!1;const Ct=Oe.invoiceNumber.toLowerCase().includes(p.toLowerCase())||Oe.customerName.toLowerCase().includes(p.toLowerCase()),bt=v==="All"||Oe.status===v;return A==="active"&&!_&&Oe.isCustomerInactive?!1:Ct&&bt}),st=e.filter(Oe=>!Oe.isDeleted&&Oe.isCustomerInactive&&(v==="All"||Oe.status===v)&&(Oe.invoiceNumber.toLowerCase().includes(p.toLowerCase())||Oe.customerName.toLowerCase().includes(p.toLowerCase()))).length,Be=[...nt].sort((Oe,Ct)=>{let bt,Nt;return M==="amount"?(bt=Oe.grandTotal,Nt=Ct.grandTotal):(bt=Oe[M],Nt=Ct[M]),bt<Nt?R==="asc"?-1:1:bt>Nt?R==="asc"?1:-1:0}),Je=({column:Oe})=>M!==Oe?m.jsx(tk,{className:"w-4 h-4 text-slate-300"}):R==="asc"?m.jsx(Z4,{className:"w-4 h-4 text-primary-600"}):m.jsx(W4,{className:"w-4 h-4 text-primary-600"}),Et=({status:Oe})=>{let Ct="";switch(Oe){case Ot.PAID:Ct="bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800";break;case Ot.PENDING:Ct="bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 border-blue-200 dark:border-blue-800";break;case Ot.PARTIALLY_PAID:Ct="bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 border-orange-200 dark:border-orange-800";break;case Ot.OVERDUE:Ct="bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800";break;case Ot.RETURNED:Ct="bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-600";break;case Ot.PARTIALLY_RETURNED:Ct="bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 border-purple-200 dark:border-purple-800";break;default:Ct="bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 border-slate-200"}return m.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold border ${Ct}`,children:Oe})};return m.jsxs("div",{children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-4 lg:px-10 pt-4 lg:pt-10 pb-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Invoices"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage and track your billings"})]}),m.jsxs(Ma,{to:"/invoices/new",className:"bg-primary-600 hover:bg-primary-700 text-white px-5 py-2.5 rounded-xl font-medium flex items-center gap-2 shadow-lg shadow-primary-600/30 transition-all w-full sm:w-auto justify-center",children:[m.jsx(Hs,{className:"w-5 h-5"}),"Create Invoice"]})]}),m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[m.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl w-fit",children:[m.jsxs("button",{onClick:()=>T("active"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${A==="active"?"bg-white dark:bg-slate-700 text-primary-600 dark:text-primary-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:[m.jsx($x,{className:"w-4 h-4"})," Active Invoices"]}),m.jsxs("button",{onClick:()=>T("deleted"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${A==="deleted"?"bg-white dark:bg-slate-700 text-red-500 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:[m.jsx(ko,{className:"w-4 h-4"})," Recycle Bin"]})]}),A==="active"&&m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none bg-slate-50 dark:bg-slate-800/50 px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 hover:border-slate-300 transition-colors",children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"checkbox",checked:_,onChange:Oe=>j(Oe.target.checked),className:"sr-only peer"}),m.jsx("div",{className:"w-9 h-5 bg-slate-200 peer-focus:outline-none rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-slate-600"})]}),m.jsxs("span",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[m.jsx(m1,{className:"w-3 h-3"})," Show Inactive Invoices"]})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(Wd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),m.jsx("input",{type:"text",placeholder:"Search by invoice # or customer...",value:p,onChange:Oe=>b(Oe.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 transition-colors"})]}),m.jsxs("div",{className:"relative w-full sm:w-48",children:[m.jsx(Lk,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4"}),m.jsxs("select",{value:v,onChange:Oe=>w(Oe.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 appearance-none cursor-pointer",children:[m.jsx("option",{value:"All",children:"All Status"}),m.jsx("option",{value:Ot.PAID,children:"Paid"}),m.jsx("option",{value:Ot.PENDING,children:"Pending"}),m.jsx("option",{value:Ot.PARTIALLY_PAID,children:"Partially Paid"}),m.jsx("option",{value:Ot.OVERDUE,children:"Overdue"}),m.jsx("option",{value:Ot.RETURNED,children:"Returned"}),m.jsx("option",{value:Ot.PARTIALLY_RETURNED,children:"Partially Returned"})]})]})]}),A==="active"&&!_&&st>0&&m.jsxs("div",{className:"flex items-center gap-2 px-1 animate-in fade-in slide-in-from-left-2",children:[m.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-400"}),m.jsxs("p",{className:"text-xs text-slate-400 font-medium",children:[st," invoices hidden from inactive customers."]})]})]})]}),m.jsx("div",{className:"px-4 lg:px-10 pb-10 space-y-6",children:m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors select-none",onClick:()=>Te("invoiceNumber"),children:m.jsxs("div",{className:"flex items-center gap-1",children:["Invoice Details ",m.jsx(Je,{column:"invoiceNumber"})]})}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors select-none",onClick:()=>Te("date"),children:m.jsxs("div",{className:"flex items-center gap-1",children:["Date ",m.jsx(Je,{column:"date"})]})}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Status"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase text-right cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors select-none",onClick:()=>Te("amount"),children:m.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Amount ",m.jsx(Je,{column:"amount"})]})}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase text-right",children:"Actions"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[Be.map(Oe=>{const Ct=Oe.returns&&Oe.returns.length>0;return m.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors group ${Oe.isCustomerInactive?"opacity-75 bg-slate-50/50 dark:bg-slate-800/50":""}`,children:[m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${A==="deleted"?"bg-red-50 text-red-500":"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400"}`,children:A==="deleted"?m.jsx(ko,{className:"w-5 h-5"}):m.jsx(Wc,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:Oe.invoiceNumber}),Oe.isCustomerInactive&&m.jsx("span",{className:"text-[10px] bg-slate-100 dark:bg-slate-700 text-slate-500 px-1.5 py-0.5 rounded border border-slate-200 dark:border-slate-600",children:"Inactive Customer"})]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:Oe.customerName})]})]})}),m.jsxs("td",{className:"px-6 py-4",children:[m.jsx("p",{className:"text-sm text-slate-900 dark:text-white font-medium",children:Za(Oe.date)}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Due: ",Za(Oe.dueDate)]})]}),m.jsx("td",{className:"px-6 py-4",children:m.jsx(Et,{status:Oe.status})}),m.jsxs("td",{className:"px-6 py-4 text-right",children:[m.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:$e(Oe.grandTotal)}),Oe.balanceAmount>0&&m.jsxs("p",{className:"text-xs text-orange-500 font-bold",children:["Bal: ",$e(Oe.balanceAmount)]}),Ct&&m.jsxs("div",{className:"flex items-center justify-end gap-1 text-[10px] text-red-500 font-bold mt-1",children:[m.jsx(Oo,{className:"w-3 h-3"}),"Returned: ",$e(Oe.returns.reduce((bt,Nt)=>bt+Nt.totalRefundAmount,0))]})]}),m.jsx("td",{className:"px-6 py-4 text-right",children:m.jsx("div",{className:"flex items-center justify-end gap-2",children:A==="active"?m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>Re(Oe),className:"text-slate-400 hover:text-red-500 p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Return Items",children:m.jsx(Oo,{className:"w-4 h-4"})}),m.jsx(Ma,{to:`/invoices/${Oe.id}?mode=view`,className:"text-slate-400 hover:text-primary-500 p-2 hover:bg-primary-50 dark:hover:bg-primary-900/30 rounded-lg transition-colors",title:"View Invoice",children:m.jsx(qd,{className:"w-4 h-4"})}),m.jsx(Ma,{to:`/invoices/${Oe.id}`,className:"text-slate-400 hover:text-indigo-500 p-2 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",title:Ct?"Edit Invoice (Restricted)":"Edit Invoice",children:m.jsx(g1,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>Pe(Oe.id),className:"text-slate-400 hover:text-red-500 p-2 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete Invoice",children:m.jsx(ko,{className:"w-4 h-4"})})]}):m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>r(Oe.id),className:"text-emerald-500 hover:text-emerald-700 bg-emerald-50 hover:bg-emerald-100 p-2 rounded-lg transition-colors flex items-center gap-1 text-xs font-bold px-3",children:[m.jsx(Oo,{className:"w-3.5 h-3.5"})," Restore"]}),m.jsx("button",{onClick:()=>Pe(Oe.id),className:"text-red-500 hover:text-red-700 bg-red-50 hover:bg-red-100 p-2 rounded-lg transition-colors text-xs font-bold px-3",children:"Permanent Delete"})]})})})]},Oe.id)}),Be.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-slate-400 dark:text-slate-500",children:A==="active"?"No active invoices found.":"Recycle bin is empty."})})]})]})})})}),U&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden p-6 text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(Kc,{className:"w-8 h-8 text-red-500"})}),m.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Delete Invoice?"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:A==="active"?"Do you want to temporarily move this to the recycle bin or delete it permanently?":"Permanent deletion cannot be undone. Are you sure?"}),m.jsxs("div",{className:"space-y-3",children:[A==="active"&&m.jsxs("button",{onClick:Qe,className:"w-full py-3 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 font-bold rounded-xl hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-colors flex items-center justify-center gap-2",children:[m.jsx(Zj,{className:"w-4 h-4"})," Move to Recycle Bin (Soft Delete)"]}),m.jsx("button",{onClick:J,className:"w-full py-3 bg-red-500 hover:bg-red-600 text-white font-bold rounded-xl transition-colors shadow-lg shadow-red-500/30",children:A==="active"?"Delete Permanently":"Yes, Delete Permanently"}),m.jsx("button",{onClick:()=>V(!1),className:"w-full py-3 text-slate-500 hover:text-slate-700 font-bold",children:"Cancel"})]})]})}),L&&Z&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 animate-in fade-in zoom-in-95",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-2xl shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-700 flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-900/50",children:[m.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[m.jsx(Oo,{className:"w-5 h-5 text-red-500"})," Return Items  ",Z.invoiceNumber]}),m.jsx("button",{onClick:()=>ee(!1),className:"text-slate-400 hover:text-slate-600",children:m.jsx(Xl,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"p-6 overflow-y-auto",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[m.jsx(It,{type:"date",label:"Return Date",value:X,onChange:Oe=>re(Oe.target.value)}),m.jsx(It,{label:"Reason / Note",value:se,onChange:Oe=>de(Oe.target.value),placeholder:"e.g. Defective, Wrong Size"})]}),m.jsxs("table",{className:"w-full text-sm text-left mb-6",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"text-xs text-slate-500 uppercase border-b border-slate-200 dark:border-slate-700",children:[m.jsx("th",{className:"pb-2",children:"Product"}),m.jsx("th",{className:"pb-2 text-right",children:"Sold"}),m.jsx("th",{className:"pb-2 text-right",children:"Returnable"}),m.jsx("th",{className:"pb-2 w-24",children:"Return Qty"}),m.jsx("th",{className:"pb-2 pl-2",children:"Condition"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:Z.items.map(Oe=>{const Ct=Oe.returnedQuantity||0,bt=Math.max(0,Oe.quantity-Ct),Nt=te[Oe.id]||0;return Oe.quantity<=0?null:m.jsxs("tr",{children:[m.jsx("td",{className:"py-3 pr-2",children:m.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 block",children:Oe.name})}),m.jsx("td",{className:"py-3 text-right text-slate-500",children:Oe.quantity}),m.jsx("td",{className:"py-3 text-right font-medium text-emerald-600",children:bt}),m.jsx("td",{className:"py-3",children:m.jsx(It,{type:"number",min:"0",max:bt,value:Nt||"",onChange:lt=>{const wn=Math.min(bt,Math.max(0,parseInt(lt.target.value)||0));Q(et=>({...et,[Oe.id]:wn}))},className:"!py-1 !px-2 text-right h-8",disabled:bt===0})}),m.jsx("td",{className:"py-3 pl-2",children:m.jsx("select",{value:ie[Oe.id]||Yc.GOOD,onChange:lt=>be(wn=>({...wn,[Oe.id]:lt.target.value})),className:"w-full text-xs border border-slate-200 dark:border-slate-700 rounded-lg px-2 py-1.5 bg-white dark:bg-slate-800",disabled:Nt===0,children:Object.values(Yc).map(lt=>m.jsx("option",{value:lt,children:lt},lt))})})]},Oe.id)})})]}),Ze.totalRefundValue>0&&m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsx("span",{className:"text-sm font-bold text-slate-600 dark:text-slate-400",children:"Total Return Value:"}),m.jsx("span",{className:"text-lg font-bold text-red-600",children:$e(Ze.totalRefundValue)})]}),m.jsx("div",{className:"pt-3 border-t border-slate-200 dark:border-slate-700",children:Ze.excessPayment>0?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-orange-600 font-bold",children:[m.jsx(Kc,{className:"w-4 h-4"}),"Excess Payment: ",$e(Ze.excessPayment)]}),m.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"How do you want to handle this refund?"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("label",{className:`cursor-pointer border p-3 rounded-xl flex flex-col items-center gap-2 transition-all ${xe==="CASH"?"bg-emerald-50 border-emerald-500 text-emerald-700 dark:bg-emerald-900/20 dark:border-emerald-500 dark:text-emerald-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-600 hover:border-emerald-300"}`,children:[m.jsx("input",{type:"radio",name:"refundMethod",value:"CASH",checked:xe==="CASH",onChange:()=>Me("CASH"),className:"sr-only"}),m.jsx(tT,{className:"w-5 h-5"}),m.jsx("span",{className:"text-xs font-bold text-center",children:"Immediate Refund"})]}),m.jsxs("label",{className:`cursor-pointer border p-3 rounded-xl flex flex-col items-center gap-2 transition-all ${xe==="ADVANCE"?"bg-purple-50 border-purple-500 text-purple-700 dark:bg-purple-900/20 dark:border-purple-500 dark:text-purple-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-600 hover:border-purple-300"}`,children:[m.jsx("input",{type:"radio",name:"refundMethod",value:"ADVANCE",checked:xe==="ADVANCE",onChange:()=>Me("ADVANCE"),className:"sr-only"}),m.jsx(p1,{className:"w-5 h-5"}),m.jsx("span",{className:"text-xs font-bold text-center",children:"Add to Advance"})]})]}),xe==="CASH"&&m.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[m.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1.5 ml-1",children:"Refund Mode"}),m.jsxs("div",{className:"relative",children:[m.jsxs("select",{value:$,onChange:Oe=>ue(Oe.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm appearance-none focus:outline-none focus:ring-2 focus:ring-emerald-500 cursor-pointer",children:[m.jsx("option",{value:"Cash",children:"Cash"}),m.jsx("option",{value:"UPI",children:"UPI"}),m.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"})]}),m.jsx(h1,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none"})]})]})]}):m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsx("span",{className:"text-slate-500",children:"Refund Action:"}),m.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 bg-slate-200 dark:bg-slate-700 px-3 py-1 rounded-lg",children:"Adjust Outstanding Dues"})]})})]})]}),m.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 flex justify-end gap-3",children:[m.jsx("button",{onClick:()=>ee(!1),className:"px-4 py-2 text-slate-600 font-bold hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200",children:"Cancel"}),m.jsxs("button",{onClick:he,className:"px-6 py-2 bg-red-600 text-white font-bold rounded-xl shadow-lg hover:bg-red-700 transition-all flex items-center gap-2",children:[m.jsx(Oo,{className:"w-4 h-4"})," Confirm Return"]})]})]})})]})},Jv=({label:e,options:t,value:r,onChange:n,onTextChange:l,placeholder:c="Select...",className:f="",error:p,disabled:b=!1})=>{const[v,w]=O.useState(!1),[A,T]=O.useState(""),_=O.useRef(null),j=t.find(F=>F.value===r),M=j?j.label:l?r:"";O.useEffect(()=>{const F=U=>{_.current&&!_.current.contains(U.target)&&w(!1)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]);const k=t.filter(F=>F.label.toLowerCase().includes(A.toLowerCase())),R=F=>{n(F),w(!1),T("")};return m.jsxs("div",{className:`w-full relative ${f}`,ref:_,children:[e&&m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:e}),m.jsxs("div",{className:`w-full px-4 py-2.5 rounded-xl border bg-white dark:bg-slate-800 text-slate-900 dark:text-white 
        flex items-center justify-between cursor-pointer transition-all duration-200
        ${p?"border-red-500":"border-slate-200 dark:border-slate-700"}
        ${b?"opacity-50 cursor-not-allowed bg-slate-100 dark:bg-slate-900":"hover:border-primary-400"}
        ${v?"ring-2 ring-primary-500 border-primary-500":""}`,onClick:()=>!b&&w(!v),children:[m.jsx("span",{className:`block truncate ${M?"":"text-slate-400"}`,children:M||c}),m.jsx(eT,{className:`w-4 h-4 text-slate-400 transition-transform ${v?"rotate-180":""}`})]}),p&&m.jsx("p",{className:"mt-1 text-xs text-red-500",children:p}),v&&!b&&m.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-xl max-h-60 overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[m.jsx("div",{className:"p-2 border-b border-slate-100 dark:border-slate-700 sticky top-0 bg-white dark:bg-slate-800",children:m.jsxs("div",{className:"relative",children:[m.jsx(Wd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400"}),m.jsx("input",{autoFocus:!0,type:"text",className:"w-full pl-9 pr-3 py-1.5 text-sm bg-slate-50 dark:bg-slate-700/50 border-none rounded-lg focus:ring-0 text-slate-900 dark:text-white placeholder:text-slate-400",placeholder:"Search...",value:A,onChange:F=>{T(F.target.value),l&&n(F.target.value)},onClick:F=>F.stopPropagation()})]})}),m.jsx("div",{className:"overflow-y-auto flex-1 p-1",children:k.length>0?k.map(F=>m.jsxs("div",{className:`px-3 py-2 rounded-lg text-sm cursor-pointer flex items-center justify-between
                    ${F.value===r?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 font-medium":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,onClick:()=>R(F.value),children:[F.label,F.value===r&&m.jsx(J4,{className:"w-3.5 h-3.5"})]},F.value)):m.jsx("div",{className:"px-4 py-3 text-sm text-slate-400 text-center",children:l?"Type to add custom...":"No results found"})})]})]})};var at;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(at||(at={}));var c4=new Map([[at.QR_CODE,"QR_CODE"],[at.AZTEC,"AZTEC"],[at.CODABAR,"CODABAR"],[at.CODE_39,"CODE_39"],[at.CODE_93,"CODE_93"],[at.CODE_128,"CODE_128"],[at.DATA_MATRIX,"DATA_MATRIX"],[at.MAXICODE,"MAXICODE"],[at.ITF,"ITF"],[at.EAN_13,"EAN_13"],[at.EAN_8,"EAN_8"],[at.PDF_417,"PDF_417"],[at.RSS_14,"RSS_14"],[at.RSS_EXPANDED,"RSS_EXPANDED"],[at.UPC_A,"UPC_A"],[at.UPC_E,"UPC_E"],[at.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),u4;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(u4||(u4={}));function $Z(e){return Object.values(at).includes(e)}var Zl;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Zl||(Zl={}));var _i=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Zl.SCAN_TYPE_CAMERA,Zl.SCAN_TYPE_FILE],e})(),EI=(function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!c4.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,c4.get(t))},e})(),d4=(function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),ey;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(ey||(ey={}));var CI=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:ey.UNKWOWN_ERROR}},e})(),NI=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function es(e){return typeof e>"u"||e===null}function QZ(e,t,r){return e>r?r:e<t?t:e}var Vc=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),vr=(function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e})(),f4=(function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e})(),TI=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(l),f=Object.keys(t),p=0,b=f;p<b.length;p++){var v=b[p];if(c.has(v))return r.logError("".concat(v," is not supported videoConstaints."),!0),!1}return!0},e})(),bd={exports:{}},JZ=bd.exports,h4;function e$(){return h4||(h4=1,(function(e,t){(function(r,n){n(t)})(JZ,(function(r){function n(B){return B==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,i){B.__proto__=i}||function(B,i){for(var o in i)i.hasOwnProperty(o)&&(B[o]=i[o])};function c(B,i){l(B,i);function o(){this.constructor=B}B.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}function f(B,i){var o=Object.setPrototypeOf;o?o(B,i):B.__proto__=i}function p(B,i){i===void 0&&(i=B.constructor);var o=Error.captureStackTrace;o&&o(B,i)}var b=(function(B){c(i,B);function i(o){var u=this.constructor,h=B.call(this,o)||this;return Object.defineProperty(h,"name",{value:u.name,enumerable:!1}),f(h,u.prototype),p(h),h}return i})(Error);class v extends b{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}v.kind="Exception";class w extends v{}w.kind="ArgumentException";class A extends v{}A.kind="IllegalArgumentException";class T{constructor(i){if(this.binarizer=i,i===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,o){return this.binarizer.getBlackRow(i,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,o,u,h){const g=this.binarizer.getLuminanceSource().crop(i,o,u,h);return new T(this.binarizer.createBinarizer(g))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new T(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new T(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends v{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class j{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class M{static arraycopy(i,o,u,h,g){for(;g--;)u[h++]=i[o++]}static currentTimeMillis(){return Date.now()}}class k extends v{}k.kind="IndexOutOfBoundsException";class R extends k{constructor(i=void 0,o=void 0){super(o),this.index=i,this.message=o}}R.kind="ArrayIndexOutOfBoundsException";class F{static fill(i,o){for(let u=0,h=i.length;u<h;u++)i[u]=o}static fillWithin(i,o,u,h){F.rangeCheck(i.length,o,u);for(let g=o;g<u;g++)i[g]=h}static rangeCheck(i,o,u){if(o>u)throw new A("fromIndex("+o+") > toIndex("+u+")");if(o<0)throw new R(o);if(u>i)throw new R(u)}static asList(...i){return i}static create(i,o,u){return Array.from({length:i}).map(g=>Array.from({length:o}).fill(u))}static createInt32Array(i,o,u){return Array.from({length:i}).map(g=>Int32Array.from({length:o}).fill(u))}static equals(i,o){if(!i||!o||!i.length||!o.length||i.length!==o.length)return!1;for(let u=0,h=i.length;u<h;u++)if(i[u]!==o[u])return!1;return!0}static hashCode(i){if(i===null)return 0;let o=1;for(const u of i)o=31*o+u;return o}static fillUint8Array(i,o){for(let u=0;u!==i.length;u++)i[u]=o}static copyOf(i,o){return i.slice(0,o)}static copyOfUint8Array(i,o){if(i.length<=o){const u=new Uint8Array(o);return u.set(i),u}return i.slice(0,o)}static copyOfRange(i,o,u){const h=u-o,g=new Int32Array(h);return M.arraycopy(i,o,g,0,h),g}static binarySearch(i,o,u){u===void 0&&(u=F.numberComparator);let h=0,g=i.length-1;for(;h<=g;){const y=g+h>>1,S=u(o,i[y]);if(S>0)h=y+1;else if(S<0)g=y-1;else return y}return-h-1}static numberComparator(i,o){return i-o}}class U{static numberOfTrailingZeros(i){let o;if(i===0)return 32;let u=31;return o=i<<16,o!==0&&(u-=16,i=o),o=i<<8,o!==0&&(u-=8,i=o),o=i<<4,o!==0&&(u-=4,i=o),o=i<<2,o!==0&&(u-=2,i=o),u-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let o=1;return i>>>16||(o+=16,i<<=16),i>>>24||(o+=8,i<<=8),i>>>28||(o+=4,i<<=4),i>>>30||(o+=2,i<<=2),o-=i>>>31,o}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,o){return Math.trunc(i/o)}static parseInt(i,o=void 0){return parseInt(i,o)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class V{constructor(i,o){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,o==null?this.bits=V.makeArray(i):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const o=V.makeArray(i);M.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const o=this.size;if(i>=o)return o;const u=this.bits;let h=Math.floor(i/32),g=u[h];g&=~((1<<(i&31))-1);const y=u.length;for(;g===0;){if(++h===y)return o;g=u[h]}const S=h*32+U.numberOfTrailingZeros(g);return S>o?o:S}getNextUnset(i){const o=this.size;if(i>=o)return o;const u=this.bits;let h=Math.floor(i/32),g=~u[h];g&=~((1<<(i&31))-1);const y=u.length;for(;g===0;){if(++h===y)return o;g=~u[h]}const S=h*32+U.numberOfTrailingZeros(g);return S>o?o:S}setBulk(i,o){this.bits[Math.floor(i/32)]=o}setRange(i,o){if(o<i||i<0||o>this.size)throw new A;if(o===i)return;o--;const u=Math.floor(i/32),h=Math.floor(o/32),g=this.bits;for(let y=u;y<=h;y++){const S=y>u?0:i&31,I=(2<<(y<h?31:o&31))-(1<<S);g[y]|=I}}clear(){const i=this.bits.length,o=this.bits;for(let u=0;u<i;u++)o[u]=0}isRange(i,o,u){if(o<i||i<0||o>this.size)throw new A;if(o===i)return!0;o--;const h=Math.floor(i/32),g=Math.floor(o/32),y=this.bits;for(let S=h;S<=g;S++){const C=S>h?0:i&31,D=(2<<(S<g?31:o&31))-(1<<C)&4294967295;if((y[S]&D)!==(u?D:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,o){if(o<0||o>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let u=o;u>0;u--)this.appendBit((i>>u-1&1)===1)}appendBitArray(i){const o=i.size;this.ensureCapacity(this.size+o);for(let u=0;u<o;u++)this.appendBit(i.get(u))}xor(i){if(this.size!==i.size)throw new A("Sizes don't match");const o=this.bits;for(let u=0,h=o.length;u<h;u++)o[u]^=i.bits[u]}toBytes(i,o,u,h){for(let g=0;g<h;g++){let y=0;for(let S=0;S<8;S++)this.get(i)&&(y|=1<<7-S),i++;o[u+g]=y}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),u=o+1,h=this.bits;for(let g=0;g<u;g++){let y=h[g];y=y>>1&1431655765|(y&1431655765)<<1,y=y>>2&858993459|(y&858993459)<<2,y=y>>4&252645135|(y&252645135)<<4,y=y>>8&16711935|(y&16711935)<<8,y=y>>16&65535|(y&65535)<<16,i[o-g]=y}if(this.size!==u*32){const g=u*32-this.size;let y=i[0]>>>g;for(let S=1;S<u;S++){const C=i[S];y|=C<<32-g,i[S-1]=y,y=C>>>g}i[u-1]=y}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof V))return!1;const o=i;return this.size===o.size&&F.equals(this.bits,o.bits)}hashCode(){return 31*this.size+F.hashCode(this.bits)}toString(){let i="";for(let o=0,u=this.size;o<u;o++)(o&7)===0&&(i+=" "),i+=this.get(o)?"X":".";return i}clone(){return new V(this.size,this.bits.slice())}}var q;(function(B){B[B.OTHER=0]="OTHER",B[B.PURE_BARCODE=1]="PURE_BARCODE",B[B.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",B[B.TRY_HARDER=3]="TRY_HARDER",B[B.CHARACTER_SET=4]="CHARACTER_SET",B[B.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",B[B.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",B[B.ASSUME_GS1=7]="ASSUME_GS1",B[B.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",B[B.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",B[B.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(q||(q={}));var Y=q;class L extends v{static getFormatInstance(){return new L}}L.kind="FormatException";var ee;(function(B){B[B.Cp437=0]="Cp437",B[B.ISO8859_1=1]="ISO8859_1",B[B.ISO8859_2=2]="ISO8859_2",B[B.ISO8859_3=3]="ISO8859_3",B[B.ISO8859_4=4]="ISO8859_4",B[B.ISO8859_5=5]="ISO8859_5",B[B.ISO8859_6=6]="ISO8859_6",B[B.ISO8859_7=7]="ISO8859_7",B[B.ISO8859_8=8]="ISO8859_8",B[B.ISO8859_9=9]="ISO8859_9",B[B.ISO8859_10=10]="ISO8859_10",B[B.ISO8859_11=11]="ISO8859_11",B[B.ISO8859_13=12]="ISO8859_13",B[B.ISO8859_14=13]="ISO8859_14",B[B.ISO8859_15=14]="ISO8859_15",B[B.ISO8859_16=15]="ISO8859_16",B[B.SJIS=16]="SJIS",B[B.Cp1250=17]="Cp1250",B[B.Cp1251=18]="Cp1251",B[B.Cp1252=19]="Cp1252",B[B.Cp1256=20]="Cp1256",B[B.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",B[B.UTF8=22]="UTF8",B[B.ASCII=23]="ASCII",B[B.Big5=24]="Big5",B[B.GB18030=25]="GB18030",B[B.EUC_KR=26]="EUC_KR"})(ee||(ee={}));class Z{constructor(i,o,u,...h){this.valueIdentifier=i,this.name=u,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=h,Z.VALUE_IDENTIFIER_TO_ECI.set(i,this),Z.NAME_TO_ECI.set(u,this);const g=this.values;for(let y=0,S=g.length;y!==S;y++){const C=g[y];Z.VALUES_TO_ECI.set(C,this)}for(const y of h)Z.NAME_TO_ECI.set(y,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new L("incorect value");const o=Z.VALUES_TO_ECI.get(i);if(o===void 0)throw new L("incorect value");return o}static getCharacterSetECIByName(i){const o=Z.NAME_TO_ECI.get(i);if(o===void 0)throw new L("incorect value");return o}equals(i){if(!(i instanceof Z))return!1;const o=i;return this.getName()===o.getName()}}Z.VALUE_IDENTIFIER_TO_ECI=new Map,Z.VALUES_TO_ECI=new Map,Z.NAME_TO_ECI=new Map,Z.Cp437=new Z(ee.Cp437,Int32Array.from([0,2]),"Cp437"),Z.ISO8859_1=new Z(ee.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Z.ISO8859_2=new Z(ee.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Z.ISO8859_3=new Z(ee.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Z.ISO8859_4=new Z(ee.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Z.ISO8859_5=new Z(ee.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Z.ISO8859_6=new Z(ee.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Z.ISO8859_7=new Z(ee.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Z.ISO8859_8=new Z(ee.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Z.ISO8859_9=new Z(ee.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Z.ISO8859_10=new Z(ee.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Z.ISO8859_11=new Z(ee.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Z.ISO8859_13=new Z(ee.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Z.ISO8859_14=new Z(ee.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Z.ISO8859_15=new Z(ee.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Z.ISO8859_16=new Z(ee.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Z.SJIS=new Z(ee.SJIS,20,"SJIS","Shift_JIS"),Z.Cp1250=new Z(ee.Cp1250,21,"Cp1250","windows-1250"),Z.Cp1251=new Z(ee.Cp1251,22,"Cp1251","windows-1251"),Z.Cp1252=new Z(ee.Cp1252,23,"Cp1252","windows-1252"),Z.Cp1256=new Z(ee.Cp1256,24,"Cp1256","windows-1256"),Z.UnicodeBigUnmarked=new Z(ee.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Z.UTF8=new Z(ee.UTF8,26,"UTF8","UTF-8"),Z.ASCII=new Z(ee.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Z.Big5=new Z(ee.Big5,28,"Big5"),Z.GB18030=new Z(ee.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Z.EUC_KR=new Z(ee.EUC_KR,30,"EUC_KR","EUC-KR");class Ne extends v{}Ne.kind="UnsupportedOperationException";class te{static decode(i,o){const u=this.encodingName(o);return this.customDecoder?this.customDecoder(i,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(i,u):new TextDecoder(u).decode(i)}static shouldDecodeOnFallback(i){return!te.isBrowser()&&i==="ISO-8859-1"}static encode(i,o){const u=this.encodingName(o);return this.customEncoder?this.customEncoder(i,u):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof Z?i:Z.getCharacterSetECIByName(i)}static decodeFallback(i,o){const u=this.encodingCharacterSet(o);if(te.isDecodeFallbackSupported(u)){let h="";for(let g=0,y=i.length;g<y;g++){let S=i[g].toString(16);S.length<2&&(S="0"+S),h+="%"+S}return decodeURIComponent(h)}if(u.equals(Z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new Ne(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(Z.UTF8)||i.equals(Z.ISO8859_1)||i.equals(Z.ASCII)}static encodeFallback(i){const u=btoa(unescape(encodeURIComponent(i))).split(""),h=[];for(let g=0;g<u.length;g++)h.push(u[g].charCodeAt(0));return new Uint8Array(h)}}class Q{static castAsNonUtf8Char(i,o=null){const u=o?o.getName():this.ISO88591;return te.decode(new Uint8Array([i]),u)}static guessEncoding(i,o){if(o!=null&&o.get(Y.CHARACTER_SET)!==void 0)return o.get(Y.CHARACTER_SET).toString();const u=i.length;let h=!0,g=!0,y=!0,S=0,C=0,I=0,D=0,z=0,H=0,K=0,ae=0,le=0,me=0,Ae=0;const Xe=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let qe=0;qe<u&&(h||g||y);qe++){const Fe=i[qe]&255;y&&(S>0?(Fe&128)===0?y=!1:S--:(Fe&128)!==0&&((Fe&64)===0?y=!1:(S++,(Fe&32)===0?C++:(S++,(Fe&16)===0?I++:(S++,(Fe&8)===0?D++:y=!1))))),h&&(Fe>127&&Fe<160?h=!1:Fe>159&&(Fe<192||Fe===215||Fe===247)&&Ae++),g&&(z>0?Fe<64||Fe===127||Fe>252?g=!1:z--:Fe===128||Fe===160||Fe>239?g=!1:Fe>160&&Fe<224?(H++,ae=0,K++,K>le&&(le=K)):Fe>127?(z++,K=0,ae++,ae>me&&(me=ae)):(K=0,ae=0))}return y&&S>0&&(y=!1),g&&z>0&&(g=!1),y&&(Xe||C+I+D>0)?Q.UTF8:g&&(Q.ASSUME_SHIFT_JIS||le>=3||me>=3)?Q.SHIFT_JIS:h&&g?le===2&&H===2||Ae*10>=u?Q.SHIFT_JIS:Q.ISO88591:h?Q.ISO88591:g?Q.SHIFT_JIS:y?Q.UTF8:Q.PLATFORM_DEFAULT_ENCODING}static format(i,...o){let u=-1;function h(y,S,C,I,D,z){if(y==="%%")return"%";if(o[++u]===void 0)return;y=I?parseInt(I.substr(1)):void 0;let H=D?parseInt(D.substr(1)):void 0,K;switch(z){case"s":K=o[u];break;case"c":K=o[u][0];break;case"f":K=parseFloat(o[u]).toFixed(y);break;case"p":K=parseFloat(o[u]).toPrecision(y);break;case"e":K=parseFloat(o[u]).toExponential(y);break;case"x":K=parseInt(o[u]).toString(H||16);break;case"d":K=parseFloat(parseInt(o[u],H||10).toPrecision(y)).toFixed(0);break}K=typeof K=="object"?JSON.stringify(K):(+K).toString(H);let ae=parseInt(C),le=C&&C[0]+""=="0"?"0":" ";for(;K.length<ae;)K=S!==void 0?K+le:le+K;return K}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(g,h)}static getBytes(i,o){return te.encode(i,o)}static getCharCode(i,o=0){return i.charCodeAt(o)}static getCharAt(i){return String.fromCharCode(i)}}Q.SHIFT_JIS=Z.SJIS.getName(),Q.GB2312="GB2312",Q.ISO88591=Z.ISO8859_1.getName(),Q.EUC_JP="EUC_JP",Q.UTF8=Z.UTF8.getName(),Q.PLATFORM_DEFAULT_ENCODING=Q.UTF8,Q.ASSUME_SHIFT_JIS=!1;class ie{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=Q.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,o,u){for(let h=o;o<o+u;h++)this.append(i[h]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+1)}substring(i,o){return this.value.substring(i,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+o.length)}}class be{constructor(i,o,u,h){if(this.width=i,this.height=o,this.rowSize=u,this.bits=h,o==null&&(o=i),this.height=o,i<1||o<1)throw new A("Both dimensions must be greater than 0");u==null&&(u=Math.floor((i+31)/32)),this.rowSize=u,h==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const o=i.length,u=i[0].length,h=new be(u,o);for(let g=0;g<o;g++){const y=i[g];for(let S=0;S<u;S++)y[S]&&h.set(S,g)}return h}static parseFromString(i,o,u){if(i===null)throw new A("stringRepresentation cannot be null");const h=new Array(i.length);let g=0,y=0,S=-1,C=0,I=0;for(;I<i.length;)if(i.charAt(I)===`
`||i.charAt(I)==="\r"){if(g>y){if(S===-1)S=g-y;else if(g-y!==S)throw new A("row lengths do not match");y=g,C++}I++}else if(i.substring(I,I+o.length)===o)I+=o.length,h[g]=!0,g++;else if(i.substring(I,I+u.length)===u)I+=u.length,h[g]=!1,g++;else throw new A("illegal character encountered: "+i.substring(I));if(g>y){if(S===-1)S=g-y;else if(g-y!==S)throw new A("row lengths do not match");C++}const D=new be(S,C);for(let z=0;z<g;z++)h[z]&&D.set(Math.floor(z%S),Math.floor(z/S));return D}get(i,o){const u=o*this.rowSize+Math.floor(i/32);return(this.bits[u]>>>(i&31)&1)!==0}set(i,o){const u=o*this.rowSize+Math.floor(i/32);this.bits[u]|=1<<(i&31)&4294967295}unset(i,o){const u=o*this.rowSize+Math.floor(i/32);this.bits[u]&=~(1<<(i&31)&4294967295)}flip(i,o){const u=o*this.rowSize+Math.floor(i/32);this.bits[u]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new A("input matrix dimensions do not match");const o=new V(Math.floor(this.width/32)+1),u=this.rowSize,h=this.bits;for(let g=0,y=this.height;g<y;g++){const S=g*u,C=i.getRow(g,o).getBitArray();for(let I=0;I<u;I++)h[S+I]^=C[I]}}clear(){const i=this.bits,o=i.length;for(let u=0;u<o;u++)i[u]=0}setRegion(i,o,u,h){if(o<0||i<0)throw new A("Left and top must be nonnegative");if(h<1||u<1)throw new A("Height and width must be at least 1");const g=i+u,y=o+h;if(y>this.height||g>this.width)throw new A("The region must fit inside the matrix");const S=this.rowSize,C=this.bits;for(let I=o;I<y;I++){const D=I*S;for(let z=i;z<g;z++)C[D+Math.floor(z/32)]|=1<<(z&31)&4294967295}}getRow(i,o){o==null||o.getSize()<this.width?o=new V(this.width):o.clear();const u=this.rowSize,h=this.bits,g=i*u;for(let y=0;y<u;y++)o.setBulk(y*32,h[g+y]);return o}setRow(i,o){M.arraycopy(o.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),o=this.getHeight();let u=new V(i),h=new V(i);for(let g=0,y=Math.floor((o+1)/2);g<y;g++)u=this.getRow(g,u),h=this.getRow(o-1-g,h),u.reverse(),h.reverse(),this.setRow(g,h),this.setRow(o-1-g,u)}getEnclosingRectangle(){const i=this.width,o=this.height,u=this.rowSize,h=this.bits;let g=i,y=o,S=-1,C=-1;for(let I=0;I<o;I++)for(let D=0;D<u;D++){const z=h[I*u+D];if(z!==0){if(I<y&&(y=I),I>C&&(C=I),D*32<g){let H=0;for(;(z<<31-H&4294967295)===0;)H++;D*32+H<g&&(g=D*32+H)}if(D*32+31>S){let H=31;for(;!(z>>>H);)H--;D*32+H>S&&(S=D*32+H)}}}return S<g||C<y?null:Int32Array.from([g,y,S-g+1,C-y+1])}getTopLeftOnBit(){const i=this.rowSize,o=this.bits;let u=0;for(;u<o.length&&o[u]===0;)u++;if(u===o.length)return null;const h=u/i;let g=u%i*32;const y=o[u];let S=0;for(;(y<<31-S&4294967295)===0;)S++;return g+=S,Int32Array.from([g,h])}getBottomRightOnBit(){const i=this.rowSize,o=this.bits;let u=o.length-1;for(;u>=0&&o[u]===0;)u--;if(u<0)return null;const h=Math.floor(u/i);let g=Math.floor(u%i)*32;const y=o[u];let S=31;for(;!(y>>>S);)S--;return g+=S,Int32Array.from([g,h])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof be))return!1;const o=i;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&F.equals(this.bits,o.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+F.hashCode(this.bits),i}toString(i="X ",o="  ",u=`
`){return this.buildToString(i,o,u)}buildToString(i,o,u){let h=new ie;for(let g=0,y=this.height;g<y;g++){for(let S=0,C=this.width;S<C;S++)h.append(this.get(S,g)?i:o);h.append(u)}return h.toString()}clone(){return new be(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends v{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class re extends j{constructor(i){super(i),this.luminances=re.EMPTY,this.buckets=new Int32Array(re.LUMINANCE_BUCKETS)}getBlackRow(i,o){const u=this.getLuminanceSource(),h=u.getWidth();o==null||o.getSize()<h?o=new V(h):o.clear(),this.initArrays(h);const g=u.getRow(i,this.luminances),y=this.buckets;for(let C=0;C<h;C++)y[(g[C]&255)>>re.LUMINANCE_SHIFT]++;const S=re.estimateBlackPoint(y);if(h<3)for(let C=0;C<h;C++)(g[C]&255)<S&&o.set(C);else{let C=g[0]&255,I=g[1]&255;for(let D=1;D<h-1;D++){const z=g[D+1]&255;(I*4-C-z)/2<S&&o.set(D),C=I,I=z}}return o}getBlackMatrix(){const i=this.getLuminanceSource(),o=i.getWidth(),u=i.getHeight(),h=new be(o,u);this.initArrays(o);const g=this.buckets;for(let C=1;C<5;C++){const I=Math.floor(u*C/5),D=i.getRow(I,this.luminances),z=Math.floor(o*4/5);for(let H=Math.floor(o/5);H<z;H++){const K=D[H]&255;g[K>>re.LUMINANCE_SHIFT]++}}const y=re.estimateBlackPoint(g),S=i.getMatrix();for(let C=0;C<u;C++){const I=C*o;for(let D=0;D<o;D++)(S[I+D]&255)<y&&h.set(D,C)}return h}createBinarizer(i){return new re(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const o=this.buckets;for(let u=0;u<re.LUMINANCE_BUCKETS;u++)o[u]=0}static estimateBlackPoint(i){const o=i.length;let u=0,h=0,g=0;for(let D=0;D<o;D++)i[D]>g&&(h=D,g=i[D]),i[D]>u&&(u=i[D]);let y=0,S=0;for(let D=0;D<o;D++){const z=D-h,H=i[D]*z*z;H>S&&(y=D,S=H)}if(h>y){const D=h;h=y,y=D}if(y-h<=o/16)throw new X;let C=y-1,I=-1;for(let D=y-1;D>h;D--){const z=D-h,H=z*z*(y-D)*(u-i[D]);H>I&&(C=D,I=H)}return C<<re.LUMINANCE_SHIFT}}re.LUMINANCE_BITS=5,re.LUMINANCE_SHIFT=8-re.LUMINANCE_BITS,re.LUMINANCE_BUCKETS=1<<re.LUMINANCE_BITS,re.EMPTY=Uint8ClampedArray.from([0]);class se extends re{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),o=i.getWidth(),u=i.getHeight();if(o>=se.MINIMUM_DIMENSION&&u>=se.MINIMUM_DIMENSION){const h=i.getMatrix();let g=o>>se.BLOCK_SIZE_POWER;(o&se.BLOCK_SIZE_MASK)!==0&&g++;let y=u>>se.BLOCK_SIZE_POWER;(u&se.BLOCK_SIZE_MASK)!==0&&y++;const S=se.calculateBlackPoints(h,g,y,o,u),C=new be(o,u);se.calculateThresholdForBlock(h,g,y,o,u,S,C),this.matrix=C}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new se(i)}static calculateThresholdForBlock(i,o,u,h,g,y,S){const C=g-se.BLOCK_SIZE,I=h-se.BLOCK_SIZE;for(let D=0;D<u;D++){let z=D<<se.BLOCK_SIZE_POWER;z>C&&(z=C);const H=se.cap(D,2,u-3);for(let K=0;K<o;K++){let ae=K<<se.BLOCK_SIZE_POWER;ae>I&&(ae=I);const le=se.cap(K,2,o-3);let me=0;for(let Xe=-2;Xe<=2;Xe++){const qe=y[H+Xe];me+=qe[le-2]+qe[le-1]+qe[le]+qe[le+1]+qe[le+2]}const Ae=me/25;se.thresholdBlock(i,ae,z,Ae,h,S)}}}static cap(i,o,u){return i<o?o:i>u?u:i}static thresholdBlock(i,o,u,h,g,y){for(let S=0,C=u*g+o;S<se.BLOCK_SIZE;S++,C+=g)for(let I=0;I<se.BLOCK_SIZE;I++)(i[C+I]&255)<=h&&y.set(o+I,u+S)}static calculateBlackPoints(i,o,u,h,g){const y=g-se.BLOCK_SIZE,S=h-se.BLOCK_SIZE,C=new Array(u);for(let I=0;I<u;I++){C[I]=new Int32Array(o);let D=I<<se.BLOCK_SIZE_POWER;D>y&&(D=y);for(let z=0;z<o;z++){let H=z<<se.BLOCK_SIZE_POWER;H>S&&(H=S);let K=0,ae=255,le=0;for(let Ae=0,Xe=D*h+H;Ae<se.BLOCK_SIZE;Ae++,Xe+=h){for(let qe=0;qe<se.BLOCK_SIZE;qe++){const Fe=i[Xe+qe]&255;K+=Fe,Fe<ae&&(ae=Fe),Fe>le&&(le=Fe)}if(le-ae>se.MIN_DYNAMIC_RANGE)for(Ae++,Xe+=h;Ae<se.BLOCK_SIZE;Ae++,Xe+=h)for(let qe=0;qe<se.BLOCK_SIZE;qe++)K+=i[Xe+qe]&255}let me=K>>se.BLOCK_SIZE_POWER*2;if(le-ae<=se.MIN_DYNAMIC_RANGE&&(me=ae/2,I>0&&z>0)){const Ae=(C[I-1][z]+2*C[I][z-1]+C[I-1][z-1])/4;ae<Ae&&(me=Ae)}C[I][z]=me}}return C}}se.BLOCK_SIZE_POWER=3,se.BLOCK_SIZE=1<<se.BLOCK_SIZE_POWER,se.BLOCK_SIZE_MASK=se.BLOCK_SIZE-1,se.MINIMUM_DIMENSION=se.BLOCK_SIZE*5,se.MIN_DYNAMIC_RANGE=24;class de{constructor(i,o){this.width=i,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,o,u,h){throw new Ne("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ne("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ne("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let o=new ie;for(let u=0;u<this.height;u++){const h=this.getRow(u,i);for(let g=0;g<this.width;g++){const y=h[g]&255;let S;y<64?S="#":y<128?S="+":y<192?S=".":S=" ",o.append(S)}o.append(`
`)}return o.toString()}}class xe extends de{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,o){const u=this.delegate.getRow(i,o),h=this.getWidth();for(let g=0;g<h;g++)u[g]=255-(u[g]&255);return u}getMatrix(){const i=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(o);for(let h=0;h<o;h++)u[h]=255-(i[h]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(i,o,u,h){return new xe(this.delegate.crop(i,o,u,h))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new xe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new xe(this.delegate.rotateCounterClockwise45())}}class Me extends de{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=Me.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const o=i.getContext("2d").getImageData(0,0,i.width,i.height);return Me.toGrayscaleBuffer(o.data,i.width,i.height)}static toGrayscaleBuffer(i,o,u){const h=new Uint8ClampedArray(o*u);for(let g=0,y=0,S=i.length;g<S;g+=4,y++){let C;if(i[g+3]===0)C=255;else{const D=i[g],z=i[g+1],H=i[g+2];C=306*D+601*z+117*H+512>>10}h[y]=C}return h}getRow(i,o){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const u=this.getWidth(),h=i*u;return o===null?o=this.buffer.slice(h,h+u):(o.length<u&&(o=new Uint8ClampedArray(u)),o.set(this.buffer.slice(h,h+u))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,o,u,h){return super.crop(i,o,u,h),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const o=this.getTempCanvasElement(),u=o.getContext("2d"),h=i*Me.DEGREE_TO_RADIANS,g=this.canvas.width,y=this.canvas.height,S=Math.ceil(Math.abs(Math.cos(h))*g+Math.abs(Math.sin(h))*y),C=Math.ceil(Math.abs(Math.sin(h))*g+Math.abs(Math.cos(h))*y);return o.width=S,o.height=C,u.translate(S/2,C/2),u.rotate(h),u.drawImage(this.canvas,g/-2,y/-2),this.buffer=Me.makeBufferFromCanvasImageData(o),this}invert(){return new xe(this)}}Me.DEGREE_TO_RADIANS=Math.PI/180;class ${constructor(i,o,u){this.deviceId=i,this.label=o,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ue=(globalThis||I0||self||window||void 0)&&(globalThis||I0||self||window||void 0).__awaiter||function(B,i,o,u){function h(g){return g instanceof o?g:new o(function(y){y(g)})}return new(o||(o=Promise))(function(g,y){function S(D){try{I(u.next(D))}catch(z){y(z)}}function C(D){try{I(u.throw(D))}catch(z){y(z)}}function I(D){D.done?g(D.value):h(D.value).then(S,C)}I((u=u.apply(B,i||[])).next())})};class Te{constructor(i,o=500,u){this.reader=i,this.timeBetweenScansMillis=o,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return ue(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const u of i){const h=u.kind==="video"?"videoinput":u.kind;if(h!=="videoinput")continue;const g=u.deviceId||u.id,y=u.label||`Video device ${o.length+1}`,S=u.groupId,C={deviceId:g,label:y,kind:h,groupId:S};o.push(C)}return o})}getVideoInputDevices(){return ue(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new $(o.deviceId,o.label))})}findDeviceById(i){return ue(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(u=>u.deviceId===i):null})}decodeFromInputVideoDevice(i,o){return ue(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,o)})}decodeOnceFromVideoDevice(i,o){return ue(this,void 0,void 0,function*(){this.reset();let u;i?u={deviceId:{exact:i}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeOnceFromConstraints(h,o)})}decodeOnceFromConstraints(i,o){return ue(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(u,o)})}decodeOnceFromStream(i,o){return ue(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(i,o);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(i,o,u){return ue(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,o,u)})}decodeFromVideoDevice(i,o,u){return ue(this,void 0,void 0,function*(){let h;i?h={deviceId:{exact:i}}:h={facingMode:"environment"};const g={video:h};return yield this.decodeFromConstraints(g,o,u)})}decodeFromConstraints(i,o,u){return ue(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(h,o,u)})}decodeFromStream(i,o,u){return ue(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(i,o);return yield this.decodeContinuously(h,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,o){return ue(this,void 0,void 0,function*(){const u=this.prepareVideoElement(o);return this.addVideoSource(u,i),this.videoElement=u,this.stream=i,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(i){return new Promise((o,u)=>this.playVideoOnLoad(i,()=>o()))}playVideoOnLoad(i,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",o),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return ue(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,o){const u=document.getElementById(i);if(!u)throw new w(`element with id '${i}' not found`);if(u.nodeName.toLowerCase()!==o.toLowerCase())throw new w(`element with id '${i}' must be an ${o} element`);return u}decodeFromImage(i,o){if(!i&&!o)throw new w("either imageElement with a src set or an url must be provided");return o&&!i?this.decodeFromImageUrl(o):this.decodeFromImageElement(i)}decodeFromVideo(i,o){if(!i&&!o)throw new w("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,o,u){if(i===void 0&&o===void 0)throw new w("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrlContinuously(o,u):this.decodeFromVideoElementContinuously(i,u)}decodeFromImageElement(i){if(!i)throw new w("An image element must be provided.");this.reset();const o=this.prepareImageElement(i);this.imageElement=o;let u;return this.isImageLoaded(o)?u=this.decodeOnce(o,!1,!0):u=this._decodeOnLoadImage(o),u}decodeFromVideoElement(i){const o=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(i,o){const u=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(u,o)}_decodeFromVideoElementSetup(i){if(!i)throw new w("A video element must be provided.");this.reset();const o=this.prepareVideoElement(i);return this.videoElement=o,o}decodeFromImageUrl(i){if(!i)throw new w("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const u=this._decodeOnLoadImage(o);return o.src=i,u}decodeFromVideoUrl(i){if(!i)throw new w("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),u=this.decodeFromVideoElement(o);return o.src=i,u}decodeFromVideoUrlContinuously(i,o){if(!i)throw new w("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),h=this.decodeFromVideoElementContinuously(u,o);return u.src=i,h}_decodeOnLoadImage(i){return new Promise((o,u)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(o,u),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return ue(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,o){return ue(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,o)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let o;return typeof i>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(o=i),o}prepareVideoElement(i){let o;return!i&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(o=i),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(i,o=!0,u=!0){this._stopAsyncDecode=!1;const h=(g,y)=>{if(this._stopAsyncDecode){y(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const S=this.decode(i);g(S)}catch(S){const C=o&&S instanceof X,D=(S instanceof _||S instanceof L)&&u;if(C||D)return setTimeout(h,this._timeBetweenDecodingAttempts,g,y);y(S)}};return new Promise((g,y)=>h(g,y))}decodeContinuously(i,o){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const h=this.decode(i);o(h,null),setTimeout(u,this.timeBetweenScansMillis)}catch(h){o(null,h);const g=h instanceof _||h instanceof L,y=h instanceof X;(g||y)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(i){const o=this.createBinaryBitmap(i);return this.decodeBitmap(o)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,o,u){o||(o={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(i,o,u=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const o=this.getCaptureCanvas(i),u=new Me(o),h=new se(u);return new T(h)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const o=this.createCaptureCanvas(i);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let u,h;return typeof i<"u"&&(i instanceof HTMLVideoElement?(u=i.videoWidth,h=i.videoHeight):i instanceof HTMLImageElement&&(u=i.naturalWidth||i.width,h=i.naturalHeight||i.height)),o.style.width=u+"px",o.style.height=h+"px",o.width=u,o.height=h,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,o){try{i.srcObject=o}catch{i.src=URL.createObjectURL(o)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class Pe{constructor(i,o,u=o==null?0:8*o.length,h,g,y=M.currentTimeMillis()){this.text=i,this.rawBytes=o,this.numBits=u,this.resultPoints=h,this.format=g,this.timestamp=y,this.text=i,this.rawBytes=o,u==null?this.numBits=o==null?0:8*o.length:this.numBits=u,this.resultPoints=h,this.format=g,this.resultMetadata=null,y==null?this.timestamp=M.currentTimeMillis():this.timestamp=y}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,o)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const o=this.resultPoints;if(o===null)this.resultPoints=i;else if(i!==null&&i.length>0){const u=new Array(o.length+i.length);M.arraycopy(o,0,u,0,o.length),M.arraycopy(i,0,u,o.length,i.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Qe;(function(B){B[B.AZTEC=0]="AZTEC",B[B.CODABAR=1]="CODABAR",B[B.CODE_39=2]="CODE_39",B[B.CODE_93=3]="CODE_93",B[B.CODE_128=4]="CODE_128",B[B.DATA_MATRIX=5]="DATA_MATRIX",B[B.EAN_8=6]="EAN_8",B[B.EAN_13=7]="EAN_13",B[B.ITF=8]="ITF",B[B.MAXICODE=9]="MAXICODE",B[B.PDF_417=10]="PDF_417",B[B.QR_CODE=11]="QR_CODE",B[B.RSS_14=12]="RSS_14",B[B.RSS_EXPANDED=13]="RSS_EXPANDED",B[B.UPC_A=14]="UPC_A",B[B.UPC_E=15]="UPC_E",B[B.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Qe||(Qe={}));var J=Qe,Re;(function(B){B[B.OTHER=0]="OTHER",B[B.ORIENTATION=1]="ORIENTATION",B[B.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",B[B.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",B[B.ISSUE_NUMBER=4]="ISSUE_NUMBER",B[B.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",B[B.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",B[B.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",B[B.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",B[B.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",B[B.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Re||(Re={}));var Ze=Re;class he{constructor(i,o,u,h,g=-1,y=-1){this.rawBytes=i,this.text=o,this.byteSegments=u,this.ecLevel=h,this.structuredAppendSequenceNumber=g,this.structuredAppendParity=y,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class nt{exp(i){return this.expTable[i]}log(i){if(i===0)throw new A;return this.logTable[i]}static addOrSubtract(i,o){return i^o}}class st{constructor(i,o){if(o.length===0)throw new A;this.field=i;const u=o.length;if(u>1&&o[0]===0){let h=1;for(;h<u&&o[h]===0;)h++;h===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-h),M.arraycopy(o,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const o=this.coefficients;let u;if(i===1){u=0;for(let y=0,S=o.length;y!==S;y++){const C=o[y];u=nt.addOrSubtract(u,C)}return u}u=o[0];const h=o.length,g=this.field;for(let y=1;y<h;y++)u=nt.addOrSubtract(g.multiply(i,u),o[y]);return u}addOrSubtract(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,u=i.coefficients;if(o.length>u.length){const y=o;o=u,u=y}let h=new Int32Array(u.length);const g=u.length-o.length;M.arraycopy(u,0,h,0,g);for(let y=g;y<u.length;y++)h[y]=nt.addOrSubtract(o[y-g],u[y]);return new st(this.field,h)}multiply(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const o=this.coefficients,u=o.length,h=i.coefficients,g=h.length,y=new Int32Array(u+g-1),S=this.field;for(let C=0;C<u;C++){const I=o[C];for(let D=0;D<g;D++)y[C+D]=nt.addOrSubtract(y[C+D],S.multiply(I,h[D]))}return new st(S,y)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const o=this.coefficients.length,u=this.field,h=new Int32Array(o),g=this.coefficients;for(let y=0;y<o;y++)h[y]=u.multiply(g[y],i);return new st(u,h)}multiplyByMonomial(i,o){if(i<0)throw new A;if(o===0)return this.field.getZero();const u=this.coefficients,h=u.length,g=new Int32Array(h+i),y=this.field;for(let S=0;S<h;S++)g[S]=y.multiply(u[S],o);return new st(y,g)}divide(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new A("Divide by 0");const o=this.field;let u=o.getZero(),h=this;const g=i.getCoefficient(i.getDegree()),y=o.inverse(g);for(;h.getDegree()>=i.getDegree()&&!h.isZero();){const S=h.getDegree()-i.getDegree(),C=o.multiply(h.getCoefficient(h.getDegree()),y),I=i.multiplyByMonomial(S,C),D=o.buildMonomial(S,C);u=u.addOrSubtract(D),h=h.addOrSubtract(I)}return[u,h]}toString(){let i="";for(let o=this.getDegree();o>=0;o--){let u=this.getCoefficient(o);if(u!==0){if(u<0?(i+=" - ",u=-u):i.length>0&&(i+=" + "),o===0||u!==1){const h=this.field.log(u);h===0?i+="1":h===1?i+="a":(i+="a^",i+=h)}o!==0&&(o===1?i+="x":(i+="x^",i+=o))}}return i}}class Be extends v{}Be.kind="ArithmeticException";class Je extends nt{constructor(i,o,u){super(),this.primitive=i,this.size=o,this.generatorBase=u;const h=new Int32Array(o);let g=1;for(let S=0;S<o;S++)h[S]=g,g*=2,g>=o&&(g^=i,g&=o-1);this.expTable=h;const y=new Int32Array(o);for(let S=0;S<o-1;S++)y[h[S]]=S;this.logTable=y,this.zero=new st(this,Int32Array.from([0])),this.one=new st(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new A;if(o===0)return this.zero;const u=new Int32Array(i+1);return u[0]=o,new st(this,u)}inverse(i){if(i===0)throw new Be;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}Je.AZTEC_DATA_12=new Je(4201,4096,1),Je.AZTEC_DATA_10=new Je(1033,1024,1),Je.AZTEC_DATA_6=new Je(67,64,1),Je.AZTEC_PARAM=new Je(19,16,1),Je.QR_CODE_FIELD_256=new Je(285,256,0),Je.DATA_MATRIX_FIELD_256=new Je(301,256,1),Je.AZTEC_DATA_8=Je.DATA_MATRIX_FIELD_256,Je.MAXICODE_FIELD_64=Je.AZTEC_DATA_6;class Et extends v{}Et.kind="ReedSolomonException";class Oe extends v{}Oe.kind="IllegalStateException";class Ct{constructor(i){this.field=i}decode(i,o){const u=this.field,h=new st(u,i),g=new Int32Array(o);let y=!0;for(let K=0;K<o;K++){const ae=h.evaluateAt(u.exp(K+u.getGeneratorBase()));g[g.length-1-K]=ae,ae!==0&&(y=!1)}if(y)return;const S=new st(u,g),C=this.runEuclideanAlgorithm(u.buildMonomial(o,1),S,o),I=C[0],D=C[1],z=this.findErrorLocations(I),H=this.findErrorMagnitudes(D,z);for(let K=0;K<z.length;K++){const ae=i.length-1-u.log(z[K]);if(ae<0)throw new Et("Bad error location");i[ae]=Je.addOrSubtract(i[ae],H[K])}}runEuclideanAlgorithm(i,o,u){if(i.getDegree()<o.getDegree()){const K=i;i=o,o=K}const h=this.field;let g=i,y=o,S=h.getZero(),C=h.getOne();for(;y.getDegree()>=(u/2|0);){let K=g,ae=S;if(g=y,S=C,g.isZero())throw new Et("r_{i-1} was zero");y=K;let le=h.getZero();const me=g.getCoefficient(g.getDegree()),Ae=h.inverse(me);for(;y.getDegree()>=g.getDegree()&&!y.isZero();){const Xe=y.getDegree()-g.getDegree(),qe=h.multiply(y.getCoefficient(y.getDegree()),Ae);le=le.addOrSubtract(h.buildMonomial(Xe,qe)),y=y.addOrSubtract(g.multiplyByMonomial(Xe,qe))}if(C=le.multiply(S).addOrSubtract(ae),y.getDegree()>=g.getDegree())throw new Oe("Division algorithm failed to reduce polynomial?")}const I=C.getCoefficient(0);if(I===0)throw new Et("sigmaTilde(0) was zero");const D=h.inverse(I),z=C.multiplyScalar(D),H=y.multiplyScalar(D);return[z,H]}findErrorLocations(i){const o=i.getDegree();if(o===1)return Int32Array.from([i.getCoefficient(1)]);const u=new Int32Array(o);let h=0;const g=this.field;for(let y=1;y<g.getSize()&&h<o;y++)i.evaluateAt(y)===0&&(u[h]=g.inverse(y),h++);if(h!==o)throw new Et("Error locator degree does not match number of roots");return u}findErrorMagnitudes(i,o){const u=o.length,h=new Int32Array(u),g=this.field;for(let y=0;y<u;y++){const S=g.inverse(o[y]);let C=1;for(let I=0;I<u;I++)if(y!==I){const D=g.multiply(o[I],S),z=(D&1)===0?D|1:D&-2;C=g.multiply(C,z)}h[y]=g.multiply(i.evaluateAt(S),g.inverse(C)),g.getGeneratorBase()!==0&&(h[y]=g.multiply(h[y],S))}return h}}var bt;(function(B){B[B.UPPER=0]="UPPER",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.DIGIT=3]="DIGIT",B[B.PUNCT=4]="PUNCT",B[B.BINARY=5]="BINARY"})(bt||(bt={}));class Nt{decode(i){this.ddata=i;let o=i.getBits(),u=this.extractBits(o),h=this.correctBits(u),g=Nt.convertBoolArrayToByteArray(h),y=Nt.getEncodedData(h),S=new he(g,y,null,null);return S.setNumBits(h.length),S}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let o=i.length,u=bt.UPPER,h=bt.UPPER,g="",y=0;for(;y<o;)if(h===bt.BINARY){if(o-y<5)break;let S=Nt.readCode(i,y,5);if(y+=5,S===0){if(o-y<11)break;S=Nt.readCode(i,y,11)+31,y+=11}for(let C=0;C<S;C++){if(o-y<8){y=o;break}const I=Nt.readCode(i,y,8);g+=Q.castAsNonUtf8Char(I),y+=8}h=u}else{let S=h===bt.DIGIT?4:5;if(o-y<S)break;let C=Nt.readCode(i,y,S);y+=S;let I=Nt.getCharacter(h,C);I.startsWith("CTRL_")?(u=h,h=Nt.getTable(I.charAt(5)),I.charAt(6)==="L"&&(u=h)):(g+=I,h=u)}return g}static getTable(i){switch(i){case"L":return bt.LOWER;case"P":return bt.PUNCT;case"M":return bt.MIXED;case"D":return bt.DIGIT;case"B":return bt.BINARY;case"U":default:return bt.UPPER}}static getCharacter(i,o){switch(i){case bt.UPPER:return Nt.UPPER_TABLE[o];case bt.LOWER:return Nt.LOWER_TABLE[o];case bt.MIXED:return Nt.MIXED_TABLE[o];case bt.PUNCT:return Nt.PUNCT_TABLE[o];case bt.DIGIT:return Nt.DIGIT_TABLE[o];default:throw new Oe("Bad table")}}correctBits(i){let o,u;this.ddata.getNbLayers()<=2?(u=6,o=Je.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,o=Je.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,o=Je.AZTEC_DATA_10):(u=12,o=Je.AZTEC_DATA_12);let h=this.ddata.getNbDatablocks(),g=i.length/u;if(g<h)throw new L;let y=i.length%u,S=new Int32Array(g);for(let H=0;H<g;H++,y+=u)S[H]=Nt.readCode(i,y,u);try{new Ct(o).decode(S,g-h)}catch(H){throw new L(H)}let C=(1<<u)-1,I=0;for(let H=0;H<h;H++){let K=S[H];if(K===0||K===C)throw new L;(K===1||K===C-1)&&I++}let D=new Array(h*u-I),z=0;for(let H=0;H<h;H++){let K=S[H];if(K===1||K===C-1)D.fill(K>1,z,z+u-1),z+=u-1;else for(let ae=u-1;ae>=0;--ae)D[z++]=(K&1<<ae)!==0}return D}extractBits(i){let o=this.ddata.isCompact(),u=this.ddata.getNbLayers(),h=(o?11:14)+u*4,g=new Int32Array(h),y=new Array(this.totalBitsInLayer(u,o));if(o)for(let S=0;S<g.length;S++)g[S]=S;else{let S=h+1+2*U.truncDivision(U.truncDivision(h,2)-1,15),C=h/2,I=U.truncDivision(S,2);for(let D=0;D<C;D++){let z=D+U.truncDivision(D,15);g[C-D-1]=I-z-1,g[C+D]=I+z+1}}for(let S=0,C=0;S<u;S++){let I=(u-S)*4+(o?9:12),D=S*2,z=h-1-D;for(let H=0;H<I;H++){let K=H*2;for(let ae=0;ae<2;ae++)y[C+K+ae]=i.get(g[D+ae],g[D+H]),y[C+2*I+K+ae]=i.get(g[D+H],g[z-ae]),y[C+4*I+K+ae]=i.get(g[z-ae],g[z-H]),y[C+6*I+K+ae]=i.get(g[z-H],g[D+ae])}C+=I*8}return y}static readCode(i,o,u){let h=0;for(let g=o;g<o+u;g++)h<<=1,i[g]&&(h|=1);return h}static readByte(i,o){let u=i.length-o;return u>=8?Nt.readCode(i,o,8):Nt.readCode(i,o,u)<<8-u}static convertBoolArrayToByteArray(i){let o=new Uint8Array((i.length+7)/8);for(let u=0;u<o.length;u++)o[u]=Nt.readByte(i,8*u);return o}totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}Nt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Nt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Nt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Nt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Nt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class lt{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,o,u,h){const g=i-u,y=o-h;return Math.sqrt(g*g+y*y)}static sum(i){let o=0;for(let u=0,h=i.length;u!==h;u++){const g=i[u];o+=g}return o}}class wn{static floatToIntBits(i){return i}}wn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class et{constructor(i,o){this.x=i,this.y=o}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof et){const o=i;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*wn.floatToIntBits(this.x)+wn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const o=this.distance(i[0],i[1]),u=this.distance(i[1],i[2]),h=this.distance(i[0],i[2]);let g,y,S;if(u>=o&&u>=h?(y=i[0],g=i[1],S=i[2]):h>=u&&h>=o?(y=i[1],g=i[0],S=i[2]):(y=i[2],g=i[0],S=i[1]),this.crossProductZ(g,y,S)<0){const C=g;g=S,S=C}i[0]=g,i[1]=y,i[2]=S}static distance(i,o){return lt.distance(i.x,i.y,o.x,o.y)}static crossProductZ(i,o,u){const h=o.x,g=o.y;return(u.x-h)*(i.y-g)-(u.y-g)*(i.x-h)}}class ka{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class sl extends ka{constructor(i,o,u,h,g){super(i,o),this.compact=u,this.nbDatablocks=h,this.nbLayers=g}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class hr{constructor(i,o,u,h){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),o==null&&(o=hr.INIT_SIZE),u==null&&(u=i.getWidth()/2|0),h==null&&(h=i.getHeight()/2|0);const g=o/2|0;if(this.leftInit=u-g,this.rightInit=u+g,this.upInit=h-g,this.downInit=h+g,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let i=this.leftInit,o=this.rightInit,u=this.upInit,h=this.downInit,g=!1,y=!0,S=!1,C=!1,I=!1,D=!1,z=!1;const H=this.width,K=this.height;for(;y;){y=!1;let ae=!0;for(;(ae||!C)&&o<H;)ae=this.containsBlackPoint(u,h,o,!1),ae?(o++,y=!0,C=!0):C||o++;if(o>=H){g=!0;break}let le=!0;for(;(le||!I)&&h<K;)le=this.containsBlackPoint(i,o,h,!0),le?(h++,y=!0,I=!0):I||h++;if(h>=K){g=!0;break}let me=!0;for(;(me||!D)&&i>=0;)me=this.containsBlackPoint(u,h,i,!1),me?(i--,y=!0,D=!0):D||i--;if(i<0){g=!0;break}let Ae=!0;for(;(Ae||!z)&&u>=0;)Ae=this.containsBlackPoint(i,o,u,!0),Ae?(u--,y=!0,z=!0):z||u--;if(u<0){g=!0;break}y&&(S=!0)}if(!g&&S){const ae=o-i;let le=null;for(let qe=1;le===null&&qe<ae;qe++)le=this.getBlackPointOnSegment(i,h-qe,i+qe,h);if(le==null)throw new X;let me=null;for(let qe=1;me===null&&qe<ae;qe++)me=this.getBlackPointOnSegment(i,u+qe,i+qe,u);if(me==null)throw new X;let Ae=null;for(let qe=1;Ae===null&&qe<ae;qe++)Ae=this.getBlackPointOnSegment(o,u+qe,o-qe,u);if(Ae==null)throw new X;let Xe=null;for(let qe=1;Xe===null&&qe<ae;qe++)Xe=this.getBlackPointOnSegment(o,h-qe,o-qe,h);if(Xe==null)throw new X;return this.centerEdges(Xe,le,Ae,me)}else throw new X}getBlackPointOnSegment(i,o,u,h){const g=lt.round(lt.distance(i,o,u,h)),y=(u-i)/g,S=(h-o)/g,C=this.image;for(let I=0;I<g;I++){const D=lt.round(i+I*y),z=lt.round(o+I*S);if(C.get(D,z))return new et(D,z)}return null}centerEdges(i,o,u,h){const g=i.getX(),y=i.getY(),S=o.getX(),C=o.getY(),I=u.getX(),D=u.getY(),z=h.getX(),H=h.getY(),K=hr.CORR;return g<this.width/2?[new et(z-K,H+K),new et(S+K,C+K),new et(I-K,D-K),new et(g+K,y-K)]:[new et(z+K,H+K),new et(S+K,C-K),new et(I-K,D+K),new et(g-K,y-K)]}containsBlackPoint(i,o,u,h){const g=this.image;if(h){for(let y=i;y<=o;y++)if(g.get(y,u))return!0}else for(let y=i;y<=o;y++)if(g.get(u,y))return!0;return!1}}hr.INIT_SIZE=10,hr.CORR=1;class zi{static checkAndNudgePoints(i,o){const u=i.getWidth(),h=i.getHeight();let g=!0;for(let y=0;y<o.length&&g;y+=2){const S=Math.floor(o[y]),C=Math.floor(o[y+1]);if(S<-1||S>u||C<-1||C>h)throw new X;g=!1,S===-1?(o[y]=0,g=!0):S===u&&(o[y]=u-1,g=!0),C===-1?(o[y+1]=0,g=!0):C===h&&(o[y+1]=h-1,g=!0)}g=!0;for(let y=o.length-2;y>=0&&g;y-=2){const S=Math.floor(o[y]),C=Math.floor(o[y+1]);if(S<-1||S>u||C<-1||C>h)throw new X;g=!1,S===-1?(o[y]=0,g=!0):S===u&&(o[y]=u-1,g=!0),C===-1?(o[y+1]=0,g=!0):C===h&&(o[y+1]=h-1,g=!0)}}}class In{constructor(i,o,u,h,g,y,S,C,I){this.a11=i,this.a21=o,this.a31=u,this.a12=h,this.a22=g,this.a32=y,this.a13=S,this.a23=C,this.a33=I}static quadrilateralToQuadrilateral(i,o,u,h,g,y,S,C,I,D,z,H,K,ae,le,me){const Ae=In.quadrilateralToSquare(i,o,u,h,g,y,S,C);return In.squareToQuadrilateral(I,D,z,H,K,ae,le,me).times(Ae)}transformPoints(i){const o=i.length,u=this.a11,h=this.a12,g=this.a13,y=this.a21,S=this.a22,C=this.a23,I=this.a31,D=this.a32,z=this.a33;for(let H=0;H<o;H+=2){const K=i[H],ae=i[H+1],le=g*K+C*ae+z;i[H]=(u*K+y*ae+I)/le,i[H+1]=(h*K+S*ae+D)/le}}transformPointsWithValues(i,o){const u=this.a11,h=this.a12,g=this.a13,y=this.a21,S=this.a22,C=this.a23,I=this.a31,D=this.a32,z=this.a33,H=i.length;for(let K=0;K<H;K++){const ae=i[K],le=o[K],me=g*ae+C*le+z;i[K]=(u*ae+y*le+I)/me,o[K]=(h*ae+S*le+D)/me}}static squareToQuadrilateral(i,o,u,h,g,y,S,C){const I=i-u+g-S,D=o-h+y-C;if(I===0&&D===0)return new In(u-i,g-u,i,h-o,y-h,o,0,0,1);{const z=u-g,H=S-g,K=h-y,ae=C-y,le=z*ae-H*K,me=(I*ae-H*D)/le,Ae=(z*D-I*K)/le;return new In(u-i+me*u,S-i+Ae*S,i,h-o+me*h,C-o+Ae*C,o,me,Ae,1)}}static quadrilateralToSquare(i,o,u,h,g,y,S,C){return In.squareToQuadrilateral(i,o,u,h,g,y,S,C).buildAdjoint()}buildAdjoint(){return new In(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new In(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class fs extends zi{sampleGrid(i,o,u,h,g,y,S,C,I,D,z,H,K,ae,le,me,Ae,Xe,qe){const Fe=In.quadrilateralToQuadrilateral(h,g,y,S,C,I,D,z,H,K,ae,le,me,Ae,Xe,qe);return this.sampleGridWithTransform(i,o,u,Fe)}sampleGridWithTransform(i,o,u,h){if(o<=0||u<=0)throw new X;const g=new be(o,u),y=new Float32Array(2*o);for(let S=0;S<u;S++){const C=y.length,I=S+.5;for(let D=0;D<C;D+=2)y[D]=D/2+.5,y[D+1]=I;h.transformPoints(y),zi.checkAndNudgePoints(i,y);try{for(let D=0;D<C;D+=2)i.get(Math.floor(y[D]),Math.floor(y[D+1]))&&g.set(D/2,S)}catch{throw new X}}return g}}class Hn{static setGridSampler(i){Hn.gridSampler=i}static getInstance(){return Hn.gridSampler}}Hn.gridSampler=new fs;class nn{constructor(i,o){this.x=i,this.y=o}toResultPoint(){return new et(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ai{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let o=this.getMatrixCenter(),u=this.getBullsEyeCorners(o);if(i){let y=u[0];u[0]=u[2],u[2]=y}this.extractParameters(u);let h=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),g=this.getMatrixCornerPoints(u);return new sl(h,g,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new X;let o=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(i[0],i[1],o),this.sampleLine(i[1],i[2],o),this.sampleLine(i[2],i[3],o),this.sampleLine(i[3],i[0],o)]);this.shift=this.getRotation(u,o);let h=0;for(let y=0;y<4;y++){let S=u[(this.shift+y)%4];this.compact?(h<<=7,h+=S>>1&127):(h<<=10,h+=(S>>2&992)+(S>>1&31))}let g=this.getCorrectedParameterData(h,this.compact);this.compact?(this.nbLayers=(g>>6)+1,this.nbDataBlocks=(g&63)+1):(this.nbLayers=(g>>11)+1,this.nbDataBlocks=(g&2047)+1)}getRotation(i,o){let u=0;i.forEach((h,g,y)=>{let S=(h>>o-2<<1)+(h&1);u=(u<<3)+S}),u=((u&1)<<11)+(u>>1);for(let h=0;h<4;h++)if(U.bitCount(u^this.EXPECTED_CORNER_BITS[h])<=2)return h;throw new X}getCorrectedParameterData(i,o){let u,h;o?(u=7,h=2):(u=10,h=4);let g=u-h,y=new Int32Array(u);for(let C=u-1;C>=0;--C)y[C]=i&15,i>>=4;try{new Ct(Je.AZTEC_PARAM).decode(y,g)}catch{throw new X}let S=0;for(let C=0;C<h;C++)S=(S<<4)+y[C];return S}getBullsEyeCorners(i){let o=i,u=i,h=i,g=i,y=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let z=this.getFirstDifferent(o,y,1,-1),H=this.getFirstDifferent(u,y,1,1),K=this.getFirstDifferent(h,y,-1,1),ae=this.getFirstDifferent(g,y,-1,-1);if(this.nbCenterLayers>2){let le=this.distancePoint(ae,z)*this.nbCenterLayers/(this.distancePoint(g,o)*(this.nbCenterLayers+2));if(le<.75||le>1.25||!this.isWhiteOrBlackRectangle(z,H,K,ae))break}o=z,u=H,h=K,g=ae,y=!y}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let S=new et(o.getX()+.5,o.getY()-.5),C=new et(u.getX()+.5,u.getY()+.5),I=new et(h.getX()-.5,h.getY()+.5),D=new et(g.getX()-.5,g.getY()-.5);return this.expandSquare([S,C,I,D],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,o,u,h;try{let S=new hr(this.image).detect();i=S[0],o=S[1],u=S[2],h=S[3]}catch{let C=this.image.getWidth()/2,I=this.image.getHeight()/2;i=this.getFirstDifferent(new nn(C+7,I-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new nn(C+7,I+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new nn(C-7,I+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new nn(C-7,I-7),!1,-1,-1).toResultPoint()}let g=lt.round((i.getX()+h.getX()+o.getX()+u.getX())/4),y=lt.round((i.getY()+h.getY()+o.getY()+u.getY())/4);try{let S=new hr(this.image,15,g,y).detect();i=S[0],o=S[1],u=S[2],h=S[3]}catch{i=this.getFirstDifferent(new nn(g+7,y-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new nn(g+7,y+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new nn(g-7,y+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new nn(g-7,y-7),!1,-1,-1).toResultPoint()}return g=lt.round((i.getX()+h.getX()+o.getX()+u.getX())/4),y=lt.round((i.getY()+h.getY()+o.getY()+u.getY())/4),new nn(g,y)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,o,u,h,g){let y=Hn.getInstance(),S=this.getDimension(),C=S/2-this.nbCenterLayers,I=S/2+this.nbCenterLayers;return y.sampleGrid(i,S,S,C,C,I,C,I,I,C,I,o.getX(),o.getY(),u.getX(),u.getY(),h.getX(),h.getY(),g.getX(),g.getY())}sampleLine(i,o,u){let h=0,g=this.distanceResultPoint(i,o),y=g/u,S=i.getX(),C=i.getY(),I=y*(o.getX()-i.getX())/g,D=y*(o.getY()-i.getY())/g;for(let z=0;z<u;z++)this.image.get(lt.round(S+z*I),lt.round(C+z*D))&&(h|=1<<u-z-1);return h}isWhiteOrBlackRectangle(i,o,u,h){let g=3;i=new nn(i.getX()-g,i.getY()+g),o=new nn(o.getX()-g,o.getY()-g),u=new nn(u.getX()+g,u.getY()-g),h=new nn(h.getX()+g,h.getY()+g);let y=this.getColor(h,i);if(y===0)return!1;let S=this.getColor(i,o);return S!==y||(S=this.getColor(o,u),S!==y)?!1:(S=this.getColor(u,h),S===y)}getColor(i,o){let u=this.distancePoint(i,o),h=(o.getX()-i.getX())/u,g=(o.getY()-i.getY())/u,y=0,S=i.getX(),C=i.getY(),I=this.image.get(i.getX(),i.getY()),D=Math.ceil(u);for(let H=0;H<D;H++)S+=h,C+=g,this.image.get(lt.round(S),lt.round(C))!==I&&y++;let z=y/u;return z>.1&&z<.9?0:z<=.1===I?1:-1}getFirstDifferent(i,o,u,h){let g=i.getX()+u,y=i.getY()+h;for(;this.isValid(g,y)&&this.image.get(g,y)===o;)g+=u,y+=h;for(g-=u,y-=h;this.isValid(g,y)&&this.image.get(g,y)===o;)g+=u;for(g-=u;this.isValid(g,y)&&this.image.get(g,y)===o;)y+=h;return y-=h,new nn(g,y)}expandSquare(i,o,u){let h=u/(2*o),g=i[0].getX()-i[2].getX(),y=i[0].getY()-i[2].getY(),S=(i[0].getX()+i[2].getX())/2,C=(i[0].getY()+i[2].getY())/2,I=new et(S+h*g,C+h*y),D=new et(S-h*g,C-h*y);g=i[1].getX()-i[3].getX(),y=i[1].getY()-i[3].getY(),S=(i[1].getX()+i[3].getX())/2,C=(i[1].getY()+i[3].getY())/2;let z=new et(S+h*g,C+h*y),H=new et(S-h*g,C-h*y);return[I,z,D,H]}isValid(i,o){return i>=0&&i<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(i){let o=lt.round(i.getX()),u=lt.round(i.getY());return this.isValid(o,u)}distancePoint(i,o){return lt.distance(i.getX(),i.getY(),o.getX(),o.getY())}distanceResultPoint(i,o){return lt.distance(i.getX(),i.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class Ui{decode(i,o=null){let u=null,h=new Ai(i.getBlackMatrix()),g=null,y=null;try{let D=h.detectMirror(!1);g=D.getPoints(),this.reportFoundResultPoints(o,g),y=new Nt().decode(D)}catch(D){u=D}if(y==null)try{let D=h.detectMirror(!0);g=D.getPoints(),this.reportFoundResultPoints(o,g),y=new Nt().decode(D)}catch(D){throw u??D}let S=new Pe(y.getText(),y.getRawBytes(),y.getNumBits(),g,J.AZTEC,M.currentTimeMillis()),C=y.getByteSegments();C!=null&&S.putMetadata(Ze.BYTE_SEGMENTS,C);let I=y.getECLevel();return I!=null&&S.putMetadata(Ze.ERROR_CORRECTION_LEVEL,I),S}reportFoundResultPoints(i,o){if(i!=null){let u=i.get(Y.NEED_RESULT_POINT_CALLBACK);u!=null&&o.forEach((h,g,y)=>{u.foundPossibleResultPoint(h)})}}reset(){}}class eo extends Te{constructor(i=500){super(new Ui,i)}}class Qt{decode(i,o){try{return this.doDecode(i,o)}catch{if(o&&o.get(Y.TRY_HARDER)===!0&&i.isRotateSupported()){const g=i.rotateCounterClockwise(),y=this.doDecode(g,o),S=y.getResultMetadata();let C=270;S!==null&&S.get(Ze.ORIENTATION)===!0&&(C=C+S.get(Ze.ORIENTATION)%360),y.putMetadata(Ze.ORIENTATION,C);const I=y.getResultPoints();if(I!==null){const D=g.getHeight();for(let z=0;z<I.length;z++)I[z]=new et(D-I[z].getY()-1,I[z].getX())}return y}else throw new X}}reset(){}doDecode(i,o){const u=i.getWidth(),h=i.getHeight();let g=new V(u);const y=o&&o.get(Y.TRY_HARDER)===!0,S=Math.max(1,h>>(y?8:5));let C;y?C=h:C=15;const I=Math.trunc(h/2);for(let D=0;D<C;D++){const z=Math.trunc((D+1)/2),H=(D&1)===0,K=I+S*(H?z:-z);if(K<0||K>=h)break;try{g=i.getBlackRow(K,g)}catch{continue}for(let ae=0;ae<2;ae++){if(ae===1&&(g.reverse(),o&&o.get(Y.NEED_RESULT_POINT_CALLBACK)===!0)){const le=new Map;o.forEach((me,Ae)=>le.set(Ae,me)),le.delete(Y.NEED_RESULT_POINT_CALLBACK),o=le}try{const le=this.decodeRow(K,g,o);if(ae===1){le.putMetadata(Ze.ORIENTATION,180);const me=le.getResultPoints();me!==null&&(me[0]=new et(u-me[0].getX()-1,me[0].getY()),me[1]=new et(u-me[1].getX()-1,me[1].getY()))}return le}catch{}}}throw new X}static recordPattern(i,o,u){const h=u.length;for(let I=0;I<h;I++)u[I]=0;const g=i.getSize();if(o>=g)throw new X;let y=!i.get(o),S=0,C=o;for(;C<g;){if(i.get(C)!==y)u[S]++;else{if(++S===h)break;u[S]=1,y=!y}C++}if(!(S===h||S===h-1&&C===g))throw new X}static recordPatternInReverse(i,o,u){let h=u.length,g=i.get(o);for(;o>0&&h>=0;)i.get(--o)!==g&&(h--,g=!g);if(h>=0)throw new X;Qt.recordPattern(i,o+1,u)}static patternMatchVariance(i,o,u){const h=i.length;let g=0,y=0;for(let I=0;I<h;I++)g+=i[I],y+=o[I];if(g<y)return Number.POSITIVE_INFINITY;const S=g/y;u*=S;let C=0;for(let I=0;I<h;I++){const D=i[I],z=o[I]*S,H=D>z?D-z:z-D;if(H>u)return Number.POSITIVE_INFINITY;C+=H}return C/g}}class He extends Qt{static findStartPattern(i){const o=i.getSize(),u=i.getNextSet(0);let h=0,g=Int32Array.from([0,0,0,0,0,0]),y=u,S=!1;const C=6;for(let I=u;I<o;I++)if(i.get(I)!==S)g[h]++;else{if(h===C-1){let D=He.MAX_AVG_VARIANCE,z=-1;for(let H=He.CODE_START_A;H<=He.CODE_START_C;H++){const K=Qt.patternMatchVariance(g,He.CODE_PATTERNS[H],He.MAX_INDIVIDUAL_VARIANCE);K<D&&(D=K,z=H)}if(z>=0&&i.isRange(Math.max(0,y-(I-y)/2),y,!1))return Int32Array.from([y,I,z]);y+=g[0]+g[1],g=g.slice(2,g.length-1),g[h-1]=0,g[h]=0,h--}else h++;g[h]=1,S=!S}throw new X}static decodeCode(i,o,u){Qt.recordPattern(i,u,o);let h=He.MAX_AVG_VARIANCE,g=-1;for(let y=0;y<He.CODE_PATTERNS.length;y++){const S=He.CODE_PATTERNS[y],C=this.patternMatchVariance(o,S,He.MAX_INDIVIDUAL_VARIANCE);C<h&&(h=C,g=y)}if(g>=0)return g;throw new X}decodeRow(i,o,u){const h=u&&u.get(Y.ASSUME_GS1)===!0,g=He.findStartPattern(o),y=g[2];let S=0;const C=new Uint8Array(20);C[S++]=y;let I;switch(y){case He.CODE_START_A:I=He.CODE_CODE_A;break;case He.CODE_START_B:I=He.CODE_CODE_B;break;case He.CODE_START_C:I=He.CODE_CODE_C;break;default:throw new L}let D=!1,z=!1,H="",K=g[0],ae=g[1];const le=Int32Array.from([0,0,0,0,0,0]);let me=0,Ae=0,Xe=y,qe=0,Fe=!0,Ft=!1,Pt=!1;for(;!D;){const ys=z;switch(z=!1,me=Ae,Ae=He.decodeCode(o,le,ae),C[S++]=Ae,Ae!==He.CODE_STOP&&(Fe=!0),Ae!==He.CODE_STOP&&(qe++,Xe+=qe*Ae),K=ae,ae+=le.reduce((Nf,Cu)=>Nf+Cu,0),Ae){case He.CODE_START_A:case He.CODE_START_B:case He.CODE_START_C:throw new L}switch(I){case He.CODE_CODE_A:if(Ae<64)Pt===Ft?H+=String.fromCharCode(32+Ae):H+=String.fromCharCode(32+Ae+128),Pt=!1;else if(Ae<96)Pt===Ft?H+=String.fromCharCode(Ae-64):H+=String.fromCharCode(Ae+64),Pt=!1;else switch(Ae!==He.CODE_STOP&&(Fe=!1),Ae){case He.CODE_FNC_1:h&&(H.length===0?H+="]C1":H+="");break;case He.CODE_FNC_2:case He.CODE_FNC_3:break;case He.CODE_FNC_4_A:!Ft&&Pt?(Ft=!0,Pt=!1):Ft&&Pt?(Ft=!1,Pt=!1):Pt=!0;break;case He.CODE_SHIFT:z=!0,I=He.CODE_CODE_B;break;case He.CODE_CODE_B:I=He.CODE_CODE_B;break;case He.CODE_CODE_C:I=He.CODE_CODE_C;break;case He.CODE_STOP:D=!0;break}break;case He.CODE_CODE_B:if(Ae<96)Pt===Ft?H+=String.fromCharCode(32+Ae):H+=String.fromCharCode(32+Ae+128),Pt=!1;else switch(Ae!==He.CODE_STOP&&(Fe=!1),Ae){case He.CODE_FNC_1:h&&(H.length===0?H+="]C1":H+="");break;case He.CODE_FNC_2:case He.CODE_FNC_3:break;case He.CODE_FNC_4_B:!Ft&&Pt?(Ft=!0,Pt=!1):Ft&&Pt?(Ft=!1,Pt=!1):Pt=!0;break;case He.CODE_SHIFT:z=!0,I=He.CODE_CODE_A;break;case He.CODE_CODE_A:I=He.CODE_CODE_A;break;case He.CODE_CODE_C:I=He.CODE_CODE_C;break;case He.CODE_STOP:D=!0;break}break;case He.CODE_CODE_C:if(Ae<100)Ae<10&&(H+="0"),H+=Ae;else switch(Ae!==He.CODE_STOP&&(Fe=!1),Ae){case He.CODE_FNC_1:h&&(H.length===0?H+="]C1":H+="");break;case He.CODE_CODE_A:I=He.CODE_CODE_A;break;case He.CODE_CODE_B:I=He.CODE_CODE_B;break;case He.CODE_STOP:D=!0;break}break}ys&&(I=I===He.CODE_CODE_A?He.CODE_CODE_B:He.CODE_CODE_A)}const Kr=ae-K;if(ae=o.getNextUnset(ae),!o.isRange(ae,Math.min(o.getSize(),ae+(ae-K)/2),!1))throw new X;if(Xe-=qe*me,Xe%103!==me)throw new _;const Aa=H.length;if(Aa===0)throw new X;Aa>0&&Fe&&(I===He.CODE_CODE_C?H=H.substring(0,Aa-2):H=H.substring(0,Aa-1));const qn=(g[1]+g[0])/2,dr=K+Kr/2,En=C.length,ca=new Uint8Array(En);for(let ys=0;ys<En;ys++)ca[ys]=C[ys];const pl=[new et(qn,i),new et(dr,i)];return new Pe(H,ca,0,pl,J.CODE_128,new Date().getTime())}}He.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],He.MAX_AVG_VARIANCE=.25,He.MAX_INDIVIDUAL_VARIANCE=.7,He.CODE_SHIFT=98,He.CODE_CODE_C=99,He.CODE_CODE_B=100,He.CODE_CODE_A=101,He.CODE_FNC_1=102,He.CODE_FNC_2=97,He.CODE_FNC_3=96,He.CODE_FNC_4_A=101,He.CODE_FNC_4_B=100,He.CODE_START_A=103,He.CODE_START_B=104,He.CODE_START_C=105,He.CODE_STOP=106;class lr extends Qt{constructor(i=!1,o=!1){super(),this.usingCheckDigit=i,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,o,u){let h=this.counters;h.fill(0),this.decodeRowResult="";let g=lr.findAsteriskPattern(o,h),y=o.getNextSet(g[1]),S=o.getSize(),C,I;do{lr.recordPattern(o,y,h);let le=lr.toNarrowWidePattern(h);if(le<0)throw new X;C=lr.patternToChar(le),this.decodeRowResult+=C,I=y;for(let me of h)y+=me;y=o.getNextSet(y)}while(C!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let D=0;for(let le of h)D+=le;let z=y-I-D;if(y!==S&&z*2<D)throw new X;if(this.usingCheckDigit){let le=this.decodeRowResult.length-1,me=0;for(let Ae=0;Ae<le;Ae++)me+=lr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ae));if(this.decodeRowResult.charAt(le)!==lr.ALPHABET_STRING.charAt(me%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,le)}if(this.decodeRowResult.length===0)throw new X;let H;this.extendedMode?H=lr.decodeExtended(this.decodeRowResult):H=this.decodeRowResult;let K=(g[1]+g[0])/2,ae=I+D/2;return new Pe(H,null,0,[new et(K,i),new et(ae,i)],J.CODE_39,new Date().getTime())}static findAsteriskPattern(i,o){let u=i.getSize(),h=i.getNextSet(0),g=0,y=h,S=!1,C=o.length;for(let I=h;I<u;I++)if(i.get(I)!==S)o[g]++;else{if(g===C-1){if(this.toNarrowWidePattern(o)===lr.ASTERISK_ENCODING&&i.isRange(Math.max(0,y-Math.floor((I-y)/2)),y,!1))return[y,I];y+=o[0]+o[1],o.copyWithin(0,2,2+g-1),o[g-1]=0,o[g]=0,g--}else g++;o[g]=1,S=!S}throw new X}static toNarrowWidePattern(i){let o=i.length,u=0,h;do{let g=2147483647;for(let C of i)C<g&&C>u&&(g=C);u=g,h=0;let y=0,S=0;for(let C=0;C<o;C++){let I=i[C];I>u&&(S|=1<<o-1-C,h++,y+=I)}if(h===3){for(let C=0;C<o&&h>0;C++){let I=i[C];if(I>u&&(h--,I*2>=y))return-1}return S}}while(h>3);return-1}static patternToChar(i){for(let o=0;o<lr.CHARACTER_ENCODINGS.length;o++)if(lr.CHARACTER_ENCODINGS[o]===i)return lr.ALPHABET_STRING.charAt(o);if(i===lr.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(i){let o=i.length,u="";for(let h=0;h<o;h++){let g=i.charAt(h);if(g==="+"||g==="$"||g==="%"||g==="/"){let y=i.charAt(h+1),S="\0";switch(g){case"+":if(y>="A"&&y<="Z")S=String.fromCharCode(y.charCodeAt(0)+32);else throw new L;break;case"$":if(y>="A"&&y<="Z")S=String.fromCharCode(y.charCodeAt(0)-64);else throw new L;break;case"%":if(y>="A"&&y<="E")S=String.fromCharCode(y.charCodeAt(0)-38);else if(y>="F"&&y<="J")S=String.fromCharCode(y.charCodeAt(0)-11);else if(y>="K"&&y<="O")S=String.fromCharCode(y.charCodeAt(0)+16);else if(y>="P"&&y<="T")S=String.fromCharCode(y.charCodeAt(0)+43);else if(y==="U")S="\0";else if(y==="V")S="@";else if(y==="W")S="`";else if(y==="X"||y==="Y"||y==="Z")S="";else throw new L;break;case"/":if(y>="A"&&y<="O")S=String.fromCharCode(y.charCodeAt(0)-32);else if(y==="Z")S=":";else throw new L;break}u+=S,h++}else u+=g}return u}}lr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",lr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],lr.ASTERISK_ENCODING=148;class jt extends Qt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,o,u){let h=this.decodeStart(o),g=this.decodeEnd(o),y=new ie;jt.decodeMiddle(o,h[1],g[0],y);let S=y.toString(),C=null;u!=null&&(C=u.get(Y.ALLOWED_LENGTHS)),C==null&&(C=jt.DEFAULT_ALLOWED_LENGTHS);let I=S.length,D=!1,z=0;for(let ae of C){if(I===ae){D=!0;break}ae>z&&(z=ae)}if(!D&&I>z&&(D=!0),!D)throw new L;const H=[new et(h[1],i),new et(g[0],i)];return new Pe(S,null,0,H,J.ITF,new Date().getTime())}static decodeMiddle(i,o,u,h){let g=new Int32Array(10),y=new Int32Array(5),S=new Int32Array(5);for(g.fill(0),y.fill(0),S.fill(0);o<u;){Qt.recordPattern(i,o,g);for(let I=0;I<5;I++){let D=2*I;y[I]=g[D],S[I]=g[D+1]}let C=jt.decodeDigit(y);h.append(C.toString()),C=this.decodeDigit(S),h.append(C.toString()),g.forEach(function(I){o+=I})}}decodeStart(i){let o=jt.skipWhiteSpace(i),u=jt.findGuardPattern(i,o,jt.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(i,u[0]),u}validateQuietZone(i,o){let u=this.narrowLineWidth*10;u=u<o?u:o;for(let h=o-1;u>0&&h>=0&&!i.get(h);h--)u--;if(u!==0)throw new X}static skipWhiteSpace(i){const o=i.getSize(),u=i.getNextSet(0);if(u===o)throw new X;return u}decodeEnd(i){i.reverse();try{let o=jt.skipWhiteSpace(i),u;try{u=jt.findGuardPattern(i,o,jt.END_PATTERN_REVERSED[0])}catch(g){g instanceof X&&(u=jt.findGuardPattern(i,o,jt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,u[0]);let h=u[0];return u[0]=i.getSize()-u[1],u[1]=i.getSize()-h,u}finally{i.reverse()}}static findGuardPattern(i,o,u){let h=u.length,g=new Int32Array(h),y=i.getSize(),S=!1,C=0,I=o;g.fill(0);for(let D=o;D<y;D++)if(i.get(D)!==S)g[C]++;else{if(C===h-1){if(Qt.patternMatchVariance(g,u,jt.MAX_INDIVIDUAL_VARIANCE)<jt.MAX_AVG_VARIANCE)return[I,D];I+=g[0]+g[1],M.arraycopy(g,2,g,0,C-1),g[C-1]=0,g[C]=0,C--}else C++;g[C]=1,S=!S}throw new X}static decodeDigit(i){let o=jt.MAX_AVG_VARIANCE,u=-1,h=jt.PATTERNS.length;for(let g=0;g<h;g++){let y=jt.PATTERNS[g],S=Qt.patternMatchVariance(i,y,jt.MAX_INDIVIDUAL_VARIANCE);S<o?(o=S,u=g):S===o&&(u=-1)}if(u>=0)return u%10;throw new X}}jt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],jt.MAX_AVG_VARIANCE=.38,jt.MAX_INDIVIDUAL_VARIANCE=.5,jt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],jt.START_PATTERN=Int32Array.from([1,1,1,1]),jt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ge extends Qt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let o=!1,u,h=0,g=Int32Array.from([0,0,0]);for(;!o;){g=Int32Array.from([0,0,0]),u=ge.findGuardPattern(i,h,!1,this.START_END_PATTERN,g);let y=u[0];h=u[1];let S=y-(h-y);S>=0&&(o=i.isRange(S,y,!1))}return u}static checkChecksum(i){return ge.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let u=parseInt(i.charAt(o-1),10);return ge.getStandardUPCEANChecksum(i.substring(0,o-1))===u}static getStandardUPCEANChecksum(i){let o=i.length,u=0;for(let h=o-1;h>=0;h-=2){let g=i.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new L;u+=g}u*=3;for(let h=o-2;h>=0;h-=2){let g=i.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new L;u+=g}return(1e3-u)%10}static decodeEnd(i,o){return ge.findGuardPattern(i,o,!1,ge.START_END_PATTERN,new Int32Array(ge.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,o,u,h){return this.findGuardPattern(i,o,u,h,new Int32Array(h.length))}static findGuardPattern(i,o,u,h,g){let y=i.getSize();o=u?i.getNextUnset(o):i.getNextSet(o);let S=0,C=o,I=h.length,D=u;for(let z=o;z<y;z++)if(i.get(z)!==D)g[S]++;else{if(S===I-1){if(Qt.patternMatchVariance(g,h,ge.MAX_INDIVIDUAL_VARIANCE)<ge.MAX_AVG_VARIANCE)return Int32Array.from([C,z]);C+=g[0]+g[1];let H=g.slice(2,g.length-1);for(let K=0;K<S-1;K++)g[K]=H[K];g[S-1]=0,g[S]=0,S--}else S++;g[S]=1,D=!D}throw new X}static decodeDigit(i,o,u,h){this.recordPattern(i,u,o);let g=this.MAX_AVG_VARIANCE,y=-1,S=h.length;for(let C=0;C<S;C++){let I=h[C],D=Qt.patternMatchVariance(o,I,ge.MAX_INDIVIDUAL_VARIANCE);D<g&&(g=D,y=C)}if(y>=0)return y;throw new X}}ge.MAX_AVG_VARIANCE=.48,ge.MAX_INDIVIDUAL_VARIANCE=.7,ge.START_END_PATTERN=Int32Array.from([1,1,1]),ge.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ge.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ge.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class _e{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,u){let h=this.decodeRowStringBuffer,g=this.decodeMiddle(o,u,h),y=h.toString(),S=_e.parseExtensionString(y),C=[new et((u[0]+u[1])/2,i),new et(g,i)],I=new Pe(y,null,0,C,J.UPC_EAN_EXTENSION,new Date().getTime());return S!=null&&I.putAllMetadata(S),I}decodeMiddle(i,o,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=i.getSize(),y=o[1],S=0;for(let I=0;I<5&&y<g;I++){let D=ge.decodeDigit(i,h,y,ge.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let z of h)y+=z;D>=10&&(S|=1<<4-I),I!==4&&(y=i.getNextSet(y),y=i.getNextUnset(y))}if(u.length!==5)throw new X;let C=this.determineCheckDigit(S);if(_e.extensionChecksum(u.toString())!==C)throw new X;return y}static extensionChecksum(i){let o=i.length,u=0;for(let h=o-2;h>=0;h-=2)u+=i.charAt(h).charCodeAt(0)-48;u*=3;for(let h=o-1;h>=0;h-=2)u+=i.charAt(h).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(i){for(let o=0;o<10;o++)if(i===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new X}static parseExtensionString(i){if(i.length!==5)return null;let o=_e.parseExtension5String(i);return o==null?null:new Map([[Ze.SUGGESTED_PRICE,o]])}static parseExtension5String(i){let o;switch(i.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let u=parseInt(i.substring(1)),h=(u/100).toString(),g=u%100,y=g<10?"0"+g:g.toString();return o+h+"."+y}}class Ue{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,u){let h=this.decodeRowStringBuffer,g=this.decodeMiddle(o,u,h),y=h.toString(),S=Ue.parseExtensionString(y),C=[new et((u[0]+u[1])/2,i),new et(g,i)],I=new Pe(y,null,0,C,J.UPC_EAN_EXTENSION,new Date().getTime());return S!=null&&I.putAllMetadata(S),I}decodeMiddle(i,o,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=i.getSize(),y=o[1],S=0;for(let C=0;C<2&&y<g;C++){let I=ge.decodeDigit(i,h,y,ge.L_AND_G_PATTERNS);u+=String.fromCharCode(48+I%10);for(let D of h)y+=D;I>=10&&(S|=1<<1-C),C!==1&&(y=i.getNextSet(y),y=i.getNextUnset(y))}if(u.length!==2)throw new X;if(parseInt(u.toString())%4!==S)throw new X;return y}static parseExtensionString(i){return i.length!==2?null:new Map([[Ze.ISSUE_NUMBER,parseInt(i)]])}}class Ge{static decodeRow(i,o,u){let h=ge.findGuardPattern(o,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new _e().decodeRow(i,o,h)}catch{return new Ue().decodeRow(i,o,h)}}}Ge.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ve extends ge{constructor(){super(),this.decodeRowStringBuffer="",Ve.L_AND_G_PATTERNS=Ve.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let o=Ve.L_PATTERNS[i-10],u=new Int32Array(o.length);for(let h=0;h<o.length;h++)u[h]=o[o.length-h-1];Ve.L_AND_G_PATTERNS[i]=u}}decodeRow(i,o,u){let h=Ve.findStartGuardPattern(o),g=u==null?null:u.get(Y.NEED_RESULT_POINT_CALLBACK);if(g!=null){const Fe=new et((h[0]+h[1])/2,i);g.foundPossibleResultPoint(Fe)}let y=this.decodeMiddle(o,h,this.decodeRowStringBuffer),S=y.rowOffset,C=y.resultString;if(g!=null){const Fe=new et(S,i);g.foundPossibleResultPoint(Fe)}let I=this.decodeEnd(o,S);if(g!=null){const Fe=new et((I[0]+I[1])/2,i);g.foundPossibleResultPoint(Fe)}let D=I[1],z=D+(D-I[0]);if(z>=o.getSize()||!o.isRange(D,z,!1))throw new X;let H=C.toString();if(H.length<8)throw new L;if(!Ve.checkChecksum(H))throw new _;let K=(h[1]+h[0])/2,ae=(I[1]+I[0])/2,le=this.getBarcodeFormat(),me=[new et(K,i),new et(ae,i)],Ae=new Pe(H,null,0,me,le,new Date().getTime()),Xe=0;try{let Fe=Ge.decodeRow(i,o,I[1]);Ae.putMetadata(Ze.UPC_EAN_EXTENSION,Fe.getText()),Ae.putAllMetadata(Fe.getResultMetadata()),Ae.addResultPoints(Fe.getResultPoints()),Xe=Fe.getText().length}catch{}let qe=u==null?null:u.get(Y.ALLOWED_EAN_EXTENSIONS);if(qe!=null){let Fe=!1;for(let Ft in qe)if(Xe.toString()===Ft){Fe=!0;break}if(!Fe)throw new X}return Ae}decodeEnd(i,o){return Ve.findGuardPattern(i,o,!1,Ve.START_END_PATTERN,new Int32Array(Ve.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return Ve.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let u=parseInt(i.charAt(o-1),10);return Ve.getStandardUPCEANChecksum(i.substring(0,o-1))===u}static getStandardUPCEANChecksum(i){let o=i.length,u=0;for(let h=o-1;h>=0;h-=2){let g=i.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new L;u+=g}u*=3;for(let h=o-2;h>=0;h-=2){let g=i.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new L;u+=g}return(1e3-u)%10}}class mt extends Ve{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=i.getSize(),y=o[1],S=0;for(let I=0;I<6&&y<g;I++){let D=Ve.decodeDigit(i,h,y,Ve.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let z of h)y+=z;D>=10&&(S|=1<<5-I)}u=mt.determineFirstDigit(u,S),y=Ve.findGuardPattern(i,y,!0,Ve.MIDDLE_PATTERN,new Int32Array(Ve.MIDDLE_PATTERN.length).fill(0))[1];for(let I=0;I<6&&y<g;I++){let D=Ve.decodeDigit(i,h,y,Ve.L_PATTERNS);u+=String.fromCharCode(48+D);for(let z of h)y+=z}return{rowOffset:y,resultString:u}}getBarcodeFormat(){return J.EAN_13}static determineFirstDigit(i,o){for(let u=0;u<10;u++)if(o===this.FIRST_DIGIT_ENCODINGS[u])return i=String.fromCharCode(48+u)+i,i;throw new X}}mt.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class wt extends Ve{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,u){const h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=i.getSize(),y=o[1];for(let C=0;C<4&&y<g;C++){let I=Ve.decodeDigit(i,h,y,Ve.L_PATTERNS);u+=String.fromCharCode(48+I);for(let D of h)y+=D}y=Ve.findGuardPattern(i,y,!0,Ve.MIDDLE_PATTERN,new Int32Array(Ve.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<4&&y<g;C++){let I=Ve.decodeDigit(i,h,y,Ve.L_PATTERNS);u+=String.fromCharCode(48+I);for(let D of h)y+=D}return{rowOffset:y,resultString:u}}getBarcodeFormat(){return J.EAN_8}}class Jt extends Ve{constructor(){super(...arguments),this.ean13Reader=new mt}getBarcodeFormat(){return J.UPC_A}decode(i,o){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,o,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,o,u))}decodeMiddle(i,o,u){return this.ean13Reader.decodeMiddle(i,o,u)}maybeReturnResult(i){let o=i.getText();if(o.charAt(0)==="0"){let u=new Pe(o.substring(1),null,null,i.getResultPoints(),J.UPC_A);return i.getResultMetadata()!=null&&u.putAllMetadata(i.getResultMetadata()),u}else throw new X}reset(){this.ean13Reader.reset()}}class _t extends Ve{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,o,u){const h=this.decodeMiddleCounters.map(I=>I);h[0]=0,h[1]=0,h[2]=0,h[3]=0;const g=i.getSize();let y=o[1],S=0;for(let I=0;I<6&&y<g;I++){const D=_t.decodeDigit(i,h,y,_t.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let z of h)y+=z;D>=10&&(S|=1<<5-I)}let C=_t.determineNumSysAndCheckDigit(u,S);return{rowOffset:y,resultString:C}}decodeEnd(i,o){return _t.findGuardPatternWithoutCounters(i,o,!0,_t.MIDDLE_END_PATTERN)}checkChecksum(i){return Ve.checkChecksum(_t.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,o){for(let u=0;u<=1;u++)for(let h=0;h<10;h++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][h]){let g=String.fromCharCode(48+u),y=String.fromCharCode(48+h);return g+i+y}throw X.getNotFoundInstance()}getBarcodeFormat(){return J.UPC_E}static convertUPCEtoUPCA(i){const o=i.slice(1,7).split("").map(g=>g.charCodeAt(0)),u=new ie;u.append(i.charAt(0));let h=o[5];switch(h){case 0:case 1:case 2:u.appendChars(o,0,2),u.append(h),u.append("0000"),u.appendChars(o,2,3);break;case 3:u.appendChars(o,0,3),u.append("00000"),u.appendChars(o,3,2);break;case 4:u.appendChars(o,0,4),u.append("00000"),u.append(o[4]);break;default:u.appendChars(o,0,5),u.append("0000"),u.append(h);break}return i.length>=8&&u.append(i.charAt(7)),u.toString()}}_t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),_t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class tr extends Qt{constructor(i){super();let o=i==null?null:i.get(Y.POSSIBLE_FORMATS),u=[];n(o)?(u.push(new mt),u.push(new Jt),u.push(new wt),u.push(new _t)):(o.indexOf(J.EAN_13)>-1&&u.push(new mt),o.indexOf(J.UPC_A)>-1&&u.push(new Jt),o.indexOf(J.EAN_8)>-1&&u.push(new wt),o.indexOf(J.UPC_E)>-1&&u.push(new _t)),this.readers=u}decodeRow(i,o,u){for(let h of this.readers)try{const g=h.decodeRow(i,o,u),y=g.getBarcodeFormat()===J.EAN_13&&g.getText().charAt(0)==="0",S=u==null?null:u.get(Y.POSSIBLE_FORMATS),C=S==null||S.includes(J.UPC_A);if(y&&C){const I=g.getRawBytes(),D=new Pe(g.getText().substring(1),I,I?I.length:null,g.getResultPoints(),J.UPC_A);return D.putAllMetadata(g.getResultMetadata()),D}return g}catch{}throw new X}reset(){for(let i of this.readers)i.reset()}}class vt extends Qt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,o){for(let u=0;u<o.length;u++)if(Qt.patternMatchVariance(i,o[u],vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return u;throw new X}static count(i){return lt.sum(new Int32Array(i))}static increment(i,o){let u=0,h=o[0];for(let g=1;g<i.length;g++)o[g]>h&&(h=o[g],u=g);i[u]++}static decrement(i,o){let u=0,h=o[0];for(let g=1;g<i.length;g++)o[g]<h&&(h=o[g],u=g);i[u]--}static isFinderPattern(i){let o=i[0]+i[1],u=o+i[2]+i[3],h=o/u;if(h>=vt.MIN_FINDER_PATTERN_RATIO&&h<=vt.MAX_FINDER_PATTERN_RATIO){let g=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;for(let S of i)S>y&&(y=S),S<g&&(g=S);return y<10*g}return!1}}vt.MAX_AVG_VARIANCE=.2,vt.MAX_INDIVIDUAL_VARIANCE=.45,vt.MIN_FINDER_PATTERN_RATIO=9.5/12,vt.MAX_FINDER_PATTERN_RATIO=12.5/14;class mr{constructor(i,o){this.value=i,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof mr))return!1;const o=i;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Nr{constructor(i,o,u,h,g){this.value=i,this.startEnd=o,this.value=i,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new et(u,g)),this.resultPoints.push(new et(h,g))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof Nr))return!1;const o=i;return this.value===o.value}hashCode(){return this.value}}class rr{constructor(){}static getRSSvalue(i,o,u){let h=0;for(let C of i)h+=C;let g=0,y=0,S=i.length;for(let C=0;C<S-1;C++){let I;for(I=1,y|=1<<C;I<i[C];I++,y&=~(1<<C)){let D=rr.combins(h-I-1,S-C-2);if(u&&y===0&&h-I-(S-C-1)>=S-C-1&&(D-=rr.combins(h-I-(S-C),S-C-2)),S-C-1>1){let z=0;for(let H=h-I-(S-C-2);H>o;H--)z+=rr.combins(h-I-H-1,S-C-3);D-=z*(S-1-C)}else h-I>o&&D--;g+=D}h-=I}return g}static combins(i,o){let u,h;i-o>o?(h=o,u=i-o):(h=i-o,u=o);let g=1,y=1;for(let S=i;S>u;S--)g*=S,y<=h&&(g/=y,y++);for(;y<=h;)g/=y,y++;return g}}class Gn{static buildBitArray(i){let o=i.length*2-1;i[i.length-1].getRightChar()==null&&(o-=1);let u=12*o,h=new V(u),g=0,S=i[0].getRightChar().getValue();for(let C=11;C>=0;--C)(S&1<<C)!=0&&h.set(g),g++;for(let C=1;C<i.length;++C){let I=i[C],D=I.getLeftChar().getValue();for(let z=11;z>=0;--z)(D&1<<z)!=0&&h.set(g),g++;if(I.getRightChar()!=null){let z=I.getRightChar().getValue();for(let H=11;H>=0;--H)(z&1<<H)!=0&&h.set(g),g++}}return h}}class an{constructor(i,o){o?this.decodedInformation=null:(this.finished=i,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Da{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class kr extends Da{constructor(i,o){super(i),this.value=o}getValue(){return this.value}isFNC1(){return this.value===kr.FNC1}}kr.FNC1="$";class sa extends Da{constructor(i,o,u){super(i),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class sn extends Da{constructor(i,o,u){if(super(i),o<0||o>10||u<0||u>10)throw new L;this.firstDigit=o,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===sn.FNC1}isSecondDigitFNC1(){return this.secondDigit===sn.FNC1}isAnyFNC1(){return this.firstDigit===sn.FNC1||this.secondDigit===sn.FNC1}}sn.FNC1=10;class ze{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new X;let o=i.substring(0,2);for(let g of ze.TWO_DIGIT_DATA_LENGTH)if(g[0]===o)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(2,g[2],i):ze.processFixedAI(2,g[1],i);if(i.length<3)throw new X;let u=i.substring(0,3);for(let g of ze.THREE_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(3,g[2],i):ze.processFixedAI(3,g[1],i);for(let g of ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,g[2],i):ze.processFixedAI(4,g[1],i);if(i.length<4)throw new X;let h=i.substring(0,4);for(let g of ze.FOUR_DIGIT_DATA_LENGTH)if(g[0]===h)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,g[2],i):ze.processFixedAI(4,g[1],i);throw new X}static processFixedAI(i,o,u){if(u.length<i)throw new X;let h=u.substring(0,i);if(u.length<i+o)throw new X;let g=u.substring(i,i+o),y=u.substring(i+o),S="("+h+")"+g,C=ze.parseFieldsInGeneralPurpose(y);return C==null?S:S+C}static processVariableAI(i,o,u){let h=u.substring(0,i),g;u.length<i+o?g=u.length:g=i+o;let y=u.substring(i,g),S=u.substring(g),C="("+h+")"+y,I=ze.parseFieldsInGeneralPurpose(S);return I==null?C:C+I}}ze.VARIABLE_LENGTH=[],ze.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ze.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ze.VARIABLE_LENGTH,20],["22",ze.VARIABLE_LENGTH,29],["30",ze.VARIABLE_LENGTH,8],["37",ze.VARIABLE_LENGTH,8],["90",ze.VARIABLE_LENGTH,30],["91",ze.VARIABLE_LENGTH,30],["92",ze.VARIABLE_LENGTH,30],["93",ze.VARIABLE_LENGTH,30],["94",ze.VARIABLE_LENGTH,30],["95",ze.VARIABLE_LENGTH,30],["96",ze.VARIABLE_LENGTH,30],["97",ze.VARIABLE_LENGTH,3],["98",ze.VARIABLE_LENGTH,30],["99",ze.VARIABLE_LENGTH,30]],ze.THREE_DIGIT_DATA_LENGTH=[["240",ze.VARIABLE_LENGTH,30],["241",ze.VARIABLE_LENGTH,30],["242",ze.VARIABLE_LENGTH,6],["250",ze.VARIABLE_LENGTH,30],["251",ze.VARIABLE_LENGTH,30],["253",ze.VARIABLE_LENGTH,17],["254",ze.VARIABLE_LENGTH,20],["400",ze.VARIABLE_LENGTH,30],["401",ze.VARIABLE_LENGTH,30],["402",17],["403",ze.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ze.VARIABLE_LENGTH,20],["421",ze.VARIABLE_LENGTH,15],["422",3],["423",ze.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ze.VARIABLE_LENGTH,15],["391",ze.VARIABLE_LENGTH,18],["392",ze.VARIABLE_LENGTH,15],["393",ze.VARIABLE_LENGTH,18],["703",ze.VARIABLE_LENGTH,30]],ze.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ze.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ze.VARIABLE_LENGTH,20],["8003",ze.VARIABLE_LENGTH,30],["8004",ze.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ze.VARIABLE_LENGTH,30],["8008",ze.VARIABLE_LENGTH,12],["8018",18],["8020",ze.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ze.VARIABLE_LENGTH,70],["8200",ze.VARIABLE_LENGTH,70]];class Mt{constructor(i){this.buffer=new ie,this.information=i}decodeAllCodes(i,o){let u=o,h=null;do{let g=this.decodeGeneralPurposeField(u,h),y=ze.parseFieldsInGeneralPurpose(g.getNewString());if(y!=null&&i.append(y),g.isRemaining()?h=""+g.getRemainingValue():h=null,u===g.getNewPosition())break;u=g.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let o=i;o<i+3;++o)if(this.information.get(o))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let g=this.extractNumericValueFromBitArray(i,4);return g===0?new sn(this.information.getSize(),sn.FNC1,sn.FNC1):new sn(this.information.getSize(),g-1,sn.FNC1)}let o=this.extractNumericValueFromBitArray(i,7),u=(o-8)/11,h=(o-8)%11;return new sn(i+7,u,h)}extractNumericValueFromBitArray(i,o){return Mt.extractNumericValueFromBitArray(this.information,i,o)}static extractNumericValueFromBitArray(i,o,u){let h=0;for(let g=0;g<u;++g)i.get(o+g)&&(h|=1<<u-g-1);return h}decodeGeneralPurposeField(i,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(i);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new sa(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new sa(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,o;do{let u=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),i=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),i=o.isFinished()):(o=this.parseNumericBlock(),i=o.isFinished()),!(u!==this.current.getPosition())&&!i)break}while(!i);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let o;return i.isSecondDigitFNC1()?o=new sa(this.current.getPosition(),this.buffer.toString()):o=new sa(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new an(!0,o)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let o=new sa(this.current.getPosition(),this.buffer.toString());return new an(!0,o)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new an(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new sa(this.current.getPosition(),this.buffer.toString());return new an(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new an(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new sa(this.current.getPosition(),this.buffer.toString());return new an(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new an(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,7);if(u>=64&&u<116)return!0;if(i+8>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(i,8);return h>=232&&h<253}decodeIsoIec646(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new kr(i+5,kr.FNC1);if(o>=5&&o<15)return new kr(i+5,"0"+(o-5));let u=this.extractNumericValueFromBitArray(i,7);if(u>=64&&u<90)return new kr(i+7,""+(u+1));if(u>=90&&u<116)return new kr(i+7,""+(u+7));let h=this.extractNumericValueFromBitArray(i,8),g;switch(h){case 232:g="!";break;case 233:g='"';break;case 234:g="%";break;case 235:g="&";break;case 236:g="'";break;case 237:g="(";break;case 238:g=")";break;case 239:g="*";break;case 240:g="+";break;case 241:g=",";break;case 242:g="-";break;case 243:g=".";break;case 244:g="/";break;case 245:g=":";break;case 246:g=";";break;case 247:g="<";break;case 248:g="=";break;case 249:g=">";break;case 250:g="?";break;case 251:g="_";break;case 252:g=" ";break;default:throw new L}return new kr(i+8,g)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,6);return u>=16&&u<63}decodeAlphanumeric(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new kr(i+5,kr.FNC1);if(o>=5&&o<15)return new kr(i+5,"0"+(o-5));let u=this.extractNumericValueFromBitArray(i,6);if(u>=32&&u<58)return new kr(i+6,""+(u+33));let h;switch(u){case 58:h="*";break;case 59:h=",";break;case 60:h="-";break;case 61:h=".";break;case 62:h="/";break;default:throw new Oe("Decoding invalid alphanumeric value: "+u)}return new kr(i+6,h)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<5&&o+i<this.information.getSize();++o)if(o===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+o))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let o=i;o<i+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<4&&o+i<this.information.getSize();++o)if(this.information.get(i+o))return!1;return!0}}class Vt{constructor(i){this.information=i,this.generalDecoder=new Mt(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class nr extends Vt{constructor(i){super(i)}encodeCompressedGtin(i,o){i.append("(01)");let u=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,o,u)}encodeCompressedGtinWithoutAI(i,o,u){for(let h=0;h<4;++h){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*h,10);g/100===0&&i.append("0"),g/10===0&&i.append("0"),i.append(g)}nr.appendCheckDigit(i,u)}static appendCheckDigit(i,o){let u=0;for(let h=0;h<13;h++){let g=i.charAt(h+o).charCodeAt(0)-48;u+=(h&1)===0?3*g:g}u=10-u%10,u===10&&(u=0),i.append(u)}}nr.GTIN_SIZE=40;class _n extends nr{constructor(i){super(i)}parseInformation(){let i=new ie;i.append("(01)");let o=i.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(_n.HEADER_SIZE,4);return i.append(u),this.encodeCompressedGtinWithoutAI(i,_n.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(i,_n.HEADER_SIZE+44)}}_n.HEADER_SIZE=4;class ti extends Vt{constructor(i){super(i)}parseInformation(){let i=new ie;return this.getGeneralDecoder().decodeAllCodes(i,ti.HEADER_SIZE)}}ti.HEADER_SIZE=5;class Si extends nr{constructor(i){super(i)}encodeCompressedWeight(i,o,u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(o,u);this.addWeightCode(i,h);let g=this.checkWeight(h),y=1e5;for(let S=0;S<5;++S)g/y===0&&i.append("0"),y/=10;i.append(g)}}class ea extends Si{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=ea.HEADER_SIZE+Si.GTIN_SIZE+ea.WEIGHT_SIZE)throw new X;let i=new ie;return this.encodeCompressedGtin(i,ea.HEADER_SIZE),this.encodeCompressedWeight(i,ea.HEADER_SIZE+Si.GTIN_SIZE,ea.WEIGHT_SIZE),i.toString()}}ea.HEADER_SIZE=5,ea.WEIGHT_SIZE=15;class Fi extends ea{constructor(i){super(i)}addWeightCode(i,o){i.append("(3103)")}checkWeight(i){return i}}class ln extends ea{constructor(i){super(i)}addWeightCode(i,o){o<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class Vn extends nr{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Vn.HEADER_SIZE+nr.GTIN_SIZE)throw new X;let i=new ie;this.encodeCompressedGtin(i,Vn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Vn.HEADER_SIZE+nr.GTIN_SIZE,Vn.LAST_DIGIT_SIZE);i.append("(392"),i.append(o),i.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(Vn.HEADER_SIZE+nr.GTIN_SIZE+Vn.LAST_DIGIT_SIZE,null);return i.append(u.getNewString()),i.toString()}}Vn.HEADER_SIZE=8,Vn.LAST_DIGIT_SIZE=2;class zr extends nr{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<zr.HEADER_SIZE+nr.GTIN_SIZE)throw new X;let i=new ie;this.encodeCompressedGtin(i,zr.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(zr.HEADER_SIZE+nr.GTIN_SIZE,zr.LAST_DIGIT_SIZE);i.append("(393"),i.append(o),i.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(zr.HEADER_SIZE+nr.GTIN_SIZE+zr.LAST_DIGIT_SIZE,zr.FIRST_THREE_DIGITS_SIZE);u/100==0&&i.append("0"),u/10==0&&i.append("0"),i.append(u);let h=this.getGeneralDecoder().decodeGeneralPurposeField(zr.HEADER_SIZE+nr.GTIN_SIZE+zr.LAST_DIGIT_SIZE+zr.FIRST_THREE_DIGITS_SIZE,null);return i.append(h.getNewString()),i.toString()}}zr.HEADER_SIZE=8,zr.LAST_DIGIT_SIZE=2,zr.FIRST_THREE_DIGITS_SIZE=10;class er extends Si{constructor(i,o,u){super(i),this.dateCode=u,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=er.HEADER_SIZE+er.GTIN_SIZE+er.WEIGHT_SIZE+er.DATE_SIZE)throw new X;let i=new ie;return this.encodeCompressedGtin(i,er.HEADER_SIZE),this.encodeCompressedWeight(i,er.HEADER_SIZE+er.GTIN_SIZE,er.WEIGHT_SIZE),this.encodeCompressedDate(i,er.HEADER_SIZE+er.GTIN_SIZE+er.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,o){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(o,er.DATE_SIZE);if(u==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let h=u%32;u/=32;let g=u%12+1;u/=12;let y=u;y/10==0&&i.append("0"),i.append(y),g/10==0&&i.append("0"),i.append(g),h/10==0&&i.append("0"),i.append(h)}addWeightCode(i,o){i.append("("),i.append(this.firstAIdigits),i.append(o/1e5),i.append(")")}checkWeight(i){return i%1e5}}er.HEADER_SIZE=8,er.WEIGHT_SIZE=20,er.DATE_SIZE=16;function Hi(B){try{if(B.get(1))return new _n(B);if(!B.get(2))return new ti(B);switch(Mt.extractNumericValueFromBitArray(B,1,4)){case 4:return new Fi(B);case 5:return new ln(B)}switch(Mt.extractNumericValueFromBitArray(B,1,5)){case 12:return new Vn(B);case 13:return new zr(B)}switch(Mt.extractNumericValueFromBitArray(B,1,7)){case 56:return new er(B,"310","11");case 57:return new er(B,"320","11");case 58:return new er(B,"310","13");case 59:return new er(B,"320","13");case 60:return new er(B,"310","15");case 61:return new er(B,"320","15");case 62:return new er(B,"310","17");case 63:return new er(B,"320","17")}}catch(i){throw console.log(i),new Oe("unknown decoder: "+B)}}class Yn{constructor(i,o,u,h){this.leftchar=i,this.rightchar=o,this.finderpattern=u,this.maybeLast=h}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,o){return i instanceof Yn?Yn.equalsOrNull(i.leftchar,o.leftchar)&&Yn.equalsOrNull(i.rightchar,o.rightchar)&&Yn.equalsOrNull(i.finderpattern,o.finderpattern):!1}static equalsOrNull(i,o){return i===null?o===null:Yn.equals(i,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ur{constructor(i,o,u){this.pairs=i,this.rowNumber=o,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,o){return i instanceof Ur?this.checkEqualitity(i,o)&&i.wasReversed===o.wasReversed:!1}checkEqualitity(i,o){if(!i||!o)return;let u;return i.forEach((h,g)=>{o.forEach(y=>{h.getLeftChar().getValue()===y.getLeftChar().getValue()&&h.getRightChar().getValue()===y.getRightChar().getValue()&&h.getFinderPatter().getValue()===y.getFinderPatter().getValue()&&(u=!0)})}),u}}class Le extends vt{constructor(i){super(...arguments),this.pairs=new Array(Le.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,o,u){this.pairs.length=0,this.startFromEven=!1;try{return Le.constructResult(this.decodeRow2pairs(i,o))}catch(h){this.verbose&&console.log(h)}return this.pairs.length=0,this.startFromEven=!0,Le.constructResult(this.decodeRow2pairs(i,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,o){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,i))}catch(g){if(g instanceof X){if(!this.pairs.length)throw new X;u=!0}}if(this.checkChecksum())return this.pairs;let h;if(this.rows.length?h=!0:h=!1,this.storeRow(i,!1),h){let g=this.checkRowsBoolean(!1);if(g!=null||(g=this.checkRowsBoolean(!0),g!=null))return g}throw new X}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return i&&(this.rows=this.rows.reverse()),o}checkRows(i,o){for(let u=o;u<this.rows.length;u++){let h=this.rows[u];this.pairs.length=0;for(let y of i)this.pairs.push(y.getPairs());if(this.pairs.push(h.getPairs()),!Le.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let g=new Array(i);g.push(h);try{return this.checkRows(g,u+1)}catch(y){this.verbose&&console.log(y)}}throw new X}static isValidSequence(i){for(let o of Le.FINDER_PATTERN_SEQUENCES){if(i.length>o.length)continue;let u=!0;for(let h=0;h<i.length;h++)if(i[h].getFinderPattern().getValue()!=o[h]){u=!1;break}if(u)return!0}return!1}storeRow(i,o){let u=0,h=!1,g=!1;for(;u<this.rows.length;){let y=this.rows[u];if(y.getRowNumber()>i){g=y.isEquivalent(this.pairs);break}h=y.isEquivalent(this.pairs),u++}g||h||Le.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new Ur(this.pairs,i,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,o){for(let u of o)if(u.getPairs().length!==i.length){for(let h of u.getPairs())for(let g of i)if(Yn.equals(h,g))break}}static isPartialRow(i,o){for(let u of o){let h=!0;for(let g of i){let y=!1;for(let S of u.getPairs())if(g.equals(S)){y=!0;break}if(!y){h=!1;break}}if(h)return!0}return!1}getRows(){return this.rows}static constructResult(i){let o=Gn.buildBitArray(i),h=Hi(o).parseInformation(),g=i[0].getFinderPattern().getResultPoints(),y=i[i.length-1].getFinderPattern().getResultPoints(),S=[g[0],g[1],y[0],y[1]];return new Pe(h,null,null,S,J.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),o=i.getLeftChar(),u=i.getRightChar();if(u==null)return!1;let h=u.getChecksumPortion(),g=2;for(let S=1;S<this.pairs.size();++S){let C=this.pairs.get(S);h+=C.getLeftChar().getChecksumPortion(),g++;let I=C.getRightChar();I!=null&&(h+=I.getChecksumPortion(),g++)}return h%=211,211*(g-4)+h==o.getValue()}static getNextSecondBar(i,o){let u;return i.get(o)?(u=i.getNextUnset(o),u=i.getNextSet(u)):(u=i.getNextSet(o),u=i.getNextUnset(u)),u}retrieveNextPair(i,o,u){let h=o.length%2==0;this.startFromEven&&(h=!h);let g,y=!0,S=-1;do this.findNextPair(i,o,S),g=this.parseFoundFinderPattern(i,u,h),g==null?S=Le.getNextSecondBar(i,this.startEnd[0]):y=!1;while(y);let C=this.decodeDataCharacter(i,g,h,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new X;let I;try{I=this.decodeDataCharacter(i,g,h,!1)}catch(D){I=null,this.verbose&&console.log(D)}return new Yn(C,I,g,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,o,u){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=i.getSize(),y;u>=0?y=u:this.isEmptyPair(o)?y=0:y=o[o.length-1].getFinderPattern().getStartEnd()[1];let S=o.length%2!=0;this.startFromEven&&(S=!S);let C=!1;for(;y<g&&(C=!i.get(y),!!C);)y++;let I=0,D=y;for(let z=y;z<g;z++)if(i.get(z)!=C)h[I]++;else{if(I==3){if(S&&Le.reverseCounters(h),Le.isFinderPattern(h)){this.startEnd[0]=D,this.startEnd[1]=z;return}S&&Le.reverseCounters(h),D+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,I--}else I++;h[I]=1,C=!C}throw new X}static reverseCounters(i){let o=i.length;for(let u=0;u<o/2;++u){let h=i[u];i[u]=i[o-u-1],i[o-u-1]=h}}parseFoundFinderPattern(i,o,u){let h,g,y;if(u){let I=this.startEnd[0]-1;for(;I>=0&&!i.get(I);)I--;I++,h=this.startEnd[0]-I,g=I,y=this.startEnd[1]}else g=this.startEnd[0],y=i.getNextUnset(this.startEnd[1]+1),h=y-this.startEnd[1];let S=this.getDecodeFinderCounters();M.arraycopy(S,0,S,1,S.length-1),S[0]=h;let C;try{C=this.parseFinderValue(S,Le.FINDER_PATTERNS)}catch{return null}return new Nr(C,[g,y],g,y,o)}decodeDataCharacter(i,o,u,h){let g=this.getDataCharacterCounters();for(let dr=0;dr<g.length;dr++)g[dr]=0;if(h)Le.recordPatternInReverse(i,o.getStartEnd()[0],g);else{Le.recordPattern(i,o.getStartEnd()[1],g);for(let dr=0,En=g.length-1;dr<En;dr++,En--){let ca=g[dr];g[dr]=g[En],g[En]=ca}}let y=17,S=lt.sum(new Int32Array(g))/y,C=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(S-C)/C>.3)throw new X;let I=this.getOddCounts(),D=this.getEvenCounts(),z=this.getOddRoundingErrors(),H=this.getEvenRoundingErrors();for(let dr=0;dr<g.length;dr++){let En=1*g[dr]/S,ca=En+.5;if(ca<1){if(En<.3)throw new X;ca=1}else if(ca>8){if(En>8.7)throw new X;ca=8}let pl=dr/2;(dr&1)==0?(I[pl]=ca,z[pl]=En-ca):(D[pl]=ca,H[pl]=En-ca)}this.adjustOddEvenCounts(y);let K=4*o.getValue()+(u?0:2)+(h?0:1)-1,ae=0,le=0;for(let dr=I.length-1;dr>=0;dr--){if(Le.isNotA1left(o,u,h)){let En=Le.WEIGHTS[K][2*dr];le+=I[dr]*En}ae+=I[dr]}let me=0;for(let dr=D.length-1;dr>=0;dr--)if(Le.isNotA1left(o,u,h)){let En=Le.WEIGHTS[K][2*dr+1];me+=D[dr]*En}let Ae=le+me;if((ae&1)!=0||ae>13||ae<4)throw new X;let Xe=(13-ae)/2,qe=Le.SYMBOL_WIDEST[Xe],Fe=9-qe,Ft=rr.getRSSvalue(I,qe,!0),Pt=rr.getRSSvalue(D,Fe,!1),Kr=Le.EVEN_TOTAL_SUBSET[Xe],Aa=Le.GSUM[Xe],qn=Ft*Kr+Pt+Aa;return new mr(qn,Ae)}static isNotA1left(i,o,u){return!(i.getValue()==0&&o&&u)}adjustOddEvenCounts(i){let o=lt.sum(new Int32Array(this.getOddCounts())),u=lt.sum(new Int32Array(this.getEvenCounts())),h=!1,g=!1;o>13?g=!0:o<4&&(h=!0);let y=!1,S=!1;u>13?S=!0:u<4&&(y=!0);let C=o+u-i,I=(o&1)==1,D=(u&1)==0;if(C==1)if(I){if(D)throw new X;g=!0}else{if(!D)throw new X;S=!0}else if(C==-1)if(I){if(D)throw new X;h=!0}else{if(!D)throw new X;y=!0}else if(C==0){if(I){if(!D)throw new X;o<u?(h=!0,S=!0):(g=!0,y=!0)}else if(D)throw new X}else throw new X;if(h){if(g)throw new X;Le.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&Le.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(S)throw new X;Le.increment(this.getEvenCounts(),this.getOddRoundingErrors())}S&&Le.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Le.SYMBOL_WIDEST=[7,5,4,3,1],Le.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Le.GSUM=[0,348,1388,2948,3988],Le.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Le.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Le.FINDER_PAT_A=0,Le.FINDER_PAT_B=1,Le.FINDER_PAT_C=2,Le.FINDER_PAT_D=3,Le.FINDER_PAT_E=4,Le.FINDER_PAT_F=5,Le.FINDER_PATTERN_SEQUENCES=[[Le.FINDER_PAT_A,Le.FINDER_PAT_A],[Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B],[Le.FINDER_PAT_A,Le.FINDER_PAT_C,Le.FINDER_PAT_B,Le.FINDER_PAT_D],[Le.FINDER_PAT_A,Le.FINDER_PAT_E,Le.FINDER_PAT_B,Le.FINDER_PAT_D,Le.FINDER_PAT_C],[Le.FINDER_PAT_A,Le.FINDER_PAT_E,Le.FINDER_PAT_B,Le.FINDER_PAT_D,Le.FINDER_PAT_D,Le.FINDER_PAT_F],[Le.FINDER_PAT_A,Le.FINDER_PAT_E,Le.FINDER_PAT_B,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_F,Le.FINDER_PAT_F],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_D],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_E],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_F,Le.FINDER_PAT_F],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_E,Le.FINDER_PAT_F,Le.FINDER_PAT_F]],Le.MAX_PAIRS=11;class ce extends mr{constructor(i,o,u){super(i,o),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ke extends vt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,o,u){const h=this.decodePair(o,!1,i,u);ke.addOrTally(this.possibleLeftPairs,h),o.reverse();let g=this.decodePair(o,!0,i,u);ke.addOrTally(this.possibleRightPairs,g),o.reverse();for(let y of this.possibleLeftPairs)if(y.getCount()>1){for(let S of this.possibleRightPairs)if(S.getCount()>1&&ke.checkChecksum(y,S))return ke.constructResult(y,S)}throw new X}static addOrTally(i,o){if(o==null)return;let u=!1;for(let h of i)if(h.getValue()===o.getValue()){h.incrementCount(),u=!0;break}u||i.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,o){let u=4537077*i.getValue()+o.getValue(),h=new String(u).toString(),g=new ie;for(let I=13-h.length;I>0;I--)g.append("0");g.append(h);let y=0;for(let I=0;I<13;I++){let D=g.charAt(I).charCodeAt(0)-48;y+=(I&1)===0?3*D:D}y=10-y%10,y===10&&(y=0),g.append(y.toString());let S=i.getFinderPattern().getResultPoints(),C=o.getFinderPattern().getResultPoints();return new Pe(g.toString(),null,0,[S[0],S[1],C[0],C[1]],J.RSS_14,new Date().getTime())}static checkChecksum(i,o){let u=(i.getChecksumPortion()+16*o.getChecksumPortion())%79,h=9*i.getFinderPattern().getValue()+o.getFinderPattern().getValue();return h>72&&h--,h>8&&h--,u===h}decodePair(i,o,u,h){try{let g=this.findFinderPattern(i,o),y=this.parseFoundFinderPattern(i,u,o,g),S=h==null?null:h.get(Y.NEED_RESULT_POINT_CALLBACK);if(S!=null){let D=(g[0]+g[1])/2;o&&(D=i.getSize()-1-D),S.foundPossibleResultPoint(new et(D,u))}let C=this.decodeDataCharacter(i,y,!0),I=this.decodeDataCharacter(i,y,!1);return new ce(1597*C.getValue()+I.getValue(),C.getChecksumPortion()+4*I.getChecksumPortion(),y)}catch{return null}}decodeDataCharacter(i,o,u){let h=this.getDataCharacterCounters();for(let me=0;me<h.length;me++)h[me]=0;if(u)Qt.recordPatternInReverse(i,o.getStartEnd()[0],h);else{Qt.recordPattern(i,o.getStartEnd()[1]+1,h);for(let me=0,Ae=h.length-1;me<Ae;me++,Ae--){let Xe=h[me];h[me]=h[Ae],h[Ae]=Xe}}let g=u?16:15,y=lt.sum(new Int32Array(h))/g,S=this.getOddCounts(),C=this.getEvenCounts(),I=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let me=0;me<h.length;me++){let Ae=h[me]/y,Xe=Math.floor(Ae+.5);Xe<1?Xe=1:Xe>8&&(Xe=8);let qe=Math.floor(me/2);(me&1)===0?(S[qe]=Xe,I[qe]=Ae-Xe):(C[qe]=Xe,D[qe]=Ae-Xe)}this.adjustOddEvenCounts(u,g);let z=0,H=0;for(let me=S.length-1;me>=0;me--)H*=9,H+=S[me],z+=S[me];let K=0,ae=0;for(let me=C.length-1;me>=0;me--)K*=9,K+=C[me],ae+=C[me];let le=H+3*K;if(u){if((z&1)!==0||z>12||z<4)throw new X;let me=(12-z)/2,Ae=ke.OUTSIDE_ODD_WIDEST[me],Xe=9-Ae,qe=rr.getRSSvalue(S,Ae,!1),Fe=rr.getRSSvalue(C,Xe,!0),Ft=ke.OUTSIDE_EVEN_TOTAL_SUBSET[me],Pt=ke.OUTSIDE_GSUM[me];return new mr(qe*Ft+Fe+Pt,le)}else{if((ae&1)!==0||ae>10||ae<4)throw new X;let me=(10-ae)/2,Ae=ke.INSIDE_ODD_WIDEST[me],Xe=9-Ae,qe=rr.getRSSvalue(S,Ae,!0),Fe=rr.getRSSvalue(C,Xe,!1),Ft=ke.INSIDE_ODD_TOTAL_SUBSET[me],Pt=ke.INSIDE_GSUM[me];return new mr(Fe*Ft+qe+Pt,le)}}findFinderPattern(i,o){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=i.getSize(),g=!1,y=0;for(;y<h&&(g=!i.get(y),o!==g);)y++;let S=0,C=y;for(let I=y;I<h;I++)if(i.get(I)!==g)u[S]++;else{if(S===3){if(vt.isFinderPattern(u))return[C,I];C+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,S--}else S++;u[S]=1,g=!g}throw new X}parseFoundFinderPattern(i,o,u,h){let g=i.get(h[0]),y=h[0]-1;for(;y>=0&&g!==i.get(y);)y--;y++;const S=h[0]-y,C=this.getDecodeFinderCounters(),I=new Int32Array(C.length);M.arraycopy(C,0,I,1,C.length-1),I[0]=S;const D=this.parseFinderValue(I,ke.FINDER_PATTERNS);let z=y,H=h[1];return u&&(z=i.getSize()-1-z,H=i.getSize()-1-H),new Nr(D,[y,h[1]],z,H,o)}adjustOddEvenCounts(i,o){let u=lt.sum(new Int32Array(this.getOddCounts())),h=lt.sum(new Int32Array(this.getEvenCounts())),g=!1,y=!1,S=!1,C=!1;i?(u>12?y=!0:u<4&&(g=!0),h>12?C=!0:h<4&&(S=!0)):(u>11?y=!0:u<5&&(g=!0),h>10?C=!0:h<4&&(S=!0));let I=u+h-o,D=(u&1)===(i?1:0),z=(h&1)===1;if(I===1)if(D){if(z)throw new X;y=!0}else{if(!z)throw new X;C=!0}else if(I===-1)if(D){if(z)throw new X;g=!0}else{if(!z)throw new X;S=!0}else if(I===0){if(D){if(!z)throw new X;u<h?(g=!0,C=!0):(y=!0,S=!0)}else if(z)throw new X}else throw new X;if(g){if(y)throw new X;vt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&vt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),S){if(C)throw new X;vt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&vt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ke.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ke.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ke.OUTSIDE_GSUM=[0,161,961,2015,2715],ke.INSIDE_GSUM=[0,336,1036,1516],ke.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ke.INSIDE_ODD_WIDEST=[2,4,6,8],ke.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ye extends Qt{constructor(i,o){super(),this.readers=[],this.verbose=o===!0;const u=i?i.get(Y.POSSIBLE_FORMATS):null,h=i&&i.get(Y.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(J.EAN_13)||u.includes(J.UPC_A)||u.includes(J.EAN_8)||u.includes(J.UPC_E))&&this.readers.push(new tr(i)),u.includes(J.CODE_39)&&this.readers.push(new lr(h)),u.includes(J.CODE_128)&&this.readers.push(new He),u.includes(J.ITF)&&this.readers.push(new jt),u.includes(J.RSS_14)&&this.readers.push(new ke),u.includes(J.RSS_EXPANDED)&&this.readers.push(new Le(this.verbose))):(this.readers.push(new tr(i)),this.readers.push(new lr),this.readers.push(new tr(i)),this.readers.push(new He),this.readers.push(new jt),this.readers.push(new ke),this.readers.push(new Le(this.verbose)))}decodeRow(i,o,u){for(let h=0;h<this.readers.length;h++)try{return this.readers[h].decodeRow(i,o,u)}catch{}throw new X}reset(){this.readers.forEach(i=>i.reset())}}class gt extends Te{constructor(i=500,o){super(new Ye(o),i,o)}}class We{constructor(i,o,u){this.ecCodewords=i,this.ecBlocks=[o],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ke{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class rt{constructor(i,o,u,h,g,y){this.versionNumber=i,this.symbolSizeRows=o,this.symbolSizeColumns=u,this.dataRegionSizeRows=h,this.dataRegionSizeColumns=g,this.ecBlocks=y;let S=0;const C=y.getECCodewords(),I=y.getECBlocks();for(let D of I)S+=D.getCount()*(D.getDataCodewords()+C);this.totalCodewords=S}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,o){if((i&1)!==0||(o&1)!==0)throw new L;for(let u of rt.VERSIONS)if(u.symbolSizeRows===i&&u.symbolSizeColumns===o)return u;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new rt(1,10,10,8,8,new We(5,new Ke(1,3))),new rt(2,12,12,10,10,new We(7,new Ke(1,5))),new rt(3,14,14,12,12,new We(10,new Ke(1,8))),new rt(4,16,16,14,14,new We(12,new Ke(1,12))),new rt(5,18,18,16,16,new We(14,new Ke(1,18))),new rt(6,20,20,18,18,new We(18,new Ke(1,22))),new rt(7,22,22,20,20,new We(20,new Ke(1,30))),new rt(8,24,24,22,22,new We(24,new Ke(1,36))),new rt(9,26,26,24,24,new We(28,new Ke(1,44))),new rt(10,32,32,14,14,new We(36,new Ke(1,62))),new rt(11,36,36,16,16,new We(42,new Ke(1,86))),new rt(12,40,40,18,18,new We(48,new Ke(1,114))),new rt(13,44,44,20,20,new We(56,new Ke(1,144))),new rt(14,48,48,22,22,new We(68,new Ke(1,174))),new rt(15,52,52,24,24,new We(42,new Ke(2,102))),new rt(16,64,64,14,14,new We(56,new Ke(2,140))),new rt(17,72,72,16,16,new We(36,new Ke(4,92))),new rt(18,80,80,18,18,new We(48,new Ke(4,114))),new rt(19,88,88,20,20,new We(56,new Ke(4,144))),new rt(20,96,96,22,22,new We(68,new Ke(4,174))),new rt(21,104,104,24,24,new We(56,new Ke(6,136))),new rt(22,120,120,18,18,new We(68,new Ke(6,175))),new rt(23,132,132,20,20,new We(62,new Ke(8,163))),new rt(24,144,144,22,22,new We(62,new Ke(8,156),new Ke(2,155))),new rt(25,8,18,6,16,new We(7,new Ke(1,5))),new rt(26,8,32,6,14,new We(11,new Ke(1,10))),new rt(27,12,26,10,24,new We(14,new Ke(1,16))),new rt(28,12,36,10,16,new We(18,new Ke(1,22))),new rt(29,16,36,14,16,new We(24,new Ke(1,32))),new rt(30,16,48,14,22,new We(28,new Ke(1,49)))]}}rt.VERSIONS=rt.buildVersions();class gr{constructor(i){const o=i.getHeight();if(o<8||o>144||(o&1)!==0)throw new L;this.version=gr.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new be(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const o=i.getHeight(),u=i.getWidth();return rt.getVersionForDimensions(o,u)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let o=0,u=4,h=0;const g=this.mappingBitMatrix.getHeight(),y=this.mappingBitMatrix.getWidth();let S=!1,C=!1,I=!1,D=!1;do if(u===g&&h===0&&!S)i[o++]=this.readCorner1(g,y)&255,u-=2,h+=2,S=!0;else if(u===g-2&&h===0&&(y&3)!==0&&!C)i[o++]=this.readCorner2(g,y)&255,u-=2,h+=2,C=!0;else if(u===g+4&&h===2&&(y&7)===0&&!I)i[o++]=this.readCorner3(g,y)&255,u-=2,h+=2,I=!0;else if(u===g-2&&h===0&&(y&7)===4&&!D)i[o++]=this.readCorner4(g,y)&255,u-=2,h+=2,D=!0;else{do u<g&&h>=0&&!this.readMappingMatrix.get(h,u)&&(i[o++]=this.readUtah(u,h,g,y)&255),u-=2,h+=2;while(u>=0&&h<y);u+=1,h+=3;do u>=0&&h<y&&!this.readMappingMatrix.get(h,u)&&(i[o++]=this.readUtah(u,h,g,y)&255),u+=2,h-=2;while(u<g&&h>=0);u+=3,h+=1}while(u<g||h<y);if(o!==this.version.getTotalCodewords())throw new L;return i}readModule(i,o,u,h){return i<0&&(i+=u,o+=4-(u+4&7)),o<0&&(o+=h,i+=4-(h+4&7)),this.readMappingMatrix.set(o,i),this.mappingBitMatrix.get(o,i)}readUtah(i,o,u,h){let g=0;return this.readModule(i-2,o-2,u,h)&&(g|=1),g<<=1,this.readModule(i-2,o-1,u,h)&&(g|=1),g<<=1,this.readModule(i-1,o-2,u,h)&&(g|=1),g<<=1,this.readModule(i-1,o-1,u,h)&&(g|=1),g<<=1,this.readModule(i-1,o,u,h)&&(g|=1),g<<=1,this.readModule(i,o-2,u,h)&&(g|=1),g<<=1,this.readModule(i,o-1,u,h)&&(g|=1),g<<=1,this.readModule(i,o,u,h)&&(g|=1),g}readCorner1(i,o){let u=0;return this.readModule(i-1,0,i,o)&&(u|=1),u<<=1,this.readModule(i-1,1,i,o)&&(u|=1),u<<=1,this.readModule(i-1,2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-1,i,o)&&(u|=1),u<<=1,this.readModule(1,o-1,i,o)&&(u|=1),u<<=1,this.readModule(2,o-1,i,o)&&(u|=1),u<<=1,this.readModule(3,o-1,i,o)&&(u|=1),u}readCorner2(i,o){let u=0;return this.readModule(i-3,0,i,o)&&(u|=1),u<<=1,this.readModule(i-2,0,i,o)&&(u|=1),u<<=1,this.readModule(i-1,0,i,o)&&(u|=1),u<<=1,this.readModule(0,o-4,i,o)&&(u|=1),u<<=1,this.readModule(0,o-3,i,o)&&(u|=1),u<<=1,this.readModule(0,o-2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-1,i,o)&&(u|=1),u<<=1,this.readModule(1,o-1,i,o)&&(u|=1),u}readCorner3(i,o){let u=0;return this.readModule(i-1,0,i,o)&&(u|=1),u<<=1,this.readModule(i-1,o-1,i,o)&&(u|=1),u<<=1,this.readModule(0,o-3,i,o)&&(u|=1),u<<=1,this.readModule(0,o-2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-1,i,o)&&(u|=1),u<<=1,this.readModule(1,o-3,i,o)&&(u|=1),u<<=1,this.readModule(1,o-2,i,o)&&(u|=1),u<<=1,this.readModule(1,o-1,i,o)&&(u|=1),u}readCorner4(i,o){let u=0;return this.readModule(i-3,0,i,o)&&(u|=1),u<<=1,this.readModule(i-2,0,i,o)&&(u|=1),u<<=1,this.readModule(i-1,0,i,o)&&(u|=1),u<<=1,this.readModule(0,o-2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-1,i,o)&&(u|=1),u<<=1,this.readModule(1,o-1,i,o)&&(u|=1),u<<=1,this.readModule(2,o-1,i,o)&&(u|=1),u<<=1,this.readModule(3,o-1,i,o)&&(u|=1),u}extractDataRegion(i){const o=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(i.getHeight()!==o)throw new A("Dimension of bitMatrix must match the version size");const h=this.version.getDataRegionSizeRows(),g=this.version.getDataRegionSizeColumns(),y=o/h|0,S=u/g|0,C=y*h,I=S*g,D=new be(I,C);for(let z=0;z<y;++z){const H=z*h;for(let K=0;K<S;++K){const ae=K*g;for(let le=0;le<h;++le){const me=z*(h+2)+1+le,Ae=H+le;for(let Xe=0;Xe<g;++Xe){const qe=K*(g+2)+1+Xe;if(i.get(qe,me)){const Fe=ae+Xe;D.set(Fe,Ae)}}}}}return D}}class Mn{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o){const u=o.getECBlocks();let h=0;const g=u.getECBlocks();for(let le of g)h+=le.getCount();const y=new Array(h);let S=0;for(let le of g)for(let me=0;me<le.getCount();me++){const Ae=le.getDataCodewords(),Xe=u.getECCodewords()+Ae;y[S++]=new Mn(Ae,new Uint8Array(Xe))}const I=y[0].codewords.length-u.getECCodewords(),D=I-1;let z=0;for(let le=0;le<D;le++)for(let me=0;me<S;me++)y[me].codewords[le]=i[z++];const H=o.getVersionNumber()===24,K=H?8:S;for(let le=0;le<K;le++)y[le].codewords[I-1]=i[z++];const ae=y[0].codewords.length;for(let le=I;le<ae;le++)for(let me=0;me<S;me++){const Ae=H?(me+8)%S:me,Xe=H&&Ae>7?le-1:le;y[Ae].codewords[Xe]=i[z++]}if(z!==i.length)throw new A;return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class kt{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new A(""+i);let o=0,u=this.bitOffset,h=this.byteOffset;const g=this.bytes;if(u>0){const y=8-u,S=i<y?i:y,C=y-S,I=255>>8-S<<C;o=(g[h]&I)>>C,i-=S,u+=S,u===8&&(u=0,h++)}if(i>0){for(;i>=8;)o=o<<8|g[h]&255,h++,i-=8;if(i>0){const y=8-i,S=255>>y<<y;o=o<<i|(g[h]&S)>>y,u+=i}}return this.bitOffset=u,this.byteOffset=h,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ht;(function(B){B[B.PAD_ENCODE=0]="PAD_ENCODE",B[B.ASCII_ENCODE=1]="ASCII_ENCODE",B[B.C40_ENCODE=2]="C40_ENCODE",B[B.TEXT_ENCODE=3]="TEXT_ENCODE",B[B.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",B[B.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",B[B.BASE256_ENCODE=6]="BASE256_ENCODE"})(ht||(ht={}));class ya{static decode(i){const o=new kt(i),u=new ie,h=new ie,g=new Array;let y=ht.ASCII_ENCODE;do if(y===ht.ASCII_ENCODE)y=this.decodeAsciiSegment(o,u,h);else{switch(y){case ht.C40_ENCODE:this.decodeC40Segment(o,u);break;case ht.TEXT_ENCODE:this.decodeTextSegment(o,u);break;case ht.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,u);break;case ht.EDIFACT_ENCODE:this.decodeEdifactSegment(o,u);break;case ht.BASE256_ENCODE:this.decodeBase256Segment(o,u,g);break;default:throw new L}y=ht.ASCII_ENCODE}while(y!==ht.PAD_ENCODE&&o.available()>0);return h.length()>0&&u.append(h.toString()),new he(i,u.toString(),g.length===0?null:g,null)}static decodeAsciiSegment(i,o,u){let h=!1;do{let g=i.readBits(8);if(g===0)throw new L;if(g<=128)return h&&(g+=128),o.append(String.fromCharCode(g-1)),ht.ASCII_ENCODE;if(g===129)return ht.PAD_ENCODE;if(g<=229){const y=g-130;y<10&&o.append("0"),o.append(""+y)}else switch(g){case 230:return ht.C40_ENCODE;case 231:return ht.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:h=!0;break;case 236:o.append("[)>05"),u.insert(0,"");break;case 237:o.append("[)>06"),u.insert(0,"");break;case 238:return ht.ANSIX12_ENCODE;case 239:return ht.TEXT_ENCODE;case 240:return ht.EDIFACT_ENCODE;case 241:break;default:if(g!==254||i.available()!==0)throw new L;break}}while(i.available()>0);return ht.ASCII_ENCODE}static decodeC40Segment(i,o){let u=!1;const h=[];let g=0;do{if(i.available()===8)return;const y=i.readBits(8);if(y===254)return;this.parseTwoBytes(y,i.readBits(8),h);for(let S=0;S<3;S++){const C=h[S];switch(g){case 0:if(C<3)g=C+1;else if(C<this.C40_BASIC_SET_CHARS.length){const I=this.C40_BASIC_SET_CHARS[C];u?(o.append(String.fromCharCode(I.charCodeAt(0)+128)),u=!1):o.append(I)}else throw new L;break;case 1:u?(o.append(String.fromCharCode(C+128)),u=!1):o.append(String.fromCharCode(C)),g=0;break;case 2:if(C<this.C40_SHIFT2_SET_CHARS.length){const I=this.C40_SHIFT2_SET_CHARS[C];u?(o.append(String.fromCharCode(I.charCodeAt(0)+128)),u=!1):o.append(I)}else switch(C){case 27:o.append("");break;case 30:u=!0;break;default:throw new L}g=0;break;case 3:u?(o.append(String.fromCharCode(C+224)),u=!1):o.append(String.fromCharCode(C+96)),g=0;break;default:throw new L}}}while(i.available()>0)}static decodeTextSegment(i,o){let u=!1,h=[],g=0;do{if(i.available()===8)return;const y=i.readBits(8);if(y===254)return;this.parseTwoBytes(y,i.readBits(8),h);for(let S=0;S<3;S++){const C=h[S];switch(g){case 0:if(C<3)g=C+1;else if(C<this.TEXT_BASIC_SET_CHARS.length){const I=this.TEXT_BASIC_SET_CHARS[C];u?(o.append(String.fromCharCode(I.charCodeAt(0)+128)),u=!1):o.append(I)}else throw new L;break;case 1:u?(o.append(String.fromCharCode(C+128)),u=!1):o.append(String.fromCharCode(C)),g=0;break;case 2:if(C<this.TEXT_SHIFT2_SET_CHARS.length){const I=this.TEXT_SHIFT2_SET_CHARS[C];u?(o.append(String.fromCharCode(I.charCodeAt(0)+128)),u=!1):o.append(I)}else switch(C){case 27:o.append("");break;case 30:u=!0;break;default:throw new L}g=0;break;case 3:if(C<this.TEXT_SHIFT3_SET_CHARS.length){const I=this.TEXT_SHIFT3_SET_CHARS[C];u?(o.append(String.fromCharCode(I.charCodeAt(0)+128)),u=!1):o.append(I),g=0}else throw new L;break;default:throw new L}}}while(i.available()>0)}static decodeAnsiX12Segment(i,o){const u=[];do{if(i.available()===8)return;const h=i.readBits(8);if(h===254)return;this.parseTwoBytes(h,i.readBits(8),u);for(let g=0;g<3;g++){const y=u[g];switch(y){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(y<14)o.append(String.fromCharCode(y+44));else if(y<40)o.append(String.fromCharCode(y+51));else throw new L;break}}}while(i.available()>0)}static parseTwoBytes(i,o,u){let h=(i<<8)+o-1,g=Math.floor(h/1600);u[0]=g,h-=g*1600,g=Math.floor(h/40),u[1]=g,u[2]=h-g*40}static decodeEdifactSegment(i,o){do{if(i.available()<=16)return;for(let u=0;u<4;u++){let h=i.readBits(6);if(h===31){const g=8-i.getBitOffset();g!==8&&i.readBits(g);return}(h&32)===0&&(h|=64),o.append(String.fromCharCode(h))}}while(i.available()>0)}static decodeBase256Segment(i,o,u){let h=1+i.getByteOffset();const g=this.unrandomize255State(i.readBits(8),h++);let y;if(g===0?y=i.available()/8|0:g<250?y=g:y=250*(g-249)+this.unrandomize255State(i.readBits(8),h++),y<0)throw new L;const S=new Uint8Array(y);for(let C=0;C<y;C++){if(i.available()<8)throw new L;S[C]=this.unrandomize255State(i.readBits(8),h++)}u.push(S);try{o.append(te.decode(S,Q.ISO88591))}catch(C){throw new Oe("Platform does not support required encoding: "+C.message)}}static unrandomize255State(i,o){const u=149*o%255+1,h=i-u;return h>=0?h:h+256}}ya.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ya.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ya.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ya.TEXT_SHIFT2_SET_CHARS=ya.C40_SHIFT2_SET_CHARS,ya.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Jo{constructor(){this.rsDecoder=new Ct(Je.DATA_MATRIX_FIELD_256)}decode(i){const o=new gr(i),u=o.getVersion(),h=o.readCodewords(),g=Mn.getDataBlocks(h,u);let y=0;for(let I of g)y+=I.getNumDataCodewords();const S=new Uint8Array(y),C=g.length;for(let I=0;I<C;I++){const D=g[I],z=D.getCodewords(),H=D.getNumDataCodewords();this.correctErrors(z,H);for(let K=0;K<H;K++)S[K*C+I]=z[K]}return ya.decode(S)}correctErrors(i,o){const u=new Int32Array(i);try{this.rsDecoder.decode(u,i.length-o)}catch{throw new _}for(let h=0;h<o;h++)i[h]=u[h]}}class Tr{constructor(i){this.image=i,this.rectangleDetector=new hr(this.image)}detect(){const i=this.rectangleDetector.detect();let o=this.detectSolid1(i);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new X;o=this.shiftToModuleCenter(o);const u=o[0],h=o[1],g=o[2],y=o[3];let S=this.transitionsBetween(u,y)+1,C=this.transitionsBetween(g,y)+1;(S&1)===1&&(S+=1),(C&1)===1&&(C+=1),4*S<7*C&&4*C<7*S&&(S=C=Math.max(S,C));let I=Tr.sampleGrid(this.image,u,h,g,y,S,C);return new ka(I,[u,h,g,y])}static shiftPoint(i,o,u){let h=(o.getX()-i.getX())/(u+1),g=(o.getY()-i.getY())/(u+1);return new et(i.getX()+h,i.getY()+g)}static moveAway(i,o,u){let h=i.getX(),g=i.getY();return h<o?h-=1:h+=1,g<u?g-=1:g+=1,new et(h,g)}detectSolid1(i){let o=i[0],u=i[1],h=i[3],g=i[2],y=this.transitionsBetween(o,u),S=this.transitionsBetween(u,h),C=this.transitionsBetween(h,g),I=this.transitionsBetween(g,o),D=y,z=[g,o,u,h];return D>S&&(D=S,z[0]=o,z[1]=u,z[2]=h,z[3]=g),D>C&&(D=C,z[0]=u,z[1]=h,z[2]=g,z[3]=o),D>I&&(z[0]=h,z[1]=g,z[2]=o,z[3]=u),z}detectSolid2(i){let o=i[0],u=i[1],h=i[2],g=i[3],y=this.transitionsBetween(o,g),S=Tr.shiftPoint(u,h,(y+1)*4),C=Tr.shiftPoint(h,u,(y+1)*4),I=this.transitionsBetween(S,o),D=this.transitionsBetween(C,g);return I<D?(i[0]=o,i[1]=u,i[2]=h,i[3]=g):(i[0]=u,i[1]=h,i[2]=g,i[3]=o),i}correctTopRight(i){let o=i[0],u=i[1],h=i[2],g=i[3],y=this.transitionsBetween(o,g),S=this.transitionsBetween(u,g),C=Tr.shiftPoint(o,u,(S+1)*4),I=Tr.shiftPoint(h,u,(y+1)*4);y=this.transitionsBetween(C,g),S=this.transitionsBetween(I,g);let D=new et(g.getX()+(h.getX()-u.getX())/(y+1),g.getY()+(h.getY()-u.getY())/(y+1)),z=new et(g.getX()+(o.getX()-u.getX())/(S+1),g.getY()+(o.getY()-u.getY())/(S+1));if(!this.isValid(D))return this.isValid(z)?z:null;if(!this.isValid(z))return D;let H=this.transitionsBetween(C,D)+this.transitionsBetween(I,D),K=this.transitionsBetween(C,z)+this.transitionsBetween(I,z);return H>K?D:z}shiftToModuleCenter(i){let o=i[0],u=i[1],h=i[2],g=i[3],y=this.transitionsBetween(o,g)+1,S=this.transitionsBetween(h,g)+1,C=Tr.shiftPoint(o,u,S*4),I=Tr.shiftPoint(h,u,y*4);y=this.transitionsBetween(C,g)+1,S=this.transitionsBetween(I,g)+1,(y&1)===1&&(y+=1),(S&1)===1&&(S+=1);let D=(o.getX()+u.getX()+h.getX()+g.getX())/4,z=(o.getY()+u.getY()+h.getY()+g.getY())/4;o=Tr.moveAway(o,D,z),u=Tr.moveAway(u,D,z),h=Tr.moveAway(h,D,z),g=Tr.moveAway(g,D,z);let H,K;return C=Tr.shiftPoint(o,u,S*4),C=Tr.shiftPoint(C,g,y*4),H=Tr.shiftPoint(u,o,S*4),H=Tr.shiftPoint(H,h,y*4),I=Tr.shiftPoint(h,g,S*4),I=Tr.shiftPoint(I,u,y*4),K=Tr.shiftPoint(g,h,S*4),K=Tr.shiftPoint(K,o,y*4),[C,H,I,K]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,o,u,h,g,y,S){return Hn.getInstance().sampleGrid(i,y,S,.5,.5,y-.5,.5,y-.5,S-.5,.5,S-.5,o.getX(),o.getY(),g.getX(),g.getY(),h.getX(),h.getY(),u.getX(),u.getY())}transitionsBetween(i,o){let u=Math.trunc(i.getX()),h=Math.trunc(i.getY()),g=Math.trunc(o.getX()),y=Math.trunc(o.getY()),S=Math.abs(y-h)>Math.abs(g-u);if(S){let le=u;u=h,h=le,le=g,g=y,y=le}let C=Math.abs(g-u),I=Math.abs(y-h),D=-C/2,z=h<y?1:-1,H=u<g?1:-1,K=0,ae=this.image.get(S?h:u,S?u:h);for(let le=u,me=h;le!==g;le+=H){let Ae=this.image.get(S?me:le,S?le:me);if(Ae!==ae&&(K++,ae=Ae),D+=I,D>0){if(me===y)break;me+=z,D-=C}}return K}}class Ra{constructor(){this.decoder=new Jo}decode(i,o=null){let u,h;if(o!=null&&o.has(Y.PURE_BARCODE)){const I=Ra.extractPureBits(i.getBlackMatrix());u=this.decoder.decode(I),h=Ra.NO_POINTS}else{const I=new Tr(i.getBlackMatrix()).detect();u=this.decoder.decode(I.getBits()),h=I.getPoints()}const g=u.getRawBytes(),y=new Pe(u.getText(),g,8*g.length,h,J.DATA_MATRIX,M.currentTimeMillis()),S=u.getByteSegments();S!=null&&y.putMetadata(Ze.BYTE_SEGMENTS,S);const C=u.getECLevel();return C!=null&&y.putMetadata(Ze.ERROR_CORRECTION_LEVEL,C),y}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),u=i.getBottomRightOnBit();if(o==null||u==null)throw new X;const h=this.moduleSize(o,i);let g=o[1];const y=u[1];let S=o[0];const I=(u[0]-S+1)/h,D=(y-g+1)/h;if(I<=0||D<=0)throw new X;const z=h/2;g+=z,S+=z;const H=new be(I,D);for(let K=0;K<D;K++){const ae=g+K*h;for(let le=0;le<I;le++)i.get(S+le*h,ae)&&H.set(le,K)}return H}static moduleSize(i,o){const u=o.getWidth();let h=i[0];const g=i[1];for(;h<u&&o.get(h,g);)h++;if(h===u)throw new X;const y=h-i[0];if(y===0)throw new X;return y}}Ra.NO_POINTS=[];class ec extends Te{constructor(i=500){super(new Ra,i)}}var ll;(function(B){B[B.L=0]="L",B[B.M=1]="M",B[B.Q=2]="Q",B[B.H=3]="H"})(ll||(ll={}));class Ht{constructor(i,o,u){this.value=i,this.stringValue=o,this.bits=u,Ht.FOR_BITS.set(u,this),Ht.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return Ht.L;case"M":return Ht.M;case"Q":return Ht.Q;case"H":return Ht.H;default:throw new w(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof Ht))return!1;const o=i;return this.value===o.value}static forBits(i){if(i<0||i>=Ht.FOR_BITS.size)throw new A;return Ht.FOR_BITS.get(i)}}Ht.FOR_BITS=new Map,Ht.FOR_VALUE=new Map,Ht.L=new Ht(ll.L,"L",1),Ht.M=new Ht(ll.M,"M",0),Ht.Q=new Ht(ll.Q,"Q",3),Ht.H=new Ht(ll.H,"H",2);class hn{constructor(i){this.errorCorrectionLevel=Ht.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,o){return U.bitCount(i^o)}static decodeFormatInformation(i,o){const u=hn.doDecodeFormatInformation(i,o);return u!==null?u:hn.doDecodeFormatInformation(i^hn.FORMAT_INFO_MASK_QR,o^hn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,o){let u=Number.MAX_SAFE_INTEGER,h=0;for(const g of hn.FORMAT_INFO_DECODE_LOOKUP){const y=g[0];if(y===i||y===o)return new hn(g[1]);let S=hn.numBitsDiffering(i,y);S<u&&(h=g[1],u=S),i!==o&&(S=hn.numBitsDiffering(o,y),S<u&&(h=g[1],u=S))}return u<=3?new hn(h):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof hn))return!1;const o=i;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}hn.FORMAT_INFO_MASK_QR=21522,hn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class pe{constructor(i,...o){this.ecCodewordsPerBlock=i,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const o=this.ecBlocks;for(const u of o)i+=u.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class W{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ut{constructor(i,o,...u){this.versionNumber=i,this.alignmentPatternCenters=o,this.ecBlocks=u;let h=0;const g=u[0].getECCodewordsPerBlock(),y=u[0].getECBlocks();for(const S of y)h+=S.getCount()*(S.getDataCodewords()+g);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new L;try{return this.getVersionForNumber((i-17)/4)}catch{throw new L}}static getVersionForNumber(i){if(i<1||i>40)throw new A;return ut.VERSIONS[i-1]}static decodeVersionInformation(i){let o=Number.MAX_SAFE_INTEGER,u=0;for(let h=0;h<ut.VERSION_DECODE_INFO.length;h++){const g=ut.VERSION_DECODE_INFO[h];if(g===i)return ut.getVersionForNumber(h+7);const y=hn.numBitsDiffering(i,g);y<o&&(u=h+7,o=y)}return o<=3?ut.getVersionForNumber(u):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),o=new be(i);o.setRegion(0,0,9,9),o.setRegion(i-8,0,8,9),o.setRegion(0,i-8,9,8);const u=this.alignmentPatternCenters.length;for(let h=0;h<u;h++){const g=this.alignmentPatternCenters[h]-2;for(let y=0;y<u;y++)h===0&&(y===0||y===u-1)||h===u-1&&y===0||o.setRegion(this.alignmentPatternCenters[y]-2,g,5,5)}return o.setRegion(6,9,1,i-17),o.setRegion(9,6,i-17,1),this.versionNumber>6&&(o.setRegion(i-11,0,3,6),o.setRegion(0,i-11,6,3)),o}toString(){return""+this.versionNumber}}ut.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ut.VERSIONS=[new ut(1,new Int32Array(0),new pe(7,new W(1,19)),new pe(10,new W(1,16)),new pe(13,new W(1,13)),new pe(17,new W(1,9))),new ut(2,Int32Array.from([6,18]),new pe(10,new W(1,34)),new pe(16,new W(1,28)),new pe(22,new W(1,22)),new pe(28,new W(1,16))),new ut(3,Int32Array.from([6,22]),new pe(15,new W(1,55)),new pe(26,new W(1,44)),new pe(18,new W(2,17)),new pe(22,new W(2,13))),new ut(4,Int32Array.from([6,26]),new pe(20,new W(1,80)),new pe(18,new W(2,32)),new pe(26,new W(2,24)),new pe(16,new W(4,9))),new ut(5,Int32Array.from([6,30]),new pe(26,new W(1,108)),new pe(24,new W(2,43)),new pe(18,new W(2,15),new W(2,16)),new pe(22,new W(2,11),new W(2,12))),new ut(6,Int32Array.from([6,34]),new pe(18,new W(2,68)),new pe(16,new W(4,27)),new pe(24,new W(4,19)),new pe(28,new W(4,15))),new ut(7,Int32Array.from([6,22,38]),new pe(20,new W(2,78)),new pe(18,new W(4,31)),new pe(18,new W(2,14),new W(4,15)),new pe(26,new W(4,13),new W(1,14))),new ut(8,Int32Array.from([6,24,42]),new pe(24,new W(2,97)),new pe(22,new W(2,38),new W(2,39)),new pe(22,new W(4,18),new W(2,19)),new pe(26,new W(4,14),new W(2,15))),new ut(9,Int32Array.from([6,26,46]),new pe(30,new W(2,116)),new pe(22,new W(3,36),new W(2,37)),new pe(20,new W(4,16),new W(4,17)),new pe(24,new W(4,12),new W(4,13))),new ut(10,Int32Array.from([6,28,50]),new pe(18,new W(2,68),new W(2,69)),new pe(26,new W(4,43),new W(1,44)),new pe(24,new W(6,19),new W(2,20)),new pe(28,new W(6,15),new W(2,16))),new ut(11,Int32Array.from([6,30,54]),new pe(20,new W(4,81)),new pe(30,new W(1,50),new W(4,51)),new pe(28,new W(4,22),new W(4,23)),new pe(24,new W(3,12),new W(8,13))),new ut(12,Int32Array.from([6,32,58]),new pe(24,new W(2,92),new W(2,93)),new pe(22,new W(6,36),new W(2,37)),new pe(26,new W(4,20),new W(6,21)),new pe(28,new W(7,14),new W(4,15))),new ut(13,Int32Array.from([6,34,62]),new pe(26,new W(4,107)),new pe(22,new W(8,37),new W(1,38)),new pe(24,new W(8,20),new W(4,21)),new pe(22,new W(12,11),new W(4,12))),new ut(14,Int32Array.from([6,26,46,66]),new pe(30,new W(3,115),new W(1,116)),new pe(24,new W(4,40),new W(5,41)),new pe(20,new W(11,16),new W(5,17)),new pe(24,new W(11,12),new W(5,13))),new ut(15,Int32Array.from([6,26,48,70]),new pe(22,new W(5,87),new W(1,88)),new pe(24,new W(5,41),new W(5,42)),new pe(30,new W(5,24),new W(7,25)),new pe(24,new W(11,12),new W(7,13))),new ut(16,Int32Array.from([6,26,50,74]),new pe(24,new W(5,98),new W(1,99)),new pe(28,new W(7,45),new W(3,46)),new pe(24,new W(15,19),new W(2,20)),new pe(30,new W(3,15),new W(13,16))),new ut(17,Int32Array.from([6,30,54,78]),new pe(28,new W(1,107),new W(5,108)),new pe(28,new W(10,46),new W(1,47)),new pe(28,new W(1,22),new W(15,23)),new pe(28,new W(2,14),new W(17,15))),new ut(18,Int32Array.from([6,30,56,82]),new pe(30,new W(5,120),new W(1,121)),new pe(26,new W(9,43),new W(4,44)),new pe(28,new W(17,22),new W(1,23)),new pe(28,new W(2,14),new W(19,15))),new ut(19,Int32Array.from([6,30,58,86]),new pe(28,new W(3,113),new W(4,114)),new pe(26,new W(3,44),new W(11,45)),new pe(26,new W(17,21),new W(4,22)),new pe(26,new W(9,13),new W(16,14))),new ut(20,Int32Array.from([6,34,62,90]),new pe(28,new W(3,107),new W(5,108)),new pe(26,new W(3,41),new W(13,42)),new pe(30,new W(15,24),new W(5,25)),new pe(28,new W(15,15),new W(10,16))),new ut(21,Int32Array.from([6,28,50,72,94]),new pe(28,new W(4,116),new W(4,117)),new pe(26,new W(17,42)),new pe(28,new W(17,22),new W(6,23)),new pe(30,new W(19,16),new W(6,17))),new ut(22,Int32Array.from([6,26,50,74,98]),new pe(28,new W(2,111),new W(7,112)),new pe(28,new W(17,46)),new pe(30,new W(7,24),new W(16,25)),new pe(24,new W(34,13))),new ut(23,Int32Array.from([6,30,54,78,102]),new pe(30,new W(4,121),new W(5,122)),new pe(28,new W(4,47),new W(14,48)),new pe(30,new W(11,24),new W(14,25)),new pe(30,new W(16,15),new W(14,16))),new ut(24,Int32Array.from([6,28,54,80,106]),new pe(30,new W(6,117),new W(4,118)),new pe(28,new W(6,45),new W(14,46)),new pe(30,new W(11,24),new W(16,25)),new pe(30,new W(30,16),new W(2,17))),new ut(25,Int32Array.from([6,32,58,84,110]),new pe(26,new W(8,106),new W(4,107)),new pe(28,new W(8,47),new W(13,48)),new pe(30,new W(7,24),new W(22,25)),new pe(30,new W(22,15),new W(13,16))),new ut(26,Int32Array.from([6,30,58,86,114]),new pe(28,new W(10,114),new W(2,115)),new pe(28,new W(19,46),new W(4,47)),new pe(28,new W(28,22),new W(6,23)),new pe(30,new W(33,16),new W(4,17))),new ut(27,Int32Array.from([6,34,62,90,118]),new pe(30,new W(8,122),new W(4,123)),new pe(28,new W(22,45),new W(3,46)),new pe(30,new W(8,23),new W(26,24)),new pe(30,new W(12,15),new W(28,16))),new ut(28,Int32Array.from([6,26,50,74,98,122]),new pe(30,new W(3,117),new W(10,118)),new pe(28,new W(3,45),new W(23,46)),new pe(30,new W(4,24),new W(31,25)),new pe(30,new W(11,15),new W(31,16))),new ut(29,Int32Array.from([6,30,54,78,102,126]),new pe(30,new W(7,116),new W(7,117)),new pe(28,new W(21,45),new W(7,46)),new pe(30,new W(1,23),new W(37,24)),new pe(30,new W(19,15),new W(26,16))),new ut(30,Int32Array.from([6,26,52,78,104,130]),new pe(30,new W(5,115),new W(10,116)),new pe(28,new W(19,47),new W(10,48)),new pe(30,new W(15,24),new W(25,25)),new pe(30,new W(23,15),new W(25,16))),new ut(31,Int32Array.from([6,30,56,82,108,134]),new pe(30,new W(13,115),new W(3,116)),new pe(28,new W(2,46),new W(29,47)),new pe(30,new W(42,24),new W(1,25)),new pe(30,new W(23,15),new W(28,16))),new ut(32,Int32Array.from([6,34,60,86,112,138]),new pe(30,new W(17,115)),new pe(28,new W(10,46),new W(23,47)),new pe(30,new W(10,24),new W(35,25)),new pe(30,new W(19,15),new W(35,16))),new ut(33,Int32Array.from([6,30,58,86,114,142]),new pe(30,new W(17,115),new W(1,116)),new pe(28,new W(14,46),new W(21,47)),new pe(30,new W(29,24),new W(19,25)),new pe(30,new W(11,15),new W(46,16))),new ut(34,Int32Array.from([6,34,62,90,118,146]),new pe(30,new W(13,115),new W(6,116)),new pe(28,new W(14,46),new W(23,47)),new pe(30,new W(44,24),new W(7,25)),new pe(30,new W(59,16),new W(1,17))),new ut(35,Int32Array.from([6,30,54,78,102,126,150]),new pe(30,new W(12,121),new W(7,122)),new pe(28,new W(12,47),new W(26,48)),new pe(30,new W(39,24),new W(14,25)),new pe(30,new W(22,15),new W(41,16))),new ut(36,Int32Array.from([6,24,50,76,102,128,154]),new pe(30,new W(6,121),new W(14,122)),new pe(28,new W(6,47),new W(34,48)),new pe(30,new W(46,24),new W(10,25)),new pe(30,new W(2,15),new W(64,16))),new ut(37,Int32Array.from([6,28,54,80,106,132,158]),new pe(30,new W(17,122),new W(4,123)),new pe(28,new W(29,46),new W(14,47)),new pe(30,new W(49,24),new W(10,25)),new pe(30,new W(24,15),new W(46,16))),new ut(38,Int32Array.from([6,32,58,84,110,136,162]),new pe(30,new W(4,122),new W(18,123)),new pe(28,new W(13,46),new W(32,47)),new pe(30,new W(48,24),new W(14,25)),new pe(30,new W(42,15),new W(32,16))),new ut(39,Int32Array.from([6,26,54,82,110,138,166]),new pe(30,new W(20,117),new W(4,118)),new pe(28,new W(40,47),new W(7,48)),new pe(30,new W(43,24),new W(22,25)),new pe(30,new W(10,15),new W(67,16))),new ut(40,Int32Array.from([6,30,58,86,114,142,170]),new pe(30,new W(19,118),new W(6,119)),new pe(28,new W(18,47),new W(31,48)),new pe(30,new W(34,24),new W(34,25)),new pe(30,new W(20,15),new W(61,16)))];var on;(function(B){B[B.DATA_MASK_000=0]="DATA_MASK_000",B[B.DATA_MASK_001=1]="DATA_MASK_001",B[B.DATA_MASK_010=2]="DATA_MASK_010",B[B.DATA_MASK_011=3]="DATA_MASK_011",B[B.DATA_MASK_100=4]="DATA_MASK_100",B[B.DATA_MASK_101=5]="DATA_MASK_101",B[B.DATA_MASK_110=6]="DATA_MASK_110",B[B.DATA_MASK_111=7]="DATA_MASK_111"})(on||(on={}));class la{constructor(i,o){this.value=i,this.isMasked=o}unmaskBitMatrix(i,o){for(let u=0;u<o;u++)for(let h=0;h<o;h++)this.isMasked(u,h)&&i.flip(h,u)}}la.values=new Map([[on.DATA_MASK_000,new la(on.DATA_MASK_000,(B,i)=>(B+i&1)===0)],[on.DATA_MASK_001,new la(on.DATA_MASK_001,(B,i)=>(B&1)===0)],[on.DATA_MASK_010,new la(on.DATA_MASK_010,(B,i)=>i%3===0)],[on.DATA_MASK_011,new la(on.DATA_MASK_011,(B,i)=>(B+i)%3===0)],[on.DATA_MASK_100,new la(on.DATA_MASK_100,(B,i)=>(Math.floor(B/2)+Math.floor(i/3)&1)===0)],[on.DATA_MASK_101,new la(on.DATA_MASK_101,(B,i)=>B*i%6===0)],[on.DATA_MASK_110,new la(on.DATA_MASK_110,(B,i)=>B*i%6<3)],[on.DATA_MASK_111,new la(on.DATA_MASK_111,(B,i)=>(B+i+B*i%3&1)===0)]]);class ol{constructor(i){const o=i.getHeight();if(o<21||(o&3)!==1)throw new L;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let g=0;g<6;g++)i=this.copyBit(g,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let g=5;g>=0;g--)i=this.copyBit(8,g,i);const o=this.bitMatrix.getHeight();let u=0;const h=o-7;for(let g=o-1;g>=h;g--)u=this.copyBit(8,g,u);for(let g=o-8;g<o;g++)u=this.copyBit(g,8,u);if(this.parsedFormatInfo=hn.decodeFormatInformation(i,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),o=Math.floor((i-17)/4);if(o<=6)return ut.getVersionForNumber(o);let u=0;const h=i-11;for(let y=5;y>=0;y--)for(let S=i-9;S>=h;S--)u=this.copyBit(S,y,u);let g=ut.decodeVersionInformation(u);if(g!==null&&g.getDimensionForVersion()===i)return this.parsedVersion=g,g;u=0;for(let y=5;y>=0;y--)for(let S=i-9;S>=h;S--)u=this.copyBit(y,S,u);if(g=ut.decodeVersionInformation(u),g!==null&&g.getDimensionForVersion()===i)return this.parsedVersion=g,g;throw new L}copyBit(i,o,u){return(this.isMirror?this.bitMatrix.get(o,i):this.bitMatrix.get(i,o))?u<<1|1:u<<1}readCodewords(){const i=this.readFormatInformation(),o=this.readVersion(),u=la.values.get(i.getDataMask()),h=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,h);const g=o.buildFunctionPattern();let y=!0;const S=new Uint8Array(o.getTotalCodewords());let C=0,I=0,D=0;for(let z=h-1;z>0;z-=2){z===6&&z--;for(let H=0;H<h;H++){const K=y?h-1-H:H;for(let ae=0;ae<2;ae++)g.get(z-ae,K)||(D++,I<<=1,this.bitMatrix.get(z-ae,K)&&(I|=1),D===8&&(S[C++]=I,D=0,I=0))}y=!y}if(C!==o.getTotalCodewords())throw new L;return S}remask(){if(this.parsedFormatInfo===null)return;const i=la.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let o=0,u=i.getWidth();o<u;o++)for(let h=o+1,g=i.getHeight();h<g;h++)i.get(o,h)!==i.get(h,o)&&(i.flip(h,o),i.flip(o,h))}}class pu{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o,u){if(i.length!==o.getTotalCodewords())throw new A;const h=o.getECBlocksForLevel(u);let g=0;const y=h.getECBlocks();for(const ae of y)g+=ae.getCount();const S=new Array(g);let C=0;for(const ae of y)for(let le=0;le<ae.getCount();le++){const me=ae.getDataCodewords(),Ae=h.getECCodewordsPerBlock()+me;S[C++]=new pu(me,new Uint8Array(Ae))}const I=S[0].codewords.length;let D=S.length-1;for(;D>=0&&S[D].codewords.length!==I;)D--;D++;const z=I-h.getECCodewordsPerBlock();let H=0;for(let ae=0;ae<z;ae++)for(let le=0;le<C;le++)S[le].codewords[ae]=i[H++];for(let ae=D;ae<C;ae++)S[ae].codewords[z]=i[H++];const K=S[0].codewords.length;for(let ae=z;ae<K;ae++)for(let le=0;le<C;le++){const me=le<D?ae:ae+1;S[le].codewords[me]=i[H++]}return S}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var oa;(function(B){B[B.TERMINATOR=0]="TERMINATOR",B[B.NUMERIC=1]="NUMERIC",B[B.ALPHANUMERIC=2]="ALPHANUMERIC",B[B.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",B[B.BYTE=4]="BYTE",B[B.ECI=5]="ECI",B[B.KANJI=6]="KANJI",B[B.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",B[B.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",B[B.HANZI=9]="HANZI"})(oa||(oa={}));class pt{constructor(i,o,u,h){this.value=i,this.stringValue=o,this.characterCountBitsForVersions=u,this.bits=h,pt.FOR_BITS.set(h,this),pt.FOR_VALUE.set(i,this)}static forBits(i){const o=pt.FOR_BITS.get(i);if(o===void 0)throw new A;return o}getCharacterCountBits(i){const o=i.getVersionNumber();let u;return o<=9?u=0:o<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof pt))return!1;const o=i;return this.value===o.value}toString(){return this.stringValue}}pt.FOR_BITS=new Map,pt.FOR_VALUE=new Map,pt.TERMINATOR=new pt(oa.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),pt.NUMERIC=new pt(oa.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),pt.ALPHANUMERIC=new pt(oa.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),pt.STRUCTURED_APPEND=new pt(oa.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),pt.BYTE=new pt(oa.BYTE,"BYTE",Int32Array.from([8,16,16]),4),pt.ECI=new pt(oa.ECI,"ECI",Int32Array.from([0,0,0]),7),pt.KANJI=new pt(oa.KANJI,"KANJI",Int32Array.from([8,10,12]),8),pt.FNC1_FIRST_POSITION=new pt(oa.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),pt.FNC1_SECOND_POSITION=new pt(oa.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),pt.HANZI=new pt(oa.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Or{static decode(i,o,u,h){const g=new kt(i);let y=new ie;const S=new Array;let C=-1,I=-1;try{let D=null,z=!1,H;do{if(g.available()<4)H=pt.TERMINATOR;else{const K=g.readBits(4);H=pt.forBits(K)}switch(H){case pt.TERMINATOR:break;case pt.FNC1_FIRST_POSITION:case pt.FNC1_SECOND_POSITION:z=!0;break;case pt.STRUCTURED_APPEND:if(g.available()<16)throw new L;C=g.readBits(8),I=g.readBits(8);break;case pt.ECI:const K=Or.parseECIValue(g);if(D=Z.getCharacterSetECIByValue(K),D===null)throw new L;break;case pt.HANZI:const ae=g.readBits(4),le=g.readBits(H.getCharacterCountBits(o));ae===Or.GB2312_SUBSET&&Or.decodeHanziSegment(g,y,le);break;default:const me=g.readBits(H.getCharacterCountBits(o));switch(H){case pt.NUMERIC:Or.decodeNumericSegment(g,y,me);break;case pt.ALPHANUMERIC:Or.decodeAlphanumericSegment(g,y,me,z);break;case pt.BYTE:Or.decodeByteSegment(g,y,me,D,S,h);break;case pt.KANJI:Or.decodeKanjiSegment(g,y,me);break;default:throw new L}break}}while(H!==pt.TERMINATOR)}catch{throw new L}return new he(i,y.toString(),S.length===0?null:S,u===null?null:u.toString(),C,I)}static decodeHanziSegment(i,o,u){if(u*13>i.available())throw new L;const h=new Uint8Array(2*u);let g=0;for(;u>0;){const y=i.readBits(13);let S=y/96<<8&4294967295|y%96;S<959?S+=41377:S+=42657,h[g]=S>>8&255,h[g+1]=S&255,g+=2,u--}try{o.append(te.decode(h,Q.GB2312))}catch(y){throw new L(y)}}static decodeKanjiSegment(i,o,u){if(u*13>i.available())throw new L;const h=new Uint8Array(2*u);let g=0;for(;u>0;){const y=i.readBits(13);let S=y/192<<8&4294967295|y%192;S<7936?S+=33088:S+=49472,h[g]=S>>8,h[g+1]=S,g+=2,u--}try{o.append(te.decode(h,Q.SHIFT_JIS))}catch(y){throw new L(y)}}static decodeByteSegment(i,o,u,h,g,y){if(8*u>i.available())throw new L;const S=new Uint8Array(u);for(let I=0;I<u;I++)S[I]=i.readBits(8);let C;h===null?C=Q.guessEncoding(S,y):C=h.getName();try{o.append(te.decode(S,C))}catch(I){throw new L(I)}g.push(S)}static toAlphaNumericChar(i){if(i>=Or.ALPHANUMERIC_CHARS.length)throw new L;return Or.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,o,u,h){const g=o.length();for(;u>1;){if(i.available()<11)throw new L;const y=i.readBits(11);o.append(Or.toAlphaNumericChar(Math.floor(y/45))),o.append(Or.toAlphaNumericChar(y%45)),u-=2}if(u===1){if(i.available()<6)throw new L;o.append(Or.toAlphaNumericChar(i.readBits(6)))}if(h)for(let y=g;y<o.length();y++)o.charAt(y)==="%"&&(y<o.length()-1&&o.charAt(y+1)==="%"?o.deleteCharAt(y+1):o.setCharAt(y,""))}static decodeNumericSegment(i,o,u){for(;u>=3;){if(i.available()<10)throw new L;const h=i.readBits(10);if(h>=1e3)throw new L;o.append(Or.toAlphaNumericChar(Math.floor(h/100))),o.append(Or.toAlphaNumericChar(Math.floor(h/10)%10)),o.append(Or.toAlphaNumericChar(h%10)),u-=3}if(u===2){if(i.available()<7)throw new L;const h=i.readBits(7);if(h>=100)throw new L;o.append(Or.toAlphaNumericChar(Math.floor(h/10))),o.append(Or.toAlphaNumericChar(h%10))}else if(u===1){if(i.available()<4)throw new L;const h=i.readBits(4);if(h>=10)throw new L;o.append(Or.toAlphaNumericChar(h))}}static parseECIValue(i){const o=i.readBits(8);if((o&128)===0)return o&127;if((o&192)===128){const u=i.readBits(8);return(o&63)<<8&4294967295|u}if((o&224)===192){const u=i.readBits(16);return(o&31)<<16&4294967295|u}throw new L}}Or.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Or.GB2312_SUBSET=1;class gf{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const o=i[0];i[0]=i[2],i[2]=o}}class om{constructor(){this.rsDecoder=new Ct(Je.QR_CODE_FIELD_256)}decodeBooleanArray(i,o){return this.decodeBitMatrix(be.parseFromBooleanArray(i),o)}decodeBitMatrix(i,o){const u=new ol(i);let h=null;try{return this.decodeBitMatrixParser(u,o)}catch(g){h=g}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const g=this.decodeBitMatrixParser(u,o);return g.setOther(new gf(!0)),g}catch(g){throw h!==null?h:g}}decodeBitMatrixParser(i,o){const u=i.readVersion(),h=i.readFormatInformation().getErrorCorrectionLevel(),g=i.readCodewords(),y=pu.getDataBlocks(g,u,h);let S=0;for(const D of y)S+=D.getNumDataCodewords();const C=new Uint8Array(S);let I=0;for(const D of y){const z=D.getCodewords(),H=D.getNumDataCodewords();this.correctErrors(z,H);for(let K=0;K<H;K++)C[I++]=z[K]}return Or.decode(C,u,h,o)}correctErrors(i,o){const u=new Int32Array(i);try{this.rsDecoder.decode(u,i.length-o)}catch{throw new _}for(let h=0;h<o;h++)i[h]=u[h]}}class cl extends et{constructor(i,o,u){super(i,o),this.estimatedModuleSize=u}aboutEquals(i,o,u){if(Math.abs(o-this.getY())<=i&&Math.abs(u-this.getX())<=i){const h=Math.abs(i-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(i,o,u){const h=(this.getX()+o)/2,g=(this.getY()+i)/2,y=(this.estimatedModuleSize+u)/2;return new cl(h,g,y)}}class ba{constructor(i,o,u,h,g,y,S){this.image=i,this.startX=o,this.startY=u,this.width=h,this.height=g,this.moduleSize=y,this.resultPointCallback=S,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,o=this.height,u=this.width,h=i+u,g=this.startY+o/2,y=new Int32Array(3),S=this.image;for(let C=0;C<o;C++){const I=g+((C&1)===0?Math.floor((C+1)/2):-Math.floor((C+1)/2));y[0]=0,y[1]=0,y[2]=0;let D=i;for(;D<h&&!S.get(D,I);)D++;let z=0;for(;D<h;){if(S.get(D,I))if(z===1)y[1]++;else if(z===2){if(this.foundPatternCross(y)){const H=this.handlePossibleCenter(y,I,D);if(H!==null)return H}y[0]=y[2],y[1]=1,y[2]=0,z=1}else y[++z]++;else z===1&&z++,y[z]++;D++}if(this.foundPatternCross(y)){const H=this.handlePossibleCenter(y,I,h);if(H!==null)return H}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(i,o){return o-i[2]-i[1]/2}foundPatternCross(i){const o=this.moduleSize,u=o/2;for(let h=0;h<3;h++)if(Math.abs(o-i[h])>=u)return!1;return!0}crossCheckVertical(i,o,u,h){const g=this.image,y=g.getHeight(),S=this.crossCheckStateCount;S[0]=0,S[1]=0,S[2]=0;let C=i;for(;C>=0&&g.get(o,C)&&S[1]<=u;)S[1]++,C--;if(C<0||S[1]>u)return NaN;for(;C>=0&&!g.get(o,C)&&S[0]<=u;)S[0]++,C--;if(S[0]>u)return NaN;for(C=i+1;C<y&&g.get(o,C)&&S[1]<=u;)S[1]++,C++;if(C===y||S[1]>u)return NaN;for(;C<y&&!g.get(o,C)&&S[2]<=u;)S[2]++,C++;if(S[2]>u)return NaN;const I=S[0]+S[1]+S[2];return 5*Math.abs(I-h)>=2*h?NaN:this.foundPatternCross(S)?ba.centerFromEnd(S,C):NaN}handlePossibleCenter(i,o,u){const h=i[0]+i[1]+i[2],g=ba.centerFromEnd(i,u),y=this.crossCheckVertical(o,g,2*i[1],h);if(!isNaN(y)){const S=(i[0]+i[1]+i[2])/3;for(const I of this.possibleCenters)if(I.aboutEquals(S,y,g))return I.combineEstimate(y,g,S);const C=new cl(g,y,S);this.possibleCenters.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return null}}class to extends et{constructor(i,o,u,h){super(i,o),this.estimatedModuleSize=u,this.count=h,h===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,o,u){if(Math.abs(o-this.getY())<=i&&Math.abs(u-this.getX())<=i){const h=Math.abs(i-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(i,o,u){const h=this.count+1,g=(this.count*this.getX()+o)/h,y=(this.count*this.getY()+i)/h,S=(this.count*this.estimatedModuleSize+u)/h;return new to(g,y,S,h)}}class xu{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Rr{constructor(i,o){this.image=i,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const o=i!=null&&i.get(Y.TRY_HARDER)!==void 0,u=i!=null&&i.get(Y.PURE_BARCODE)!==void 0,h=this.image,g=h.getHeight(),y=h.getWidth();let S=Math.floor(3*g/(4*Rr.MAX_MODULES));(S<Rr.MIN_SKIP||o)&&(S=Rr.MIN_SKIP);let C=!1;const I=new Int32Array(5);for(let z=S-1;z<g&&!C;z+=S){I[0]=0,I[1]=0,I[2]=0,I[3]=0,I[4]=0;let H=0;for(let K=0;K<y;K++)if(h.get(K,z))(H&1)===1&&H++,I[H]++;else if((H&1)===0)if(H===4)if(Rr.foundPatternCross(I)){if(this.handlePossibleCenter(I,z,K,u)===!0)if(S=2,this.hasSkipped===!0)C=this.haveMultiplyConfirmedCenters();else{const le=this.findRowSkip();le>I[2]&&(z+=le-I[2]-S,K=y-1)}else{I[0]=I[2],I[1]=I[3],I[2]=I[4],I[3]=1,I[4]=0,H=3;continue}H=0,I[0]=0,I[1]=0,I[2]=0,I[3]=0,I[4]=0}else I[0]=I[2],I[1]=I[3],I[2]=I[4],I[3]=1,I[4]=0,H=3;else I[++H]++;else I[H]++;Rr.foundPatternCross(I)&&this.handlePossibleCenter(I,z,y,u)===!0&&(S=I[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}const D=this.selectBestPatterns();return et.orderBestPatterns(D),new xu(D)}static centerFromEnd(i,o){return o-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let o=0;for(let g=0;g<5;g++){const y=i[g];if(y===0)return!1;o+=y}if(o<7)return!1;const u=o/7,h=u/2;return Math.abs(u-i[0])<h&&Math.abs(u-i[1])<h&&Math.abs(3*u-i[2])<3*h&&Math.abs(u-i[3])<h&&Math.abs(u-i[4])<h}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,o,u,h){const g=this.getCrossCheckStateCount();let y=0;const S=this.image;for(;i>=y&&o>=y&&S.get(o-y,i-y);)g[2]++,y++;if(i<y||o<y)return!1;for(;i>=y&&o>=y&&!S.get(o-y,i-y)&&g[1]<=u;)g[1]++,y++;if(i<y||o<y||g[1]>u)return!1;for(;i>=y&&o>=y&&S.get(o-y,i-y)&&g[0]<=u;)g[0]++,y++;if(g[0]>u)return!1;const C=S.getHeight(),I=S.getWidth();for(y=1;i+y<C&&o+y<I&&S.get(o+y,i+y);)g[2]++,y++;if(i+y>=C||o+y>=I)return!1;for(;i+y<C&&o+y<I&&!S.get(o+y,i+y)&&g[3]<u;)g[3]++,y++;if(i+y>=C||o+y>=I||g[3]>=u)return!1;for(;i+y<C&&o+y<I&&S.get(o+y,i+y)&&g[4]<u;)g[4]++,y++;if(g[4]>=u)return!1;const D=g[0]+g[1]+g[2]+g[3]+g[4];return Math.abs(D-h)<2*h&&Rr.foundPatternCross(g)}crossCheckVertical(i,o,u,h){const g=this.image,y=g.getHeight(),S=this.getCrossCheckStateCount();let C=i;for(;C>=0&&g.get(o,C);)S[2]++,C--;if(C<0)return NaN;for(;C>=0&&!g.get(o,C)&&S[1]<=u;)S[1]++,C--;if(C<0||S[1]>u)return NaN;for(;C>=0&&g.get(o,C)&&S[0]<=u;)S[0]++,C--;if(S[0]>u)return NaN;for(C=i+1;C<y&&g.get(o,C);)S[2]++,C++;if(C===y)return NaN;for(;C<y&&!g.get(o,C)&&S[3]<u;)S[3]++,C++;if(C===y||S[3]>=u)return NaN;for(;C<y&&g.get(o,C)&&S[4]<u;)S[4]++,C++;if(S[4]>=u)return NaN;const I=S[0]+S[1]+S[2]+S[3]+S[4];return 5*Math.abs(I-h)>=2*h?NaN:Rr.foundPatternCross(S)?Rr.centerFromEnd(S,C):NaN}crossCheckHorizontal(i,o,u,h){const g=this.image,y=g.getWidth(),S=this.getCrossCheckStateCount();let C=i;for(;C>=0&&g.get(C,o);)S[2]++,C--;if(C<0)return NaN;for(;C>=0&&!g.get(C,o)&&S[1]<=u;)S[1]++,C--;if(C<0||S[1]>u)return NaN;for(;C>=0&&g.get(C,o)&&S[0]<=u;)S[0]++,C--;if(S[0]>u)return NaN;for(C=i+1;C<y&&g.get(C,o);)S[2]++,C++;if(C===y)return NaN;for(;C<y&&!g.get(C,o)&&S[3]<u;)S[3]++,C++;if(C===y||S[3]>=u)return NaN;for(;C<y&&g.get(C,o)&&S[4]<u;)S[4]++,C++;if(S[4]>=u)return NaN;const I=S[0]+S[1]+S[2]+S[3]+S[4];return 5*Math.abs(I-h)>=h?NaN:Rr.foundPatternCross(S)?Rr.centerFromEnd(S,C):NaN}handlePossibleCenter(i,o,u,h){const g=i[0]+i[1]+i[2]+i[3]+i[4];let y=Rr.centerFromEnd(i,u),S=this.crossCheckVertical(o,Math.floor(y),i[2],g);if(!isNaN(S)&&(y=this.crossCheckHorizontal(Math.floor(y),Math.floor(S),i[2],g),!isNaN(y)&&(!h||this.crossCheckDiagonal(Math.floor(S),Math.floor(y),i[2],g)))){const C=g/7;let I=!1;const D=this.possibleCenters;for(let z=0,H=D.length;z<H;z++){const K=D[z];if(K.aboutEquals(C,S,y)){D[z]=K.combineEstimate(S,y,C),I=!0;break}}if(!I){const z=new to(y,S,C);D.push(z),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(z)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const u of this.possibleCenters)if(u.getCount()>=Rr.CENTER_QUORUM)if(o==null)o=u;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-u.getX())-Math.abs(o.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,o=0;const u=this.possibleCenters.length;for(const y of this.possibleCenters)y.getCount()>=Rr.CENTER_QUORUM&&(i++,o+=y.getEstimatedModuleSize());if(i<3)return!1;const h=o/u;let g=0;for(const y of this.possibleCenters)g+=Math.abs(y.getEstimatedModuleSize()-h);return g<=.05*o}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new X;const o=this.possibleCenters;let u;if(i>3){let h=0,g=0;for(const C of this.possibleCenters){const I=C.getEstimatedModuleSize();h+=I,g+=I*I}u=h/i;let y=Math.sqrt(g/i-u*u);o.sort((C,I)=>{const D=Math.abs(I.getEstimatedModuleSize()-u),z=Math.abs(C.getEstimatedModuleSize()-u);return D<z?-1:D>z?1:0});const S=Math.max(.2*u,y);for(let C=0;C<o.length&&o.length>3;C++){const I=o[C];Math.abs(I.getEstimatedModuleSize()-u)>S&&(o.splice(C,1),C--)}}if(o.length>3){let h=0;for(const g of o)h+=g.getEstimatedModuleSize();u=h/o.length,o.sort((g,y)=>{if(y.getCount()===g.getCount()){const S=Math.abs(y.getEstimatedModuleSize()-u),C=Math.abs(g.getEstimatedModuleSize()-u);return S<C?1:S>C?-1:0}else return y.getCount()-g.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Rr.CENTER_QUORUM=2,Rr.MIN_SKIP=3,Rr.MAX_MODULES=57;class ri{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(Y.NEED_RESULT_POINT_CALLBACK);const u=new Rr(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(u)}processFinderPatternInfo(i){const o=i.getTopLeft(),u=i.getTopRight(),h=i.getBottomLeft(),g=this.calculateModuleSize(o,u,h);if(g<1)throw new X("No pattern found in proccess finder.");const y=ri.computeDimension(o,u,h,g),S=ut.getProvisionalVersionForDimension(y),C=S.getDimensionForVersion()-7;let I=null;if(S.getAlignmentPatternCenters().length>0){const K=u.getX()-o.getX()+h.getX(),ae=u.getY()-o.getY()+h.getY(),le=1-3/C,me=Math.floor(o.getX()+le*(K-o.getX())),Ae=Math.floor(o.getY()+le*(ae-o.getY()));for(let Xe=4;Xe<=16;Xe<<=1)try{I=this.findAlignmentInRegion(g,me,Ae,Xe);break}catch(qe){if(!(qe instanceof X))throw qe}}const D=ri.createTransform(o,u,h,I,y),z=ri.sampleGrid(this.image,D,y);let H;return I===null?H=[h,o,u]:H=[h,o,u,I],new ka(z,H)}static createTransform(i,o,u,h,g){const y=g-3.5;let S,C,I,D;return h!==null?(S=h.getX(),C=h.getY(),I=y-3,D=I):(S=o.getX()-i.getX()+u.getX(),C=o.getY()-i.getY()+u.getY(),I=y,D=y),In.quadrilateralToQuadrilateral(3.5,3.5,y,3.5,I,D,3.5,y,i.getX(),i.getY(),o.getX(),o.getY(),S,C,u.getX(),u.getY())}static sampleGrid(i,o,u){return Hn.getInstance().sampleGridWithTransform(i,u,u,o)}static computeDimension(i,o,u,h){const g=lt.round(et.distance(i,o)/h),y=lt.round(et.distance(i,u)/h);let S=Math.floor((g+y)/2)+7;switch(S&3){case 0:S++;break;case 2:S--;break;case 3:throw new X("Dimensions could be not found.")}return S}calculateModuleSize(i,o,u){return(this.calculateModuleSizeOneWay(i,o)+this.calculateModuleSizeOneWay(i,u))/2}calculateModuleSizeOneWay(i,o){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(o.getX()),Math.floor(o.getY())),h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(u)?h/7:isNaN(h)?u/7:(u+h)/14}sizeOfBlackWhiteBlackRunBothWays(i,o,u,h){let g=this.sizeOfBlackWhiteBlackRun(i,o,u,h),y=1,S=i-(u-i);S<0?(y=i/(i-S),S=0):S>=this.image.getWidth()&&(y=(this.image.getWidth()-1-i)/(S-i),S=this.image.getWidth()-1);let C=Math.floor(o-(h-o)*y);return y=1,C<0?(y=o/(o-C),C=0):C>=this.image.getHeight()&&(y=(this.image.getHeight()-1-o)/(C-o),C=this.image.getHeight()-1),S=Math.floor(i+(S-i)*y),g+=this.sizeOfBlackWhiteBlackRun(i,o,S,C),g-1}sizeOfBlackWhiteBlackRun(i,o,u,h){const g=Math.abs(h-o)>Math.abs(u-i);if(g){let K=i;i=o,o=K,K=u,u=h,h=K}const y=Math.abs(u-i),S=Math.abs(h-o);let C=-y/2;const I=i<u?1:-1,D=o<h?1:-1;let z=0;const H=u+I;for(let K=i,ae=o;K!==H;K+=I){const le=g?ae:K,me=g?K:ae;if(z===1===this.image.get(le,me)){if(z===2)return lt.distance(K,ae,i,o);z++}if(C+=S,C>0){if(ae===h)break;ae+=D,C-=y}}return z===2?lt.distance(u+I,h,i,o):NaN}findAlignmentInRegion(i,o,u,h){const g=Math.floor(h*i),y=Math.max(0,o-g),S=Math.min(this.image.getWidth()-1,o+g);if(S-y<i*3)throw new X("Alignment top exceeds estimated module size.");const C=Math.max(0,u-g),I=Math.min(this.image.getHeight()-1,u+g);if(I-C<i*3)throw new X("Alignment bottom exceeds estimated module size.");return new ba(this.image,y,C,S-y,I-C,i,this.resultPointCallback).find()}}class Ei{constructor(){this.decoder=new om}getDecoder(){return this.decoder}decode(i,o){let u,h;if(o!=null&&o.get(Y.PURE_BARCODE)!==void 0){const C=Ei.extractPureBits(i.getBlackMatrix());u=this.decoder.decodeBitMatrix(C,o),h=Ei.NO_POINTS}else{const C=new ri(i.getBlackMatrix()).detect(o);u=this.decoder.decodeBitMatrix(C.getBits(),o),h=C.getPoints()}u.getOther()instanceof gf&&u.getOther().applyMirroredCorrection(h);const g=new Pe(u.getText(),u.getRawBytes(),void 0,h,J.QR_CODE,void 0),y=u.getByteSegments();y!==null&&g.putMetadata(Ze.BYTE_SEGMENTS,y);const S=u.getECLevel();return S!==null&&g.putMetadata(Ze.ERROR_CORRECTION_LEVEL,S),u.hasStructuredAppend()&&(g.putMetadata(Ze.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),g.putMetadata(Ze.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),g}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),u=i.getBottomRightOnBit();if(o===null||u===null)throw new X;const h=this.moduleSize(o,i);let g=o[1],y=u[1],S=o[0],C=u[0];if(S>=C||g>=y)throw new X;if(y-g!==C-S&&(C=S+(y-g),C>=i.getWidth()))throw new X;const I=Math.round((C-S+1)/h),D=Math.round((y-g+1)/h);if(I<=0||D<=0)throw new X;if(D!==I)throw new X;const z=Math.floor(h/2);g+=z,S+=z;const H=S+Math.floor((I-1)*h)-C;if(H>0){if(H>z)throw new X;S-=H}const K=g+Math.floor((D-1)*h)-y;if(K>0){if(K>z)throw new X;g-=K}const ae=new be(I,D);for(let le=0;le<D;le++){const me=g+Math.floor(le*h);for(let Ae=0;Ae<I;Ae++)i.get(S+Math.floor(Ae*h),me)&&ae.set(Ae,le)}return ae}static moduleSize(i,o){const u=o.getHeight(),h=o.getWidth();let g=i[0],y=i[1],S=!0,C=0;for(;g<h&&y<u;){if(S!==o.get(g,y)){if(++C===5)break;S=!S}g++,y++}if(g===h||y===u)throw new X;return(g-i[0])/7}}Ei.NO_POINTS=new Array;class At{PDF417Common(){}static getBitCountSum(i){return lt.sum(i)}static toIntArray(i){if(i==null||!i.length)return At.EMPTY_INT_ARRAY;const o=new Int32Array(i.length);let u=0;for(const h of i)o[u++]=h;return o}static getCodeword(i){const o=F.binarySearch(At.SYMBOL_TABLE,i&262143);return o<0?-1:(At.CODEWORD_TABLE[o]-1)%At.NUMBER_OF_CODEWORDS}}At.NUMBER_OF_CODEWORDS=929,At.MAX_CODEWORDS_IN_BARCODE=At.NUMBER_OF_CODEWORDS-1,At.MIN_ROWS_IN_BARCODE=3,At.MAX_ROWS_IN_BARCODE=90,At.MODULES_IN_CODEWORD=17,At.MODULES_IN_STOP_PATTERN=18,At.BARS_IN_MODULE=8,At.EMPTY_INT_ARRAY=new Int32Array([]),At.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),At.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class pf{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Dt{static detectMultiple(i,o,u){let h=i.getBlackMatrix(),g=Dt.detect(u,h);return g.length||(h=h.clone(),h.rotate180(),g=Dt.detect(u,h)),new pf(h,g)}static detect(i,o){const u=new Array;let h=0,g=0,y=!1;for(;h<o.getHeight();){const S=Dt.findVertices(o,h,g);if(S[0]==null&&S[3]==null){if(!y)break;y=!1,g=0;for(const C of u)C[1]!=null&&(h=Math.trunc(Math.max(h,C[1].getY()))),C[3]!=null&&(h=Math.max(h,Math.trunc(C[3].getY())));h+=Dt.ROW_STEP;continue}if(y=!0,u.push(S),!i)break;S[2]!=null?(g=Math.trunc(S[2].getX()),h=Math.trunc(S[2].getY())):(g=Math.trunc(S[4].getX()),h=Math.trunc(S[4].getY()))}return u}static findVertices(i,o,u){const h=i.getHeight(),g=i.getWidth(),y=new Array(8);return Dt.copyToResult(y,Dt.findRowsWithPattern(i,h,g,o,u,Dt.START_PATTERN),Dt.INDEXES_START_PATTERN),y[4]!=null&&(u=Math.trunc(y[4].getX()),o=Math.trunc(y[4].getY())),Dt.copyToResult(y,Dt.findRowsWithPattern(i,h,g,o,u,Dt.STOP_PATTERN),Dt.INDEXES_STOP_PATTERN),y}static copyToResult(i,o,u){for(let h=0;h<u.length;h++)i[u[h]]=o[h]}static findRowsWithPattern(i,o,u,h,g,y){const S=new Array(4);let C=!1;const I=new Int32Array(y.length);for(;h<o;h+=Dt.ROW_STEP){let z=Dt.findGuardPattern(i,g,h,u,!1,y,I);if(z!=null){for(;h>0;){const H=Dt.findGuardPattern(i,g,--h,u,!1,y,I);if(H!=null)z=H;else{h++;break}}S[0]=new et(z[0],h),S[1]=new et(z[1],h),C=!0;break}}let D=h+1;if(C){let z=0,H=Int32Array.from([Math.trunc(S[0].getX()),Math.trunc(S[1].getX())]);for(;D<o;D++){const K=Dt.findGuardPattern(i,H[0],D,u,!1,y,I);if(K!=null&&Math.abs(H[0]-K[0])<Dt.MAX_PATTERN_DRIFT&&Math.abs(H[1]-K[1])<Dt.MAX_PATTERN_DRIFT)H=K,z=0;else{if(z>Dt.SKIPPED_ROW_COUNT_MAX)break;z++}}D-=z+1,S[2]=new et(H[0],D),S[3]=new et(H[1],D)}return D-h<Dt.BARCODE_MIN_HEIGHT&&F.fill(S,null),S}static findGuardPattern(i,o,u,h,g,y,S){F.fillWithin(S,0,S.length,0);let C=o,I=0;for(;i.get(C,u)&&C>0&&I++<Dt.MAX_PIXEL_DRIFT;)C--;let D=C,z=0,H=y.length;for(let K=g;D<h;D++)if(i.get(D,u)!==K)S[z]++;else{if(z===H-1){if(Dt.patternMatchVariance(S,y,Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE)return new Int32Array([C,D]);C+=S[0]+S[1],M.arraycopy(S,2,S,0,z-1),S[z-1]=0,S[z]=0,z--}else z++;S[z]=1,K=!K}return z===H-1&&Dt.patternMatchVariance(S,y,Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE?new Int32Array([C,D-1]):null}static patternMatchVariance(i,o,u){let h=i.length,g=0,y=0;for(let I=0;I<h;I++)g+=i[I],y+=o[I];if(g<y)return 1/0;let S=g/y;u*=S;let C=0;for(let I=0;I<h;I++){let D=i[I],z=o[I]*S,H=D>z?D-z:z-D;if(H>u)return 1/0;C+=H}return C/g}}Dt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Dt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Dt.MAX_AVG_VARIANCE=.42,Dt.MAX_INDIVIDUAL_VARIANCE=.8,Dt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Dt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Dt.MAX_PIXEL_DRIFT=3,Dt.MAX_PATTERN_DRIFT=5,Dt.SKIPPED_ROW_COUNT_MAX=25,Dt.ROW_STEP=5,Dt.BARCODE_MIN_HEIGHT=10;class Ir{constructor(i,o){if(o.length===0)throw new A;this.field=i;let u=o.length;if(u>1&&o[0]===0){let h=1;for(;h<u&&o[h]===0;)h++;h===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-h),M.arraycopy(o,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let h=0;for(let g of this.coefficients)h=this.field.add(h,g);return h}let o=this.coefficients[0],u=this.coefficients.length;for(let h=1;h<u;h++)o=this.field.add(this.field.multiply(i,o),this.coefficients[h]);return o}add(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,u=i.coefficients;if(o.length>u.length){let y=o;o=u,u=y}let h=new Int32Array(u.length),g=u.length-o.length;M.arraycopy(u,0,h,0,g);for(let y=g;y<u.length;y++)h[y]=this.field.add(o[y-g],u[y]);return new Ir(this.field,h)}subtract(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof Ir?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new Ir(this.field,new Int32Array([0]));let o=this.coefficients,u=o.length,h=i.coefficients,g=h.length,y=new Int32Array(u+g-1);for(let S=0;S<u;S++){let C=o[S];for(let I=0;I<g;I++)y[S+I]=this.field.add(y[S+I],this.field.multiply(C,h[I]))}return new Ir(this.field,y)}negative(){let i=this.coefficients.length,o=new Int32Array(i);for(let u=0;u<i;u++)o[u]=this.field.subtract(0,this.coefficients[u]);return new Ir(this.field,o)}multiplyScalar(i){if(i===0)return new Ir(this.field,new Int32Array([0]));if(i===1)return this;let o=this.coefficients.length,u=new Int32Array(o);for(let h=0;h<o;h++)u[h]=this.field.multiply(this.coefficients[h],i);return new Ir(this.field,u)}multiplyByMonomial(i,o){if(i<0)throw new A;if(o===0)return new Ir(this.field,new Int32Array([0]));let u=this.coefficients.length,h=new Int32Array(u+i);for(let g=0;g<u;g++)h[g]=this.field.multiply(this.coefficients[g],o);return new Ir(this.field,h)}toString(){let i=new ie;for(let o=this.getDegree();o>=0;o--){let u=this.getCoefficient(o);u!==0&&(u<0?(i.append(" - "),u=-u):i.length()>0&&i.append(" + "),(o===0||u!==1)&&i.append(u),o!==0&&(o===1?i.append("x"):(i.append("x^"),i.append(o))))}return i.toString()}}class vu{add(i,o){return(i+o)%this.modulus}subtract(i,o){return(this.modulus+i-o)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new A;return this.logTable[i]}inverse(i){if(i===0)throw new Be;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class hs extends vu{constructor(i,o){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let u=1;for(let h=0;h<i;h++)this.expTable[h]=u,u=u*o%i;for(let h=0;h<i-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new Ir(this,new Int32Array([0])),this.one=new Ir(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new A;if(o===0)return this.zero;let u=new Int32Array(i+1);return u[0]=o,new Ir(this,u)}}hs.PDF417_GF=new hs(At.NUMBER_OF_CODEWORDS,3);class Ci{constructor(){this.field=hs.PDF417_GF}decode(i,o,u){let h=new Ir(this.field,i),g=new Int32Array(o),y=!1;for(let ae=o;ae>0;ae--){let le=h.evaluateAt(this.field.exp(ae));g[o-ae]=le,le!==0&&(y=!0)}if(!y)return 0;let S=this.field.getOne();if(u!=null)for(const ae of u){let le=this.field.exp(i.length-1-ae),me=new Ir(this.field,new Int32Array([this.field.subtract(0,le),1]));S=S.multiply(me)}let C=new Ir(this.field,g),I=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),C,o),D=I[0],z=I[1],H=this.findErrorLocations(D),K=this.findErrorMagnitudes(z,D,H);for(let ae=0;ae<H.length;ae++){let le=i.length-1-this.field.log(H[ae]);if(le<0)throw _.getChecksumInstance();i[le]=this.field.subtract(i[le],K[ae])}return H.length}runEuclideanAlgorithm(i,o,u){if(i.getDegree()<o.getDegree()){let H=i;i=o,o=H}let h=i,g=o,y=this.field.getZero(),S=this.field.getOne();for(;g.getDegree()>=Math.round(u/2);){let H=h,K=y;if(h=g,y=S,h.isZero())throw _.getChecksumInstance();g=H;let ae=this.field.getZero(),le=h.getCoefficient(h.getDegree()),me=this.field.inverse(le);for(;g.getDegree()>=h.getDegree()&&!g.isZero();){let Ae=g.getDegree()-h.getDegree(),Xe=this.field.multiply(g.getCoefficient(g.getDegree()),me);ae=ae.add(this.field.buildMonomial(Ae,Xe)),g=g.subtract(h.multiplyByMonomial(Ae,Xe))}S=ae.multiply(y).subtract(K).negative()}let C=S.getCoefficient(0);if(C===0)throw _.getChecksumInstance();let I=this.field.inverse(C),D=S.multiply(I),z=g.multiply(I);return[D,z]}findErrorLocations(i){let o=i.getDegree(),u=new Int32Array(o),h=0;for(let g=1;g<this.field.getSize()&&h<o;g++)i.evaluateAt(g)===0&&(u[h]=this.field.inverse(g),h++);if(h!==o)throw _.getChecksumInstance();return u}findErrorMagnitudes(i,o,u){let h=o.getDegree(),g=new Int32Array(h);for(let I=1;I<=h;I++)g[h-I]=this.field.multiply(I,o.getCoefficient(I));let y=new Ir(this.field,g),S=u.length,C=new Int32Array(S);for(let I=0;I<S;I++){let D=this.field.inverse(u[I]),z=this.field.subtract(0,i.evaluateAt(D)),H=this.field.inverse(y.evaluateAt(D));C[I]=this.field.multiply(z,H)}return C}}class Ni{constructor(i,o,u,h,g){i instanceof Ni?this.constructor_2(i):this.constructor_1(i,o,u,h,g)}constructor_1(i,o,u,h,g){const y=o==null||u==null,S=h==null||g==null;if(y&&S)throw new X;y?(o=new et(0,h.getY()),u=new et(0,g.getY())):S&&(h=new et(i.getWidth()-1,o.getY()),g=new et(i.getWidth()-1,u.getY())),this.image=i,this.topLeft=o,this.bottomLeft=u,this.topRight=h,this.bottomRight=g,this.minX=Math.trunc(Math.min(o.getX(),u.getX())),this.maxX=Math.trunc(Math.max(h.getX(),g.getX())),this.minY=Math.trunc(Math.min(o.getY(),h.getY())),this.maxY=Math.trunc(Math.max(u.getY(),g.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,o){return i==null?o:o==null?i:new Ni(i.image,i.topLeft,i.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(i,o,u){let h=this.topLeft,g=this.bottomLeft,y=this.topRight,S=this.bottomRight;if(i>0){let C=u?this.topLeft:this.topRight,I=Math.trunc(C.getY()-i);I<0&&(I=0);let D=new et(C.getX(),I);u?h=D:y=D}if(o>0){let C=u?this.bottomLeft:this.bottomRight,I=Math.trunc(C.getY()+o);I>=this.image.getHeight()&&(I=this.image.getHeight()-1);let D=new et(C.getX(),I);u?g=D:S=D}return new Ni(this.image,h,g,y,S)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class tc{constructor(i,o,u,h){this.columnCount=i,this.errorCorrectionLevel=h,this.rowCountUpperPart=o,this.rowCountLowerPart=u,this.rowCount=o+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ul{constructor(){this.buffer=""}static form(i,o){let u=-1;function h(y,S,C,I,D,z){if(y==="%%")return"%";if(o[++u]===void 0)return;y=I?parseInt(I.substr(1)):void 0;let H=D?parseInt(D.substr(1)):void 0,K;switch(z){case"s":K=o[u];break;case"c":K=o[u][0];break;case"f":K=parseFloat(o[u]).toFixed(y);break;case"p":K=parseFloat(o[u]).toPrecision(y);break;case"e":K=parseFloat(o[u]).toExponential(y);break;case"x":K=parseInt(o[u]).toString(H||16);break;case"d":K=parseFloat(parseInt(o[u],H||10).toPrecision(y)).toFixed(0);break}K=typeof K=="object"?JSON.stringify(K):(+K).toString(H);let ae=parseInt(C),le=C&&C[0]+""=="0"?"0":" ";for(;K.length<ae;)K=S!==void 0?K+le:le+K;return K}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(g,h)}format(i,...o){this.buffer+=ul.form(i,o)}toString(){return this.buffer}}class Gi{constructor(i){this.boundingBox=new Ni(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let o=this.getCodeword(i);if(o!=null)return o;for(let u=1;u<Gi.MAX_NEARBY_DISTANCE;u++){let h=this.imageRowToCodewordIndex(i)-u;if(h>=0&&(o=this.codewords[h],o!=null)||(h=this.imageRowToCodewordIndex(i)+u,h<this.codewords.length&&(o=this.codewords[h],o!=null)))return o}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,o){this.codewords[this.imageRowToCodewordIndex(i)]=o}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new ul;let o=0;for(const u of this.codewords){if(u==null){i.format("%3d:    |   %n",o++);continue}i.format("%3d: %3d|%3d%n",o++,u.getRowNumber(),u.getValue())}return i.toString()}}Gi.MAX_NEARBY_DISTANCE=5;class Vi{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let o=this.values.get(i);o==null&&(o=0),o++,this.values.set(i,o)}getValue(){let i=-1,o=new Array;for(const[u,h]of this.values.entries()){const g={getKey:()=>u,getValue:()=>h};g.getValue()>i?(i=g.getValue(),o=[],o.push(g.getKey())):g.getValue()===i&&o.push(g.getKey())}return At.toIntArray(o)}getConfidence(i){return this.values.get(i)}}class yu extends Gi{constructor(i,o){super(i),this._isLeft=o}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,i);let u=this.getBoundingBox(),h=this._isLeft?u.getTopLeft():u.getTopRight(),g=this._isLeft?u.getBottomLeft():u.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),S=this.imageRowToCodewordIndex(Math.trunc(g.getY())),C=-1,I=1,D=0;for(let z=y;z<S;z++){if(o[z]==null)continue;let H=o[z],K=H.getRowNumber()-C;if(K===0)D++;else if(K===1)I=Math.max(I,D),D=1,C=H.getRowNumber();else if(K<0||H.getRowNumber()>=i.getRowCount()||K>z)o[z]=null;else{let ae;I>2?ae=(I-2)*K:ae=K;let le=ae>=z;for(let me=1;me<=ae&&!le;me++)le=o[z-me]!=null;le?o[z]=null:(C=H.getRowNumber(),D=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let o=new Int32Array(i.getRowCount());for(let u of this.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=o.length)continue;o[h]++}return o}adjustIncompleteIndicatorColumnRowNumbers(i){let o=this.getBoundingBox(),u=this._isLeft?o.getTopLeft():o.getTopRight(),h=this._isLeft?o.getBottomLeft():o.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),S=this.getCodewords(),C=-1;for(let I=g;I<y;I++){if(S[I]==null)continue;let D=S[I];D.setRowNumberAsRowIndicatorColumn();let z=D.getRowNumber()-C;z===0||(z===1?C=D.getRowNumber():D.getRowNumber()>=i.getRowCount()?S[I]=null:C=D.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),o=new Vi,u=new Vi,h=new Vi,g=new Vi;for(let S of i){if(S==null)continue;S.setRowNumberAsRowIndicatorColumn();let C=S.getValue()%30,I=S.getRowNumber();switch(this._isLeft||(I+=2),I%3){case 0:u.setValue(C*3+1);break;case 1:g.setValue(C/3),h.setValue(C%3);break;case 2:o.setValue(C+1);break}}if(o.getValue().length===0||u.getValue().length===0||h.getValue().length===0||g.getValue().length===0||o.getValue()[0]<1||u.getValue()[0]+h.getValue()[0]<At.MIN_ROWS_IN_BARCODE||u.getValue()[0]+h.getValue()[0]>At.MAX_ROWS_IN_BARCODE)return null;let y=new tc(o.getValue()[0],u.getValue()[0],h.getValue()[0],g.getValue()[0]);return this.removeIncorrectCodewords(i,y),y}removeIncorrectCodewords(i,o){for(let u=0;u<i.length;u++){let h=i[u];if(i[u]==null)continue;let g=h.getValue()%30,y=h.getRowNumber();if(y>o.getRowCount()){i[u]=null;continue}switch(this._isLeft||(y+=2),y%3){case 0:g*3+1!==o.getRowCountUpperPart()&&(i[u]=null);break;case 1:(Math.trunc(g/3)!==o.getErrorCorrectionLevel()||g%3!==o.getRowCountLowerPart())&&(i[u]=null);break;case 2:g+1!==o.getColumnCount()&&(i[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class mn{constructor(i,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=At.MAX_CODEWORDS_IN_BARCODE,o;do o=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let u=this.detectionResultColumns[o].getCodewords();for(let h=0;h<u.length;h++)u[h]!=null&&(u[h].hasValidRowNumber()||this.adjustRowNumbers(o,h,u))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<i.length;u++)if(i[u]!=null&&o[u]!=null&&i[u].getRowNumber()===o[u].getRowNumber())for(let h=1;h<=this.barcodeColumnCount;h++){let g=this.detectionResultColumns[h].getCodewords()[u];g!=null&&(g.setRowNumber(i[u].getRowNumber()),g.hasValidRowNumber()||(this.detectionResultColumns[h].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<o.length;u++){if(o[u]==null)continue;let h=o[u].getRowNumber(),g=0;for(let y=this.barcodeColumnCount+1;y>0&&g<this.ADJUST_ROW_NUMBER_SKIP;y--){let S=this.detectionResultColumns[y].getCodewords()[u];S!=null&&(g=mn.adjustRowNumberIfValid(h,g,S),S.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,o=this.detectionResultColumns[0].getCodewords();for(let u=0;u<o.length;u++){if(o[u]==null)continue;let h=o[u].getRowNumber(),g=0;for(let y=1;y<this.barcodeColumnCount+1&&g<this.ADJUST_ROW_NUMBER_SKIP;y++){let S=this.detectionResultColumns[y].getCodewords()[u];S!=null&&(g=mn.adjustRowNumberIfValid(h,g,S),S.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,o,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(i)?(u.setRowNumber(i),o=0):++o),o}adjustRowNumbers(i,o,u){if(!this.detectionResultColumns[i-1])return;let h=u[o],g=this.detectionResultColumns[i-1].getCodewords(),y=g;this.detectionResultColumns[i+1]!=null&&(y=this.detectionResultColumns[i+1].getCodewords());let S=new Array(14);S[2]=g[o],S[3]=y[o],o>0&&(S[0]=u[o-1],S[4]=g[o-1],S[5]=y[o-1]),o>1&&(S[8]=u[o-2],S[10]=g[o-2],S[11]=y[o-2]),o<u.length-1&&(S[1]=u[o+1],S[6]=g[o+1],S[7]=y[o+1]),o<u.length-2&&(S[9]=u[o+2],S[12]=g[o+2],S[13]=y[o+2]);for(let C of S)if(mn.adjustRowNumber(h,C))return}static adjustRowNumber(i,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===i.getBucket()?(i.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,o){this.detectionResultColumns[i]=o}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new ul;for(let u=0;u<i.getCodewords().length;u++){o.format("CW %3d:",u);for(let h=0;h<this.barcodeColumnCount+2;h++){if(this.detectionResultColumns[h]==null){o.format("    |   ");continue}let g=this.detectionResultColumns[h].getCodewords()[u];if(g==null){o.format("    |   ");continue}o.format(" %3d|%3d",g.getRowNumber(),g.getValue())}o.format("%n")}return o.toString()}}class Pa{constructor(i,o,u,h){this.rowNumber=Pa.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(o),this.bucket=Math.trunc(u),this.value=Math.trunc(h)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==Pa.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}Pa.BARCODE_ROW_UNKNOWN=-1;class An{static initialize(){for(let i=0;i<At.SYMBOL_TABLE.length;i++){let o=At.SYMBOL_TABLE[i],u=o&1;for(let h=0;h<At.BARS_IN_MODULE;h++){let g=0;for(;(o&1)===u;)g+=1,o>>=1;u=o&1,An.RATIOS_TABLE[i]||(An.RATIOS_TABLE[i]=new Array(At.BARS_IN_MODULE)),An.RATIOS_TABLE[i][At.BARS_IN_MODULE-h-1]=Math.fround(g/At.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let o=An.getDecodedCodewordValue(An.sampleBitCounts(i));return o!==-1?o:An.getClosestDecodedValue(i)}static sampleBitCounts(i){let o=lt.sum(i),u=new Int32Array(At.BARS_IN_MODULE),h=0,g=0;for(let y=0;y<At.MODULES_IN_CODEWORD;y++){let S=o/(2*At.MODULES_IN_CODEWORD)+y*o/At.MODULES_IN_CODEWORD;g+i[h]<=S&&(g+=i[h],h++),u[h]++}return u}static getDecodedCodewordValue(i){let o=An.getBitValue(i);return At.getCodeword(o)===-1?-1:o}static getBitValue(i){let o=0;for(let u=0;u<i.length;u++)for(let h=0;h<i[u];h++)o=o<<1|(u%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(i){let o=lt.sum(i),u=new Array(At.BARS_IN_MODULE);if(o>1)for(let y=0;y<u.length;y++)u[y]=Math.fround(i[y]/o);let h=wn.MAX_VALUE,g=-1;this.bSymbolTableReady||An.initialize();for(let y=0;y<An.RATIOS_TABLE.length;y++){let S=0,C=An.RATIOS_TABLE[y];for(let I=0;I<At.BARS_IN_MODULE;I++){let D=Math.fround(C[I]-u[I]);if(S+=Math.fround(D*D),S>=h)break}S<h&&(h=S,g=At.SYMBOL_TABLE[y])}return g}}An.bSymbolTableReady=!1,An.RATIOS_TABLE=new Array(At.SYMBOL_TABLE.length).map(B=>new Array(At.BARS_IN_MODULE));class dl{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class xf{static parseLong(i,o=void 0){return parseInt(i,o)}}class rc extends v{}rc.kind="NullPointerException";class bu{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,o,u){if(i==null)throw new rc;if(o<0||o>i.length||u<0||o+u>i.length||o+u<0)throw new k;if(u===0)return;for(let h=0;h<u;h++)this.write(i[o+h])}flush(){}close(){}}class ro extends v{}class nc extends bu{constructor(i=32){if(super(),this.count=0,i<0)throw new A("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let u=this.buf.length<<1;if(u-i<0&&(u=i),u<0){if(i<0)throw new ro;u=U.MAX_VALUE}this.buf=F.copyOfUint8Array(this.buf,u)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,o,u){if(o<0||o>i.length||u<0||o+u-i.length>0)throw new k;this.ensureCapacity(this.count+u),M.arraycopy(i,o,this.buf,this.count,u),this.count+=u}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return F.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var or;(function(B){B[B.ALPHA=0]="ALPHA",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.PUNCT=3]="PUNCT",B[B.ALPHA_SHIFT=4]="ALPHA_SHIFT",B[B.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(or||(or={}));function vf(){if(typeof window<"u")return window.BigInt||null;if(typeof I0<"u")return I0.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ac;function Yi(B){if(typeof ac>"u"&&(ac=vf()),ac===null)throw new Error("BigInt is not supported!");return ac(B)}function wu(){let B=[];B[0]=Yi(1);let i=Yi(900);B[1]=i;for(let o=2;o<16;o++)B[o]=B[o-1]*i;return B}class Ee{static decode(i,o){let u=new ie(""),h=Z.ISO8859_1;u.enableDecoding(h);let g=1,y=i[g++],S=new dl;for(;g<i[0];){switch(y){case Ee.TEXT_COMPACTION_MODE_LATCH:g=Ee.textCompaction(i,g,u);break;case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:g=Ee.byteCompaction(y,i,h,g,u);break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[g++]);break;case Ee.NUMERIC_COMPACTION_MODE_LATCH:g=Ee.numericCompaction(i,g,u);break;case Ee.ECI_CHARSET:Z.getCharacterSetECIByValue(i[g++]);break;case Ee.ECI_GENERAL_PURPOSE:g+=2;break;case Ee.ECI_USER_DEFINED:g++;break;case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:g=Ee.decodeMacroBlock(i,g,S);break;case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:throw new L;default:g--,g=Ee.textCompaction(i,g,u);break}if(g<i.length)y=i[g++];else throw L.getFormatInstance()}if(u.length()===0)throw L.getFormatInstance();let C=new he(null,u.toString(),null,o);return C.setOther(S),C}static decodeMacroBlock(i,o,u){if(o+Ee.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw L.getFormatInstance();let h=new Int32Array(Ee.NUMBER_OF_SEQUENCE_CODEWORDS);for(let S=0;S<Ee.NUMBER_OF_SEQUENCE_CODEWORDS;S++,o++)h[S]=i[o];u.setSegmentIndex(U.parseInt(Ee.decodeBase900toBase10(h,Ee.NUMBER_OF_SEQUENCE_CODEWORDS)));let g=new ie;o=Ee.textCompaction(i,o,g),u.setFileId(g.toString());let y=-1;for(i[o]===Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(y=o+1);o<i[0];)switch(i[o]){case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,i[o]){case Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let S=new ie;o=Ee.textCompaction(i,o+1,S),u.setFileName(S.toString());break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let C=new ie;o=Ee.textCompaction(i,o+1,C),u.setSender(C.toString());break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let I=new ie;o=Ee.textCompaction(i,o+1,I),u.setAddressee(I.toString());break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let D=new ie;o=Ee.numericCompaction(i,o+1,D),u.setSegmentCount(U.parseInt(D.toString()));break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let z=new ie;o=Ee.numericCompaction(i,o+1,z),u.setTimestamp(xf.parseLong(z.toString()));break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let H=new ie;o=Ee.numericCompaction(i,o+1,H),u.setChecksum(U.parseInt(H.toString()));break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let K=new ie;o=Ee.numericCompaction(i,o+1,K),u.setFileSize(xf.parseLong(K.toString()));break;default:throw L.getFormatInstance()}break;case Ee.MACRO_PDF417_TERMINATOR:o++,u.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(y!==-1){let S=o-y;u.isLastSegment()&&S--,u.setOptionalData(F.copyOfRange(i,y,y+S))}return o}static textCompaction(i,o,u){let h=new Int32Array((i[0]-o)*2),g=new Int32Array((i[0]-o)*2),y=0,S=!1;for(;o<i[0]&&!S;){let C=i[o++];if(C<Ee.TEXT_COMPACTION_MODE_LATCH)h[y]=C/30,h[y+1]=C%30,y+=2;else switch(C){case Ee.TEXT_COMPACTION_MODE_LATCH:h[y++]=Ee.TEXT_COMPACTION_MODE_LATCH;break;case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.NUMERIC_COMPACTION_MODE_LATCH:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:o--,S=!0;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h[y]=Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,C=i[o++],g[y]=C,y++;break}}return Ee.decodeTextCompaction(h,g,y,u),o}static decodeTextCompaction(i,o,u,h){let g=or.ALPHA,y=or.ALPHA,S=0;for(;S<u;){let C=i[S],I="";switch(g){case or.ALPHA:if(C<26)I=String.fromCharCode(65+C);else switch(C){case 26:I=" ";break;case Ee.LL:g=or.LOWER;break;case Ee.ML:g=or.MIXED;break;case Ee.PS:y=g,g=or.PUNCT_SHIFT;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[S]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:g=or.ALPHA;break}break;case or.LOWER:if(C<26)I=String.fromCharCode(97+C);else switch(C){case 26:I=" ";break;case Ee.AS:y=g,g=or.ALPHA_SHIFT;break;case Ee.ML:g=or.MIXED;break;case Ee.PS:y=g,g=or.PUNCT_SHIFT;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[S]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:g=or.ALPHA;break}break;case or.MIXED:if(C<Ee.PL)I=Ee.MIXED_CHARS[C];else switch(C){case Ee.PL:g=or.PUNCT;break;case 26:I=" ";break;case Ee.LL:g=or.LOWER;break;case Ee.AL:g=or.ALPHA;break;case Ee.PS:y=g,g=or.PUNCT_SHIFT;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[S]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:g=or.ALPHA;break}break;case or.PUNCT:if(C<Ee.PAL)I=Ee.PUNCT_CHARS[C];else switch(C){case Ee.PAL:g=or.ALPHA;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[S]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:g=or.ALPHA;break}break;case or.ALPHA_SHIFT:if(g=y,C<26)I=String.fromCharCode(65+C);else switch(C){case 26:I=" ";break;case Ee.TEXT_COMPACTION_MODE_LATCH:g=or.ALPHA;break}break;case or.PUNCT_SHIFT:if(g=y,C<Ee.PAL)I=Ee.PUNCT_CHARS[C];else switch(C){case Ee.PAL:g=or.ALPHA;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[S]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:g=or.ALPHA;break}break}I!==""&&h.append(I),S++}}static byteCompaction(i,o,u,h,g){let y=new nc,S=0,C=0,I=!1;switch(i){case Ee.BYTE_COMPACTION_MODE_LATCH:let D=new Int32Array(6),z=o[h++];for(;h<o[0]&&!I;)switch(D[S++]=z,C=900*C+z,z=o[h++],z){case Ee.TEXT_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.NUMERIC_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:h--,I=!0;break;default:if(S%5===0&&S>0){for(let H=0;H<6;++H)y.write(Number(Yi(C)>>Yi(8*(5-H))));C=0,S=0}break}h===o[0]&&z<Ee.TEXT_COMPACTION_MODE_LATCH&&(D[S++]=z);for(let H=0;H<S;H++)y.write(D[H]);break;case Ee.BYTE_COMPACTION_MODE_LATCH_6:for(;h<o[0]&&!I;){let H=o[h++];if(H<Ee.TEXT_COMPACTION_MODE_LATCH)S++,C=900*C+H;else switch(H){case Ee.TEXT_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.NUMERIC_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:h--,I=!0;break}if(S%5===0&&S>0){for(let K=0;K<6;++K)y.write(Number(Yi(C)>>Yi(8*(5-K))));C=0,S=0}}break}return g.append(te.decode(y.toByteArray(),u)),h}static numericCompaction(i,o,u){let h=0,g=!1,y=new Int32Array(Ee.MAX_NUMERIC_CODEWORDS);for(;o<i[0]&&!g;){let S=i[o++];if(o===i[0]&&(g=!0),S<Ee.TEXT_COMPACTION_MODE_LATCH)y[h]=S,h++;else switch(S){case Ee.TEXT_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:o--,g=!0;break}(h%Ee.MAX_NUMERIC_CODEWORDS===0||S===Ee.NUMERIC_COMPACTION_MODE_LATCH||g)&&h>0&&(u.append(Ee.decodeBase900toBase10(y,h)),h=0)}return o}static decodeBase900toBase10(i,o){let u=Yi(0);for(let g=0;g<o;g++)u+=Ee.EXP900[o-g-1]*Yi(i[g]);let h=u.toString();if(h.charAt(0)!=="1")throw new L;return h.substring(1)}}Ee.TEXT_COMPACTION_MODE_LATCH=900,Ee.BYTE_COMPACTION_MODE_LATCH=901,Ee.NUMERIC_COMPACTION_MODE_LATCH=902,Ee.BYTE_COMPACTION_MODE_LATCH_6=924,Ee.ECI_USER_DEFINED=925,Ee.ECI_GENERAL_PURPOSE=926,Ee.ECI_CHARSET=927,Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ee.MACRO_PDF417_TERMINATOR=922,Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ee.MAX_NUMERIC_CODEWORDS=15,Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ee.PL=25,Ee.LL=27,Ee.AS=27,Ee.ML=28,Ee.AL=28,Ee.PS=29,Ee.PAL=29,Ee.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ee.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ee.EXP900=vf()?wu():[],Ee.NUMBER_OF_SEQUENCE_CODEWORDS=2;class zt{constructor(){}static decode(i,o,u,h,g,y,S){let C=new Ni(i,o,u,h,g),I=null,D=null,z;for(let ae=!0;;ae=!1){if(o!=null&&(I=zt.getRowIndicatorColumn(i,C,o,!0,y,S)),h!=null&&(D=zt.getRowIndicatorColumn(i,C,h,!1,y,S)),z=zt.merge(I,D),z==null)throw X.getNotFoundInstance();let le=z.getBoundingBox();if(ae&&le!=null&&(le.getMinY()<C.getMinY()||le.getMaxY()>C.getMaxY()))C=le;else break}z.setBoundingBox(C);let H=z.getBarcodeColumnCount()+1;z.setDetectionResultColumn(0,I),z.setDetectionResultColumn(H,D);let K=I!=null;for(let ae=1;ae<=H;ae++){let le=K?ae:H-ae;if(z.getDetectionResultColumn(le)!==void 0)continue;let me;le===0||le===H?me=new yu(C,le===0):me=new Gi(C),z.setDetectionResultColumn(le,me);let Ae=-1,Xe=Ae;for(let qe=C.getMinY();qe<=C.getMaxY();qe++){if(Ae=zt.getStartColumn(z,le,qe,K),Ae<0||Ae>C.getMaxX()){if(Xe===-1)continue;Ae=Xe}let Fe=zt.detectCodeword(i,C.getMinX(),C.getMaxX(),K,Ae,qe,y,S);Fe!=null&&(me.setCodeword(qe,Fe),Xe=Ae,y=Math.min(y,Fe.getWidth()),S=Math.max(S,Fe.getWidth()))}}return zt.createDecoderResult(z)}static merge(i,o){if(i==null&&o==null)return null;let u=zt.getBarcodeMetadata(i,o);if(u==null)return null;let h=Ni.merge(zt.adjustBoundingBox(i),zt.adjustBoundingBox(o));return new mn(u,h)}static adjustBoundingBox(i){if(i==null)return null;let o=i.getRowHeights();if(o==null)return null;let u=zt.getMax(o),h=0;for(let S of o)if(h+=u-S,S>0)break;let g=i.getCodewords();for(let S=0;h>0&&g[S]==null;S++)h--;let y=0;for(let S=o.length-1;S>=0&&(y+=u-o[S],!(o[S]>0));S--);for(let S=g.length-1;y>0&&g[S]==null;S--)y--;return i.getBoundingBox().addMissingRows(h,y,i.isLeft())}static getMax(i){let o=-1;for(let u of i)o=Math.max(o,u);return o}static getBarcodeMetadata(i,o){let u;if(i==null||(u=i.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let h;return o==null||(h=o.getBarcodeMetadata())==null?u:u.getColumnCount()!==h.getColumnCount()&&u.getErrorCorrectionLevel()!==h.getErrorCorrectionLevel()&&u.getRowCount()!==h.getRowCount()?null:u}static getRowIndicatorColumn(i,o,u,h,g,y){let S=new yu(o,h);for(let C=0;C<2;C++){let I=C===0?1:-1,D=Math.trunc(Math.trunc(u.getX()));for(let z=Math.trunc(Math.trunc(u.getY()));z<=o.getMaxY()&&z>=o.getMinY();z+=I){let H=zt.detectCodeword(i,0,i.getWidth(),h,D,z,g,y);H!=null&&(S.setCodeword(z,H),h?D=H.getStartX():D=H.getEndX())}}return S}static adjustCodewordCount(i,o){let u=o[0][1],h=u.getValue(),g=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-zt.getNumberOfECCodeWords(i.getBarcodeECLevel());if(h.length===0){if(g<1||g>At.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();u.setValue(g)}else h[0]!==g&&u.setValue(g)}static createDecoderResult(i){let o=zt.createBarcodeMatrix(i);zt.adjustCodewordCount(i,o);let u=new Array,h=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),g=[],y=new Array;for(let C=0;C<i.getBarcodeRowCount();C++)for(let I=0;I<i.getBarcodeColumnCount();I++){let D=o[C][I+1].getValue(),z=C*i.getBarcodeColumnCount()+I;D.length===0?u.push(z):D.length===1?h[z]=D[0]:(y.push(z),g.push(D))}let S=new Array(g.length);for(let C=0;C<S.length;C++)S[C]=g[C];return zt.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),h,At.toIntArray(u),At.toIntArray(y),S)}static createDecoderResultFromAmbiguousValues(i,o,u,h,g){let y=new Int32Array(h.length),S=100;for(;S-- >0;){for(let C=0;C<y.length;C++)o[h[C]]=g[C][y[C]];try{return zt.decodeCodewords(o,i,u)}catch(C){if(!(C instanceof _))throw C}if(y.length===0)throw _.getChecksumInstance();for(let C=0;C<y.length;C++)if(y[C]<g[C].length-1){y[C]++;break}else if(y[C]=0,C===y.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(i){let o=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let h=0;h<o.length;h++)for(let g=0;g<o[h].length;g++)o[h][g]=new Vi;let u=0;for(let h of i.getDetectionResultColumns()){if(h!=null){for(let g of h.getCodewords())if(g!=null){let y=g.getRowNumber();if(y>=0){if(y>=o.length)continue;o[y][u].setValue(g.getValue())}}}u++}return o}static isValidBarcodeColumn(i,o){return o>=0&&o<=i.getBarcodeColumnCount()+1}static getStartColumn(i,o,u,h){let g=h?1:-1,y=null;if(zt.isValidBarcodeColumn(i,o-g)&&(y=i.getDetectionResultColumn(o-g).getCodeword(u)),y!=null)return h?y.getEndX():y.getStartX();if(y=i.getDetectionResultColumn(o).getCodewordNearby(u),y!=null)return h?y.getStartX():y.getEndX();if(zt.isValidBarcodeColumn(i,o-g)&&(y=i.getDetectionResultColumn(o-g).getCodewordNearby(u)),y!=null)return h?y.getEndX():y.getStartX();let S=0;for(;zt.isValidBarcodeColumn(i,o-g);){o-=g;for(let C of i.getDetectionResultColumn(o).getCodewords())if(C!=null)return(h?C.getEndX():C.getStartX())+g*S*(C.getEndX()-C.getStartX());S++}return h?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,o,u,h,g,y,S,C){g=zt.adjustCodewordStartColumn(i,o,u,h,g,y);let I=zt.getModuleBitCount(i,o,u,h,g,y);if(I==null)return null;let D,z=lt.sum(I);if(h)D=g+z;else{for(let ae=0;ae<I.length/2;ae++){let le=I[ae];I[ae]=I[I.length-1-ae],I[I.length-1-ae]=le}D=g,g=D-z}if(!zt.checkCodewordSkew(z,S,C))return null;let H=An.getDecodedValue(I),K=At.getCodeword(H);return K===-1?null:new Pa(g,D,zt.getCodewordBucketNumber(H),K)}static getModuleBitCount(i,o,u,h,g,y){let S=g,C=new Int32Array(8),I=0,D=h?1:-1,z=h;for(;(h?S<u:S>=o)&&I<C.length;)i.get(S,y)===z?(C[I]++,S+=D):(I++,z=!z);return I===C.length||S===(h?u:o)&&I===C.length-1?C:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,o,u,h,g,y){let S=g,C=h?-1:1;for(let I=0;I<2;I++){for(;(h?S>=o:S<u)&&h===i.get(S,y);){if(Math.abs(g-S)>zt.CODEWORD_SKEW_SIZE)return g;S+=C}C=-C,h=!h}return S}static checkCodewordSkew(i,o,u){return o-zt.CODEWORD_SKEW_SIZE<=i&&i<=u+zt.CODEWORD_SKEW_SIZE}static decodeCodewords(i,o,u){if(i.length===0)throw L.getFormatInstance();let h=1<<o+1,g=zt.correctErrors(i,u,h);zt.verifyCodewordCount(i,h);let y=Ee.decode(i,""+o);return y.setErrorsCorrected(g),y.setErasures(u.length),y}static correctErrors(i,o,u){if(o!=null&&o.length>u/2+zt.MAX_ERRORS||u<0||u>zt.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return zt.errorCorrection.decode(i,u,o)}static verifyCodewordCount(i,o){if(i.length<4)throw L.getFormatInstance();let u=i[0];if(u>i.length)throw L.getFormatInstance();if(u===0)if(o<i.length)i[0]=i.length-o;else throw L.getFormatInstance()}static getBitCountForCodeword(i){let o=new Int32Array(8),u=0,h=o.length-1;for(;!((i&1)!==u&&(u=i&1,h--,h<0));)o[h]++,i>>=1;return o}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return zt.getCodewordBucketNumber(zt.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let o=new ul;for(let u=0;u<i.length;u++){o.format("Row %2d: ",u);for(let h=0;h<i[u].length;h++){let g=i[u][h];g.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",g.getValue()[0],g.getConfidence(g.getValue()[0]))}o.format("%n")}return o.toString()}}zt.CODEWORD_SKEW_SIZE=2,zt.MAX_ERRORS=3,zt.MAX_EC_CODEWORDS=512,zt.errorCorrection=new Ci;class Sn{decode(i,o=null){let u=Sn.decode(i,o,!1);if(u==null||u.length===0||u[0]==null)throw X.getNotFoundInstance();return u[0]}decodeMultiple(i,o=null){try{return Sn.decode(i,o,!0)}catch(u){throw u instanceof L||u instanceof _?X.getNotFoundInstance():u}}static decode(i,o,u){const h=new Array,g=Dt.detectMultiple(i,o,u);for(const y of g.getPoints()){const S=zt.decode(g.getBits(),y[4],y[5],y[6],y[7],Sn.getMinCodewordWidth(y),Sn.getMaxCodewordWidth(y)),C=new Pe(S.getText(),S.getRawBytes(),void 0,y,J.PDF_417);C.putMetadata(Ze.ERROR_CORRECTION_LEVEL,S.getECLevel());const I=S.getOther();I!=null&&C.putMetadata(Ze.PDF417_EXTRA_METADATA,I),h.push(C)}return h.map(y=>y)}static getMaxWidth(i,o){return i==null||o==null?0:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMinWidth(i,o){return i==null||o==null?U.MAX_VALUE:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(Sn.getMaxWidth(i[0],i[4]),Sn.getMaxWidth(i[6],i[2])*At.MODULES_IN_CODEWORD/At.MODULES_IN_STOP_PATTERN),Math.max(Sn.getMaxWidth(i[1],i[5]),Sn.getMaxWidth(i[7],i[3])*At.MODULES_IN_CODEWORD/At.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(Sn.getMinWidth(i[0],i[4]),Sn.getMinWidth(i[6],i[2])*At.MODULES_IN_CODEWORD/At.MODULES_IN_STOP_PATTERN),Math.min(Sn.getMinWidth(i[1],i[5]),Sn.getMinWidth(i[7],i[3])*At.MODULES_IN_CODEWORD/At.MODULES_IN_STOP_PATTERN)))}reset(){}}class ic extends v{}ic.kind="ReaderException";class yf{constructor(i,o){this.verbose=i===!0,o&&this.setHints(o)}decode(i,o){return o&&this.setHints(o),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const o=!n(i)&&i.get(Y.TRY_HARDER)===!0,u=n(i)?null:i.get(Y.POSSIBLE_FORMATS),h=new Array;if(!n(u)){const g=u.some(y=>y===J.UPC_A||y===J.UPC_E||y===J.EAN_13||y===J.EAN_8||y===J.CODABAR||y===J.CODE_39||y===J.CODE_93||y===J.CODE_128||y===J.ITF||y===J.RSS_14||y===J.RSS_EXPANDED);g&&!o&&h.push(new Ye(i,this.verbose)),u.includes(J.QR_CODE)&&h.push(new Ei),u.includes(J.DATA_MATRIX)&&h.push(new Ra),u.includes(J.AZTEC)&&h.push(new Ui),u.includes(J.PDF_417)&&h.push(new Sn),g&&o&&h.push(new Ye(i,this.verbose))}h.length===0&&(o||h.push(new Ye(i,this.verbose)),h.push(new Ei),h.push(new Ra),h.push(new Ui),h.push(new Sn),o&&h.push(new Ye(i,this.verbose))),this.readers=h}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new ic("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(i,this.hints)}catch(u){if(u instanceof ic)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class bf extends Te{constructor(i=null,o=500){const u=new yf;u.setHints(i),super(u,o)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class cm extends Te{constructor(i=500){super(new Sn,i)}}class um extends Te{constructor(i=500){super(new Ei,i)}}var Au;(function(B){B[B.ERROR_CORRECTION=0]="ERROR_CORRECTION",B[B.CHARACTER_SET=1]="CHARACTER_SET",B[B.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",B[B.MIN_SIZE=3]="MIN_SIZE",B[B.MAX_SIZE=4]="MAX_SIZE",B[B.MARGIN=5]="MARGIN",B[B.PDF417_COMPACT=6]="PDF417_COMPACT",B[B.PDF417_COMPACTION=7]="PDF417_COMPACTION",B[B.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",B[B.AZTEC_LAYERS=9]="AZTEC_LAYERS",B[B.QR_VERSION=10]="QR_VERSION"})(Au||(Au={}));var cn=Au;class no{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new st(i,Int32Array.from([1])))}buildGenerator(i){const o=this.cachedGenerators;if(i>=o.length){let u=o[o.length-1];const h=this.field;for(let g=o.length;g<=i;g++){const y=u.multiply(new st(h,Int32Array.from([1,h.exp(g-1+h.getGeneratorBase())])));o.push(y),u=y}}return o[i]}encode(i,o){if(o===0)throw new A("No error correction bytes");const u=i.length-o;if(u<=0)throw new A("No data bytes provided");const h=this.buildGenerator(o),g=new Int32Array(u);M.arraycopy(i,0,g,0,u);let y=new st(this.field,g);y=y.multiplyByMonomial(o,1);const C=y.divide(h)[1].getCoefficients(),I=o-C.length;for(let D=0;D<I;D++)i[u+D]=0;M.arraycopy(C,0,i,u+I,C.length)}}class Fr{constructor(){}static applyMaskPenaltyRule1(i){return Fr.applyMaskPenaltyRule1Internal(i,!0)+Fr.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let o=0;const u=i.getArray(),h=i.getWidth(),g=i.getHeight();for(let y=0;y<g-1;y++){const S=u[y];for(let C=0;C<h-1;C++){const I=S[C];I===S[C+1]&&I===u[y+1][C]&&I===u[y+1][C+1]&&o++}}return Fr.N2*o}static applyMaskPenaltyRule3(i){let o=0;const u=i.getArray(),h=i.getWidth(),g=i.getHeight();for(let y=0;y<g;y++)for(let S=0;S<h;S++){const C=u[y];S+6<h&&C[S]===1&&C[S+1]===0&&C[S+2]===1&&C[S+3]===1&&C[S+4]===1&&C[S+5]===0&&C[S+6]===1&&(Fr.isWhiteHorizontal(C,S-4,S)||Fr.isWhiteHorizontal(C,S+7,S+11))&&o++,y+6<g&&u[y][S]===1&&u[y+1][S]===0&&u[y+2][S]===1&&u[y+3][S]===1&&u[y+4][S]===1&&u[y+5][S]===0&&u[y+6][S]===1&&(Fr.isWhiteVertical(u,S,y-4,y)||Fr.isWhiteVertical(u,S,y+7,y+11))&&o++}return o*Fr.N3}static isWhiteHorizontal(i,o,u){o=Math.max(o,0),u=Math.min(u,i.length);for(let h=o;h<u;h++)if(i[h]===1)return!1;return!0}static isWhiteVertical(i,o,u,h){u=Math.max(u,0),h=Math.min(h,i.length);for(let g=u;g<h;g++)if(i[g][o]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let o=0;const u=i.getArray(),h=i.getWidth(),g=i.getHeight();for(let C=0;C<g;C++){const I=u[C];for(let D=0;D<h;D++)I[D]===1&&o++}const y=i.getHeight()*i.getWidth();return Math.floor(Math.abs(o*2-y)*10/y)*Fr.N4}static getDataMaskBit(i,o,u){let h,g;switch(i){case 0:h=u+o&1;break;case 1:h=u&1;break;case 2:h=o%3;break;case 3:h=(u+o)%3;break;case 4:h=Math.floor(u/2)+Math.floor(o/3)&1;break;case 5:g=u*o,h=(g&1)+g%3;break;case 6:g=u*o,h=(g&1)+g%3&1;break;case 7:g=u*o,h=g%3+(u+o&1)&1;break;default:throw new A("Invalid mask pattern: "+i)}return h===0}static applyMaskPenaltyRule1Internal(i,o){let u=0;const h=o?i.getHeight():i.getWidth(),g=o?i.getWidth():i.getHeight(),y=i.getArray();for(let S=0;S<h;S++){let C=0,I=-1;for(let D=0;D<g;D++){const z=o?y[S][D]:y[D][S];z===I?C++:(C>=5&&(u+=Fr.N1+(C-5)),C=1,I=z)}C>=5&&(u+=Fr.N1+(C-5))}return u}}Fr.N1=3,Fr.N2=3,Fr.N3=40,Fr.N4=10;class sc{constructor(i,o){this.width=i,this.height=o;const u=new Array(o);for(let h=0;h!==o;h++)u[h]=new Uint8Array(i);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(i,o){return this.bytes[o][i]}getArray(){return this.bytes}setNumber(i,o,u){this.bytes[o][i]=u}setBoolean(i,o,u){this.bytes[o][i]=u?1:0}clear(i){for(const o of this.bytes)F.fill(o,i)}equals(i){if(!(i instanceof sc))return!1;const o=i;if(this.width!==o.width||this.height!==o.height)return!1;for(let u=0,h=this.height;u<h;++u){const g=this.bytes[u],y=o.bytes[u];for(let S=0,C=this.width;S<C;++S)if(g[S]!==y[S])return!1}return!0}toString(){const i=new ie;for(let o=0,u=this.height;o<u;++o){const h=this.bytes[o];for(let g=0,y=this.width;g<y;++g)switch(h[g]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class ms{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new ie;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<ms.NUM_MASK_PATTERNS}}ms.NUM_MASK_PATTERNS=8;class ur extends v{}ur.kind="WriterException";class St{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,o,u,h,g){St.clearMatrix(g),St.embedBasicPatterns(u,g),St.embedTypeInfo(o,h,g),St.maybeEmbedVersionInfo(u,g),St.embedDataBits(i,h,g)}static embedBasicPatterns(i,o){St.embedPositionDetectionPatternsAndSeparators(o),St.embedDarkDotAtLeftBottomCorner(o),St.maybeEmbedPositionAdjustmentPatterns(i,o),St.embedTimingPatterns(o)}static embedTypeInfo(i,o,u){const h=new V;St.makeTypeInfoBits(i,o,h);for(let g=0,y=h.getSize();g<y;++g){const S=h.get(h.getSize()-1-g),C=St.TYPE_INFO_COORDINATES[g],I=C[0],D=C[1];if(u.setBoolean(I,D,S),g<8){const z=u.getWidth()-g-1;u.setBoolean(z,8,S)}else{const H=u.getHeight()-7+(g-8);u.setBoolean(8,H,S)}}}static maybeEmbedVersionInfo(i,o){if(i.getVersionNumber()<7)return;const u=new V;St.makeVersionInfoBits(i,u);let h=17;for(let g=0;g<6;++g)for(let y=0;y<3;++y){const S=u.get(h);h--,o.setBoolean(g,o.getHeight()-11+y,S),o.setBoolean(o.getHeight()-11+y,g,S)}}static embedDataBits(i,o,u){let h=0,g=-1,y=u.getWidth()-1,S=u.getHeight()-1;for(;y>0;){for(y===6&&(y-=1);S>=0&&S<u.getHeight();){for(let C=0;C<2;++C){const I=y-C;if(!St.isEmpty(u.get(I,S)))continue;let D;h<i.getSize()?(D=i.get(h),++h):D=!1,o!==255&&Fr.getDataMaskBit(o,I,S)&&(D=!D),u.setBoolean(I,S,D)}S+=g}g=-g,S+=g,y-=2}if(h!==i.getSize())throw new ur("Not all bits consumed: "+h+"/"+i.getSize())}static findMSBSet(i){return 32-U.numberOfLeadingZeros(i)}static calculateBCHCode(i,o){if(o===0)throw new A("0 polynomial");const u=St.findMSBSet(o);for(i<<=u-1;St.findMSBSet(i)>=u;)i^=o<<St.findMSBSet(i)-u;return i}static makeTypeInfoBits(i,o,u){if(!ms.isValidMaskPattern(o))throw new ur("Invalid mask pattern");const h=i.getBits()<<3|o;u.appendBits(h,5);const g=St.calculateBCHCode(h,St.TYPE_INFO_POLY);u.appendBits(g,10);const y=new V;if(y.appendBits(St.TYPE_INFO_MASK_PATTERN,15),u.xor(y),u.getSize()!==15)throw new ur("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(i,o){o.appendBits(i.getVersionNumber(),6);const u=St.calculateBCHCode(i.getVersionNumber(),St.VERSION_INFO_POLY);if(o.appendBits(u,12),o.getSize()!==18)throw new ur("should not happen but we got: "+o.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let o=8;o<i.getWidth()-8;++o){const u=(o+1)%2;St.isEmpty(i.get(o,6))&&i.setNumber(o,6,u),St.isEmpty(i.get(6,o))&&i.setNumber(6,o,u)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new ur;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,o,u){for(let h=0;h<8;++h){if(!St.isEmpty(u.get(i+h,o)))throw new ur;u.setNumber(i+h,o,0)}}static embedVerticalSeparationPattern(i,o,u){for(let h=0;h<7;++h){if(!St.isEmpty(u.get(i,o+h)))throw new ur;u.setNumber(i,o+h,0)}}static embedPositionAdjustmentPattern(i,o,u){for(let h=0;h<5;++h){const g=St.POSITION_ADJUSTMENT_PATTERN[h];for(let y=0;y<5;++y)u.setNumber(i+y,o+h,g[y])}}static embedPositionDetectionPattern(i,o,u){for(let h=0;h<7;++h){const g=St.POSITION_DETECTION_PATTERN[h];for(let y=0;y<7;++y)u.setNumber(i+y,o+h,g[y])}}static embedPositionDetectionPatternsAndSeparators(i){const o=St.POSITION_DETECTION_PATTERN[0].length;St.embedPositionDetectionPattern(0,0,i),St.embedPositionDetectionPattern(i.getWidth()-o,0,i),St.embedPositionDetectionPattern(0,i.getWidth()-o,i);const u=8;St.embedHorizontalSeparationPattern(0,u-1,i),St.embedHorizontalSeparationPattern(i.getWidth()-u,u-1,i),St.embedHorizontalSeparationPattern(0,i.getWidth()-u,i);const h=7;St.embedVerticalSeparationPattern(h,0,i),St.embedVerticalSeparationPattern(i.getHeight()-h-1,0,i),St.embedVerticalSeparationPattern(h,i.getHeight()-h,i)}static maybeEmbedPositionAdjustmentPatterns(i,o){if(i.getVersionNumber()<2)return;const u=i.getVersionNumber()-1,h=St.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let g=0,y=h.length;g!==y;g++){const S=h[g];if(S>=0)for(let C=0;C!==y;C++){const I=h[C];I>=0&&St.isEmpty(o.get(I,S))&&St.embedPositionAdjustmentPattern(I-2,S-2,o)}}}}St.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),St.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),St.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),St.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),St.VERSION_INFO_POLY=7973,St.TYPE_INFO_POLY=1335,St.TYPE_INFO_MASK_PATTERN=21522;class dm{constructor(i,o){this.dataBytes=i,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class _r{constructor(){}static calculateMaskPenalty(i){return Fr.applyMaskPenaltyRule1(i)+Fr.applyMaskPenaltyRule2(i)+Fr.applyMaskPenaltyRule3(i)+Fr.applyMaskPenaltyRule4(i)}static encode(i,o,u=null){let h=_r.DEFAULT_BYTE_MODE_ENCODING;const g=u!==null&&u.get(cn.CHARACTER_SET)!==void 0;g&&(h=u.get(cn.CHARACTER_SET).toString());const y=this.chooseMode(i,h),S=new V;if(y===pt.BYTE&&(g||_r.DEFAULT_BYTE_MODE_ENCODING!==h)){const qe=Z.getCharacterSetECIByName(h);qe!==void 0&&this.appendECI(qe,S)}this.appendModeInfo(y,S);const C=new V;this.appendBytes(i,y,C,h);let I;if(u!==null&&u.get(cn.QR_VERSION)!==void 0){const qe=Number.parseInt(u.get(cn.QR_VERSION).toString(),10);I=ut.getVersionForNumber(qe);const Fe=this.calculateBitsNeeded(y,S,C,I);if(!this.willFit(Fe,I,o))throw new ur("Data too big for requested version")}else I=this.recommendVersion(o,y,S,C);const D=new V;D.appendBitArray(S);const z=y===pt.BYTE?C.getSizeInBytes():i.length;this.appendLengthInfo(z,I,y,D),D.appendBitArray(C);const H=I.getECBlocksForLevel(o),K=I.getTotalCodewords()-H.getTotalECCodewords();this.terminateBits(K,D);const ae=this.interleaveWithECBytes(D,I.getTotalCodewords(),K,H.getNumBlocks()),le=new ms;le.setECLevel(o),le.setMode(y),le.setVersion(I);const me=I.getDimensionForVersion(),Ae=new sc(me,me),Xe=this.chooseMaskPattern(ae,o,I,Ae);return le.setMaskPattern(Xe),St.buildMatrix(ae,o,I,Xe,Ae),le.setMatrix(Ae),le}static recommendVersion(i,o,u,h){const g=this.calculateBitsNeeded(o,u,h,ut.getVersionForNumber(1)),y=this.chooseVersion(g,i),S=this.calculateBitsNeeded(o,u,h,y);return this.chooseVersion(S,i)}static calculateBitsNeeded(i,o,u,h){return o.getSize()+i.getCharacterCountBits(h)+u.getSize()}static getAlphanumericCode(i){return i<_r.ALPHANUMERIC_TABLE.length?_r.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,o=null){if(Z.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(i))return pt.KANJI;let u=!1,h=!1;for(let g=0,y=i.length;g<y;++g){const S=i.charAt(g);if(_r.isDigit(S))u=!0;else if(this.getAlphanumericCode(S.charCodeAt(0))!==-1)h=!0;else return pt.BYTE}return h?pt.ALPHANUMERIC:u?pt.NUMERIC:pt.BYTE}static isOnlyDoubleByteKanji(i){let o;try{o=te.encode(i,Z.SJIS)}catch{return!1}const u=o.length;if(u%2!==0)return!1;for(let h=0;h<u;h+=2){const g=o[h]&255;if((g<129||g>159)&&(g<224||g>235))return!1}return!0}static chooseMaskPattern(i,o,u,h){let g=Number.MAX_SAFE_INTEGER,y=-1;for(let S=0;S<ms.NUM_MASK_PATTERNS;S++){St.buildMatrix(i,o,u,S,h);let C=this.calculateMaskPenalty(h);C<g&&(g=C,y=S)}return y}static chooseVersion(i,o){for(let u=1;u<=40;u++){const h=ut.getVersionForNumber(u);if(_r.willFit(i,h,o))return h}throw new ur("Data too big")}static willFit(i,o,u){const h=o.getTotalCodewords(),y=o.getECBlocksForLevel(u).getTotalECCodewords(),S=h-y,C=(i+7)/8;return S>=C}static terminateBits(i,o){const u=i*8;if(o.getSize()>u)throw new ur("data bits cannot fit in the QR Code"+o.getSize()+" > "+u);for(let y=0;y<4&&o.getSize()<u;++y)o.appendBit(!1);const h=o.getSize()&7;if(h>0)for(let y=h;y<8;y++)o.appendBit(!1);const g=i-o.getSizeInBytes();for(let y=0;y<g;++y)o.appendBits((y&1)===0?236:17,8);if(o.getSize()!==u)throw new ur("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,o,u,h,g,y){if(h>=u)throw new ur("Block ID too large");const S=i%u,C=u-S,I=Math.floor(i/u),D=I+1,z=Math.floor(o/u),H=z+1,K=I-z,ae=D-H;if(K!==ae)throw new ur("EC bytes mismatch");if(u!==C+S)throw new ur("RS blocks mismatch");if(i!==(z+K)*C+(H+ae)*S)throw new ur("Total bytes mismatch");h<C?(g[0]=z,y[0]=K):(g[0]=H,y[0]=ae)}static interleaveWithECBytes(i,o,u,h){if(i.getSizeInBytes()!==u)throw new ur("Number of bits and data bytes does not match");let g=0,y=0,S=0;const C=new Array;for(let D=0;D<h;++D){const z=new Int32Array(1),H=new Int32Array(1);_r.getNumDataBytesAndNumECBytesForBlockID(o,u,h,D,z,H);const K=z[0],ae=new Uint8Array(K);i.toBytes(8*g,ae,0,K);const le=_r.generateECBytes(ae,H[0]);C.push(new dm(ae,le)),y=Math.max(y,K),S=Math.max(S,le.length),g+=z[0]}if(u!==g)throw new ur("Data bytes does not match offset");const I=new V;for(let D=0;D<y;++D)for(const z of C){const H=z.getDataBytes();D<H.length&&I.appendBits(H[D],8)}for(let D=0;D<S;++D)for(const z of C){const H=z.getErrorCorrectionBytes();D<H.length&&I.appendBits(H[D],8)}if(o!==I.getSizeInBytes())throw new ur("Interleaving error: "+o+" and "+I.getSizeInBytes()+" differ.");return I}static generateECBytes(i,o){const u=i.length,h=new Int32Array(u+o);for(let y=0;y<u;y++)h[y]=i[y]&255;new no(Je.QR_CODE_FIELD_256).encode(h,o);const g=new Uint8Array(o);for(let y=0;y<o;y++)g[y]=h[u+y];return g}static appendModeInfo(i,o){o.appendBits(i.getBits(),4)}static appendLengthInfo(i,o,u,h){const g=u.getCharacterCountBits(o);if(i>=1<<g)throw new ur(i+" is bigger than "+((1<<g)-1));h.appendBits(i,g)}static appendBytes(i,o,u,h){switch(o){case pt.NUMERIC:_r.appendNumericBytes(i,u);break;case pt.ALPHANUMERIC:_r.appendAlphanumericBytes(i,u);break;case pt.BYTE:_r.append8BitBytes(i,u,h);break;case pt.KANJI:_r.appendKanjiBytes(i,u);break;default:throw new ur("Invalid mode: "+o)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const o=_r.getDigit(i);return o>=0&&o<=9}static appendNumericBytes(i,o){const u=i.length;let h=0;for(;h<u;){const g=_r.getDigit(i.charAt(h));if(h+2<u){const y=_r.getDigit(i.charAt(h+1)),S=_r.getDigit(i.charAt(h+2));o.appendBits(g*100+y*10+S,10),h+=3}else if(h+1<u){const y=_r.getDigit(i.charAt(h+1));o.appendBits(g*10+y,7),h+=2}else o.appendBits(g,4),h++}}static appendAlphanumericBytes(i,o){const u=i.length;let h=0;for(;h<u;){const g=_r.getAlphanumericCode(i.charCodeAt(h));if(g===-1)throw new ur;if(h+1<u){const y=_r.getAlphanumericCode(i.charCodeAt(h+1));if(y===-1)throw new ur;o.appendBits(g*45+y,11),h+=2}else o.appendBits(g,6),h++}}static append8BitBytes(i,o,u){let h;try{h=te.encode(i,u)}catch(g){throw new ur(g)}for(let g=0,y=h.length;g!==y;g++){const S=h[g];o.appendBits(S,8)}}static appendKanjiBytes(i,o){let u;try{u=te.encode(i,Z.SJIS)}catch(g){throw new ur(g)}const h=u.length;for(let g=0;g<h;g+=2){const y=u[g]&255,S=u[g+1]&255,C=y<<8&4294967295|S;let I=-1;if(C>=33088&&C<=40956?I=C-33088:C>=57408&&C<=60351&&(I=C-49472),I===-1)throw new ur("Invalid byte sequence");const D=(I>>8)*192+(I&255);o.appendBits(D,13)}}static appendECI(i,o){o.appendBits(pt.ECI.getBits(),4),o.appendBits(i.getValue(),8)}}_r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),_r.DEFAULT_BYTE_MODE_ENCODING=Z.UTF8.getName();class gs{write(i,o,u,h=null){if(i.length===0)throw new A("Found empty contents");if(o<0||u<0)throw new A("Requested dimensions are too small: "+o+"x"+u);let g=Ht.L,y=gs.QUIET_ZONE_SIZE;h!==null&&(h.get(cn.ERROR_CORRECTION)!==void 0&&(g=Ht.fromString(h.get(cn.ERROR_CORRECTION).toString())),h.get(cn.MARGIN)!==void 0&&(y=Number.parseInt(h.get(cn.MARGIN).toString(),10)));const S=_r.encode(i,g,h);return this.renderResult(S,o,u,y)}writeToDom(i,o,u,h,g=null){typeof i=="string"&&(i=document.querySelector(i));const y=this.write(o,u,h,g);i&&i.appendChild(y)}renderResult(i,o,u,h){const g=i.getMatrix();if(g===null)throw new Oe;const y=g.getWidth(),S=g.getHeight(),C=y+h*2,I=S+h*2,D=Math.max(o,C),z=Math.max(u,I),H=Math.min(Math.floor(D/C),Math.floor(z/I)),K=Math.floor((D-y*H)/2),ae=Math.floor((z-S*H)/2),le=this.createSVGElement(D,z);for(let me=0,Ae=ae;me<S;me++,Ae+=H)for(let Xe=0,qe=K;Xe<y;Xe++,qe+=H)if(g.get(Xe,me)===1){const Fe=this.createSvgRectElement(qe,Ae,H,H);le.appendChild(Fe)}return le}createSVGElement(i,o){const u=document.createElementNS(gs.SVG_NS,"svg");return u.setAttributeNS(null,"height",i.toString()),u.setAttributeNS(null,"width",o.toString()),u}createSvgRectElement(i,o,u,h){const g=document.createElementNS(gs.SVG_NS,"rect");return g.setAttributeNS(null,"x",i.toString()),g.setAttributeNS(null,"y",o.toString()),g.setAttributeNS(null,"height",u.toString()),g.setAttributeNS(null,"width",h.toString()),g.setAttributeNS(null,"fill","#000000"),g}}gs.QUIET_ZONE_SIZE=4,gs.SVG_NS="http://www.w3.org/2000/svg";class fl{encode(i,o,u,h,g){if(i.length===0)throw new A("Found empty contents");if(o!==J.QR_CODE)throw new A("Can only encode QR_CODE, but got "+o);if(u<0||h<0)throw new A(`Requested dimensions are too small: ${u}x${h}`);let y=Ht.L,S=fl.QUIET_ZONE_SIZE;g!==null&&(g.get(cn.ERROR_CORRECTION)!==void 0&&(y=Ht.fromString(g.get(cn.ERROR_CORRECTION).toString())),g.get(cn.MARGIN)!==void 0&&(S=Number.parseInt(g.get(cn.MARGIN).toString(),10)));const C=_r.encode(i,y,g);return fl.renderResult(C,u,h,S)}static renderResult(i,o,u,h){const g=i.getMatrix();if(g===null)throw new Oe;const y=g.getWidth(),S=g.getHeight(),C=y+h*2,I=S+h*2,D=Math.max(o,C),z=Math.max(u,I),H=Math.min(Math.floor(D/C),Math.floor(z/I)),K=Math.floor((D-y*H)/2),ae=Math.floor((z-S*H)/2),le=new be(D,z);for(let me=0,Ae=ae;me<S;me++,Ae+=H)for(let Xe=0,qe=K;Xe<y;Xe++,qe+=H)g.get(Xe,me)===1&&le.setRegion(qe,Ae,H,H);return le}}fl.QUIET_ZONE_SIZE=4;class fm{encode(i,o,u,h,g){let y;switch(o){case J.QR_CODE:y=new fl;break;default:throw new A("No encoder available for format "+o)}return y.encode(i,o,u,h,g)}}class ni extends de{constructor(i,o,u,h,g,y,S,C){if(super(y,S),this.yuvData=i,this.dataWidth=o,this.dataHeight=u,this.left=h,this.top=g,h+y>o||g+S>u)throw new A("Crop rectangle does not fit within image data.");C&&this.reverseHorizontal(y,S)}getRow(i,o){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const u=this.getWidth();(o==null||o.length<u)&&(o=new Uint8ClampedArray(u));const h=(i+this.top)*this.dataWidth+this.left;return M.arraycopy(this.yuvData,h,o,0,u),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.yuvData;const u=i*o,h=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return M.arraycopy(this.yuvData,g,h,0,u),h;for(let y=0;y<o;y++){const S=y*i;M.arraycopy(this.yuvData,g,h,S,i),g+=this.dataWidth}return h}isCropSupported(){return!0}crop(i,o,u,h){return new ni(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+o,u,h,!1)}renderThumbnail(){const i=this.getWidth()/ni.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/ni.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(i*o),h=this.yuvData;let g=this.top*this.dataWidth+this.left;for(let y=0;y<o;y++){const S=y*i;for(let C=0;C<i;C++){const I=h[g+C*ni.THUMBNAIL_SCALE_FACTOR]&255;u[S+C]=4278190080|I*65793}g+=this.dataWidth*ni.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/ni.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ni.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,o){const u=this.yuvData;for(let h=0,g=this.top*this.dataWidth+this.left;h<o;h++,g+=this.dataWidth){const y=g+i/2;for(let S=g,C=g+i-1;S<y;S++,C--){const I=u[S];u[S]=u[C],u[C]=I}}}invert(){return new xe(this)}}ni.THUMBNAIL_SCALE_FACTOR=2;class Su extends de{constructor(i,o,u,h,g,y,S){if(super(o,u),this.dataWidth=h,this.dataHeight=g,this.left=y,this.top=S,i.BYTES_PER_ELEMENT===4){const C=o*u,I=new Uint8ClampedArray(C);for(let D=0;D<C;D++){const z=i[D],H=z>>16&255,K=z>>7&510,ae=z&255;I[D]=(H+K+ae)/4&255}this.luminances=I}else this.luminances=i;if(h===void 0&&(this.dataWidth=o),g===void 0&&(this.dataHeight=u),y===void 0&&(this.left=0),S===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+u>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(i,o){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const u=this.getWidth();(o==null||o.length<u)&&(o=new Uint8ClampedArray(u));const h=(i+this.top)*this.dataWidth+this.left;return M.arraycopy(this.luminances,h,o,0,u),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.luminances;const u=i*o,h=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return M.arraycopy(this.luminances,g,h,0,u),h;for(let y=0;y<o;y++){const S=y*i;M.arraycopy(this.luminances,g,h,S,i),g+=this.dataWidth}return h}isCropSupported(){return!0}crop(i,o,u,h){return new Su(this.luminances,u,h,this.dataWidth,this.dataHeight,this.left+i,this.top+o)}invert(){return new xe(this)}}class wf extends Z{static forName(i){return this.getCharacterSetECIByName(i)}}class ao{}ao.ISO_8859_1=Z.ISO8859_1;class hl{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class Af{static singletonList(i){return[i]}static min(i,o){return i.sort(o)[0]}}class Sf{constructor(i){this.previous=i}getPrevious(){return this.previous}}class ps extends Sf{constructor(i,o,u){super(i),this.value=o,this.bitCount=u}appendTo(i,o){i.appendBits(this.value,this.bitCount)}add(i,o){return new ps(this,i,o)}addBinaryShift(i,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ps(this,i,o)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+U.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class lc extends ps{constructor(i,o,u){super(i,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=u}appendTo(i,o){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):u===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(o[this.binaryShiftStart+u],8)}addBinaryShift(i,o){return new lc(this,i,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ef(B,i,o){return new lc(B,i,o)}function ml(B,i,o){return new ps(B,i,o)}const gl=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],qi=0,oc=1,wa=2,Eu=3,La=4,io=new ps(null,0,0),xs=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function hm(B){for(let i of B)F.fill(i,-1);return B[qi][La]=0,B[oc][La]=0,B[oc][qi]=28,B[Eu][La]=0,B[wa][La]=0,B[wa][qi]=15,B}const so=hm(F.createInt32Array(6,6));class Ba{constructor(i,o,u,h){this.token=i,this.mode=o,this.binaryShiftByteCount=u,this.bitCount=h}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,o){let u=this.bitCount,h=this.token;if(i!==this.mode){let y=xs[this.mode][i];h=ml(h,y&65535,y>>16),u+=y>>16}let g=i===wa?4:5;return h=ml(h,o,g),new Ba(h,i,0,u+g)}shiftAndAppend(i,o){let u=this.token,h=this.mode===wa?4:5;return u=ml(u,so[this.mode][i],h),u=ml(u,o,5),new Ba(u,this.mode,0,this.bitCount+h+5)}addBinaryShiftChar(i){let o=this.token,u=this.mode,h=this.bitCount;if(this.mode===La||this.mode===wa){let S=xs[u][qi];o=ml(o,S&65535,S>>16),h+=S>>16,u=qi}let g=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,y=new Ba(o,u,this.binaryShiftByteCount+1,h+g);return y.binaryShiftByteCount===2078&&(y=y.endBinaryShift(i+1)),y}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=Ef(o,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ba(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let o=this.bitCount+(xs[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?o+=Ba.calculateBinaryShiftCost(i)-Ba.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(o+=10),o<=i.bitCount}toBitArray(i){let o=[];for(let h=this.endBinaryShift(i.length).token;h!==null;h=h.getPrevious())o.unshift(h);let u=new V;for(const h of o)h.appendTo(u,i);return u}toString(){return Q.format("%s bits=%d bytes=%d",gl[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}Ba.INITIAL_STATE=new Ba(io,qi,0,0);function Cf(B){const i=Q.getCharCode(" "),o=Q.getCharCode("."),u=Q.getCharCode(",");B[qi][i]=1;const h=Q.getCharCode("Z"),g=Q.getCharCode("A");for(let H=g;H<=h;H++)B[qi][H]=H-g+2;B[oc][i]=1;const y=Q.getCharCode("z"),S=Q.getCharCode("a");for(let H=S;H<=y;H++)B[oc][H]=H-S+2;B[wa][i]=1;const C=Q.getCharCode("9"),I=Q.getCharCode("0");for(let H=I;H<=C;H++)B[wa][H]=H-I+2;B[wa][u]=12,B[wa][o]=13;const D=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let H=0;H<D.length;H++)B[Eu][Q.getCharCode(D[H])]=H;const z=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let H=0;H<z.length;H++)Q.getCharCode(z[H])>0&&(B[La][Q.getCharCode(z[H])]=H);return B}const lo=Cf(F.createInt32Array(5,256));class vs{constructor(i){this.text=i}encode(){const i=Q.getCharCode(" "),o=Q.getCharCode(`
`);let u=Af.singletonList(Ba.INITIAL_STATE);for(let g=0;g<this.text.length;g++){let y,S=g+1<this.text.length?this.text[g+1]:0;switch(this.text[g]){case Q.getCharCode("\r"):y=S===o?2:0;break;case Q.getCharCode("."):y=S===i?3:0;break;case Q.getCharCode(","):y=S===i?4:0;break;case Q.getCharCode(":"):y=S===i?5:0;break;default:y=0}y>0?(u=vs.updateStateListForPair(u,g,y),g++):u=this.updateStateListForChar(u,g)}return Af.min(u,(g,y)=>g.getBitCount()-y.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,o){const u=[];for(let h of i)this.updateStateForChar(h,o,u);return vs.simplifyStates(u)}updateStateForChar(i,o,u){let h=this.text[o]&255,g=lo[i.getMode()][h]>0,y=null;for(let S=0;S<=La;S++){let C=lo[S][h];if(C>0){if(y==null&&(y=i.endBinaryShift(o)),!g||S===i.getMode()||S===wa){const I=y.latchAndAppend(S,C);u.push(I)}if(!g&&so[i.getMode()][S]>=0){const I=y.shiftAndAppend(S,C);u.push(I)}}}if(i.getBinaryShiftByteCount()>0||lo[i.getMode()][h]===0){let S=i.addBinaryShiftChar(o);u.push(S)}}static updateStateListForPair(i,o,u){const h=[];for(let g of i)this.updateStateForPair(g,o,u,h);return this.simplifyStates(h)}static updateStateForPair(i,o,u,h){let g=i.endBinaryShift(o);if(h.push(g.latchAndAppend(La,u)),i.getMode()!==La&&h.push(g.shiftAndAppend(La,u)),u===3||u===4){let y=g.latchAndAppend(wa,16-u).latchAndAppend(wa,1);h.push(y)}if(i.getBinaryShiftByteCount()>0){let y=i.addBinaryShiftChar(o).addBinaryShiftChar(o+1);h.push(y)}}static simplifyStates(i){let o=[];for(const u of i){let h=!0;for(const g of o){if(g.isBetterThanOrEqualTo(u)){h=!1;break}u.isBetterThanOrEqualTo(g)&&(o=o.filter(y=>y!==g))}h&&o.push(u)}return o}}class Xt{constructor(){}static encodeBytes(i){return Xt.encode(i,Xt.DEFAULT_EC_PERCENT,Xt.DEFAULT_AZTEC_LAYERS)}static encode(i,o,u){let h=new vs(i).encode(),g=U.truncDivision(h.getSize()*o,100)+11,y=h.getSize()+g,S,C,I,D,z;if(u!==Xt.DEFAULT_AZTEC_LAYERS){if(S=u<0,C=Math.abs(u),C>(S?Xt.MAX_NB_BITS_COMPACT:Xt.MAX_NB_BITS))throw new A(Q.format("Illegal value %s for layers",u));I=Xt.totalBitsInLayer(C,S),D=Xt.WORD_SIZE[C];let Fe=I-I%D;if(z=Xt.stuffBits(h,D),z.getSize()+g>Fe)throw new A("Data to large for user specified layer");if(S&&z.getSize()>D*64)throw new A("Data to large for user specified layer")}else{D=0,z=null;for(let Fe=0;;Fe++){if(Fe>Xt.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(S=Fe<=3,C=S?Fe+1:Fe,I=Xt.totalBitsInLayer(C,S),y>I)continue;(z==null||D!==Xt.WORD_SIZE[C])&&(D=Xt.WORD_SIZE[C],z=Xt.stuffBits(h,D));let Ft=I-I%D;if(!(S&&z.getSize()>D*64)&&z.getSize()+g<=Ft)break}}let H=Xt.generateCheckWords(z,I,D),K=z.getSize()/D,ae=Xt.generateModeMessage(S,C,K),le=(S?11:14)+C*4,me=new Int32Array(le),Ae;if(S){Ae=le;for(let Fe=0;Fe<me.length;Fe++)me[Fe]=Fe}else{Ae=le+1+2*U.truncDivision(U.truncDivision(le,2)-1,15);let Fe=U.truncDivision(le,2),Ft=U.truncDivision(Ae,2);for(let Pt=0;Pt<Fe;Pt++){let Kr=Pt+U.truncDivision(Pt,15);me[Fe-Pt-1]=Ft-Kr-1,me[Fe+Pt]=Ft+Kr+1}}let Xe=new be(Ae);for(let Fe=0,Ft=0;Fe<C;Fe++){let Pt=(C-Fe)*4+(S?9:12);for(let Kr=0;Kr<Pt;Kr++){let Aa=Kr*2;for(let qn=0;qn<2;qn++)H.get(Ft+Aa+qn)&&Xe.set(me[Fe*2+qn],me[Fe*2+Kr]),H.get(Ft+Pt*2+Aa+qn)&&Xe.set(me[Fe*2+Kr],me[le-1-Fe*2-qn]),H.get(Ft+Pt*4+Aa+qn)&&Xe.set(me[le-1-Fe*2-qn],me[le-1-Fe*2-Kr]),H.get(Ft+Pt*6+Aa+qn)&&Xe.set(me[le-1-Fe*2-Kr],me[Fe*2+qn])}Ft+=Pt*8}if(Xt.drawModeMessage(Xe,S,Ae,ae),S)Xt.drawBullsEye(Xe,U.truncDivision(Ae,2),5);else{Xt.drawBullsEye(Xe,U.truncDivision(Ae,2),7);for(let Fe=0,Ft=0;Fe<U.truncDivision(le,2)-1;Fe+=15,Ft+=16)for(let Pt=U.truncDivision(Ae,2)&1;Pt<Ae;Pt+=2)Xe.set(U.truncDivision(Ae,2)-Ft,Pt),Xe.set(U.truncDivision(Ae,2)+Ft,Pt),Xe.set(Pt,U.truncDivision(Ae,2)-Ft),Xe.set(Pt,U.truncDivision(Ae,2)+Ft)}let qe=new hl;return qe.setCompact(S),qe.setSize(Ae),qe.setLayers(C),qe.setCodeWords(K),qe.setMatrix(Xe),qe}static drawBullsEye(i,o,u){for(let h=0;h<u;h+=2)for(let g=o-h;g<=o+h;g++)i.set(g,o-h),i.set(g,o+h),i.set(o-h,g),i.set(o+h,g);i.set(o-u,o-u),i.set(o-u+1,o-u),i.set(o-u,o-u+1),i.set(o+u,o-u),i.set(o+u,o-u+1),i.set(o+u,o+u-1)}static generateModeMessage(i,o,u){let h=new V;return i?(h.appendBits(o-1,2),h.appendBits(u-1,6),h=Xt.generateCheckWords(h,28,4)):(h.appendBits(o-1,5),h.appendBits(u-1,11),h=Xt.generateCheckWords(h,40,4)),h}static drawModeMessage(i,o,u,h){let g=U.truncDivision(u,2);if(o)for(let y=0;y<7;y++){let S=g-3+y;h.get(y)&&i.set(S,g-5),h.get(y+7)&&i.set(g+5,S),h.get(20-y)&&i.set(S,g+5),h.get(27-y)&&i.set(g-5,S)}else for(let y=0;y<10;y++){let S=g-5+y+U.truncDivision(y,5);h.get(y)&&i.set(S,g-7),h.get(y+10)&&i.set(g+7,S),h.get(29-y)&&i.set(S,g+7),h.get(39-y)&&i.set(g-7,S)}}static generateCheckWords(i,o,u){let h=i.getSize()/u,g=new no(Xt.getGF(u)),y=U.truncDivision(o,u),S=Xt.bitsToWords(i,u,y);g.encode(S,y-h);let C=o%u,I=new V;I.appendBits(0,C);for(const D of Array.from(S))I.appendBits(D,u);return I}static bitsToWords(i,o,u){let h=new Int32Array(u),g,y;for(g=0,y=i.getSize()/o;g<y;g++){let S=0;for(let C=0;C<o;C++)S|=i.get(g*o+C)?1<<o-C-1:0;h[g]=S}return h}static getGF(i){switch(i){case 4:return Je.AZTEC_PARAM;case 6:return Je.AZTEC_DATA_6;case 8:return Je.AZTEC_DATA_8;case 10:return Je.AZTEC_DATA_10;case 12:return Je.AZTEC_DATA_12;default:throw new A("Unsupported word size "+i)}}static stuffBits(i,o){let u=new V,h=i.getSize(),g=(1<<o)-2;for(let y=0;y<h;y+=o){let S=0;for(let C=0;C<o;C++)(y+C>=h||i.get(y+C))&&(S|=1<<o-1-C);(S&g)===g?(u.appendBits(S&g,o),y--):(S&g)===0?(u.appendBits(S|1,o),y--):u.appendBits(S,o)}return u}static totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}Xt.DEFAULT_EC_PERCENT=33,Xt.DEFAULT_AZTEC_LAYERS=0,Xt.MAX_NB_BITS=32,Xt.MAX_NB_BITS_COMPACT=4,Xt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class oo{encode(i,o,u,h){return this.encodeWithHints(i,o,u,h,null)}encodeWithHints(i,o,u,h,g){let y=ao.ISO_8859_1,S=Xt.DEFAULT_EC_PERCENT,C=Xt.DEFAULT_AZTEC_LAYERS;return g!=null&&(g.has(cn.CHARACTER_SET)&&(y=wf.forName(g.get(cn.CHARACTER_SET).toString())),g.has(cn.ERROR_CORRECTION)&&(S=U.parseInt(g.get(cn.ERROR_CORRECTION).toString())),g.has(cn.AZTEC_LAYERS)&&(C=U.parseInt(g.get(cn.AZTEC_LAYERS).toString()))),oo.encodeLayers(i,o,u,h,y,S,C)}static encodeLayers(i,o,u,h,g,y,S){if(o!==J.AZTEC)throw new A("Can only encode AZTEC, but got "+o);let C=Xt.encode(Q.getBytes(i,g),y,S);return oo.renderResult(C,u,h)}static renderResult(i,o,u){let h=i.getMatrix();if(h==null)throw new Oe;let g=h.getWidth(),y=h.getHeight(),S=Math.max(o,g),C=Math.max(u,y),I=Math.min(S/g,C/y),D=(S-g*I)/2,z=(C-y*I)/2,H=new be(S,C);for(let K=0,ae=z;K<y;K++,ae+=I)for(let le=0,me=D;le<g;le++,me+=I)h.get(le,K)&&H.setRegion(me,ae,I,I);return H}}r.AbstractExpandedDecoder=Vt,r.ArgumentException=w,r.ArithmeticException=Be,r.AztecCode=hl,r.AztecCodeReader=Ui,r.AztecCodeWriter=oo,r.AztecDecoder=Nt,r.AztecDetector=Ai,r.AztecDetectorResult=sl,r.AztecEncoder=Xt,r.AztecHighLevelEncoder=vs,r.AztecPoint=nn,r.BarcodeFormat=J,r.Binarizer=j,r.BinaryBitmap=T,r.BitArray=V,r.BitMatrix=be,r.BitSource=kt,r.BrowserAztecCodeReader=eo,r.BrowserBarcodeReader=gt,r.BrowserCodeReader=Te,r.BrowserDatamatrixCodeReader=ec,r.BrowserMultiFormatReader=bf,r.BrowserPDF417Reader=cm,r.BrowserQRCodeReader=um,r.BrowserQRCodeSvgWriter=gs,r.CharacterSetECI=Z,r.ChecksumException=_,r.Code128Reader=He,r.Code39Reader=lr,r.DataMatrixDecodedBitStreamParser=ya,r.DataMatrixReader=Ra,r.DecodeHintType=Y,r.DecoderResult=he,r.DefaultGridSampler=fs,r.DetectorResult=ka,r.EAN13Reader=mt,r.EncodeHintType=cn,r.Exception=v,r.FormatException=L,r.GenericGF=Je,r.GenericGFPoly=st,r.GlobalHistogramBinarizer=re,r.GridSampler=zi,r.GridSamplerInstance=Hn,r.HTMLCanvasElementLuminanceSource=Me,r.HybridBinarizer=se,r.ITFReader=jt,r.IllegalArgumentException=A,r.IllegalStateException=Oe,r.InvertedLuminanceSource=xe,r.LuminanceSource=de,r.MathUtils=lt,r.MultiFormatOneDReader=Ye,r.MultiFormatReader=yf,r.MultiFormatWriter=fm,r.NotFoundException=X,r.OneDReader=Qt,r.PDF417DecodedBitStreamParser=Ee,r.PDF417DecoderErrorCorrection=Ci,r.PDF417Reader=Sn,r.PDF417ResultMetadata=dl,r.PerspectiveTransform=In,r.PlanarYUVLuminanceSource=ni,r.QRCodeByteMatrix=sc,r.QRCodeDataMask=la,r.QRCodeDecodedBitStreamParser=Or,r.QRCodeDecoderErrorCorrectionLevel=Ht,r.QRCodeDecoderFormatInformation=hn,r.QRCodeEncoder=_r,r.QRCodeEncoderQRCode=ms,r.QRCodeMaskUtil=Fr,r.QRCodeMatrixUtil=St,r.QRCodeMode=pt,r.QRCodeReader=Ei,r.QRCodeVersion=ut,r.QRCodeWriter=fl,r.RGBLuminanceSource=Su,r.RSS14Reader=ke,r.RSSExpandedReader=Le,r.ReaderException=ic,r.ReedSolomonDecoder=Ct,r.ReedSolomonEncoder=no,r.ReedSolomonException=Et,r.Result=Pe,r.ResultMetadataType=Ze,r.ResultPoint=et,r.StringUtils=Q,r.UnsupportedOperationException=Ne,r.VideoInputDevice=$,r.WhiteRectangleDetector=hr,r.WriterException=ur,r.ZXingArrays=F,r.ZXingCharset=wf,r.ZXingInteger=U,r.ZXingStandardCharsets=ao,r.ZXingStringBuilder=ie,r.ZXingStringEncoding=te,r.ZXingSystem=M,r.createAbstractExpandedDecoder=Hi,Object.defineProperty(r,"__esModule",{value:!0})}))})(bd,bd.exports)),bd.exports}var qr=e$();const t$=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var m4=(function(){function e(t,r,n){if(this.formatMap=new Map([[at.QR_CODE,qr.BarcodeFormat.QR_CODE],[at.AZTEC,qr.BarcodeFormat.AZTEC],[at.CODABAR,qr.BarcodeFormat.CODABAR],[at.CODE_39,qr.BarcodeFormat.CODE_39],[at.CODE_93,qr.BarcodeFormat.CODE_93],[at.CODE_128,qr.BarcodeFormat.CODE_128],[at.DATA_MATRIX,qr.BarcodeFormat.DATA_MATRIX],[at.MAXICODE,qr.BarcodeFormat.MAXICODE],[at.ITF,qr.BarcodeFormat.ITF],[at.EAN_13,qr.BarcodeFormat.EAN_13],[at.EAN_8,qr.BarcodeFormat.EAN_8],[at.PDF_417,qr.BarcodeFormat.PDF_417],[at.RSS_14,qr.BarcodeFormat.RSS_14],[at.RSS_EXPANDED,qr.BarcodeFormat.RSS_EXPANDED],[at.UPC_A,qr.BarcodeFormat.UPC_A],[at.UPC_E,qr.BarcodeFormat.UPC_E],[at.UPC_EAN_EXTENSION,qr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!t$)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var l=this.createZXingFormats(t),c=new Map;c.set(qr.DecodeHintType.POSSIBLE_FORMATS,l),c.set(qr.DecodeHintType.TRY_HARDER,!1),this.hints=c}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,l){try{n(r.decode(t))}catch(c){l(c)}})},e.prototype.decode=function(t){var r=new qr.MultiFormatReader(this.verbose,this.hints),n=new qr.HTMLCanvasElementLuminanceSource(t),l=new qr.BinaryBitmap(new qr.HybridBinarizer(n)),c=r.decode(l);return{text:c.text,format:EI.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,l){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,l=t;n<l.length;n++){var c=l[n];this.formatMap.has(c)?r.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),r$=function(e,t,r,n){function l(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function p(w){try{v(n.next(w))}catch(A){f(A)}}function b(w){try{v(n.throw(w))}catch(A){f(A)}}function v(w){w.done?c(w.value):l(w.value).then(p,b)}v((n=n.apply(e,t||[])).next())})},n$=function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,l,c,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(v){return function(w){return b([v,w])}}function b(v){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(r=0)),r;)try{if(n=1,l&&(c=v[0]&2?l.return:v[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,v[1])).done)return c;switch(l=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return r.label++,{value:v[1],done:!1};case 5:r.label++,l=v[1],v=[0];continue;case 7:v=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){r=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){r.label=v[1];break}if(v[0]===6&&r.label<c[1]){r.label=c[1],c=v;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(v);break}c[2]&&r.ops.pop(),r.trys.pop();continue}v=t.call(e,r)}catch(w){v=[6,w],l=0}finally{n=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},g4=(function(){function e(t,r,n){if(this.formatMap=new Map([[at.QR_CODE,"qr_code"],[at.AZTEC,"aztec"],[at.CODABAR,"codabar"],[at.CODE_39,"code_39"],[at.CODE_93,"code_93"],[at.CODE_128,"code_128"],[at.DATA_MATRIX,"data_matrix"],[at.ITF,"itf"],[at.EAN_13,"ean_13"],[at.EAN_8,"ean_8"],[at.PDF_417,"pdf417"],[at.UPC_A,"upc_a"],[at.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var l=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return r$(this,void 0,void 0,function(){var r,n;return n$(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=l.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:EI.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,l=0,c=t;l<c.length;l++){var f=c[l],p=f.boundingBox.width*f.boundingBox.height;p>n&&(n=p,r=f)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,l=t;n<l.length;n++){var c=l[n];this.formatMap.has(c)?r.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,l){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),p4=function(e,t,r,n){function l(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function p(w){try{v(n.next(w))}catch(A){f(A)}}function b(w){try{v(n.throw(w))}catch(A){f(A)}}function v(w){w.done?c(w.value):l(w.value).then(p,b)}v((n=n.apply(e,t||[])).next())})},x4=function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,l,c,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(v){return function(w){return b([v,w])}}function b(v){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(r=0)),r;)try{if(n=1,l&&(c=v[0]&2?l.return:v[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,v[1])).done)return c;switch(l=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return r.label++,{value:v[1],done:!1};case 5:r.label++,l=v[1],v=[0];continue;case 7:v=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){r=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){r.label=v[1];break}if(v[0]===6&&r.label<c[1]){r.label=c[1],c=v;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(v);break}c[2]&&r.ops.pop(),r.trys.pop();continue}v=t.call(e,r)}catch(w){v=[6,w],l=0}finally{n=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},a$=(function(){function e(t,r,n,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&g4.isSupported()?(this.primaryDecoder=new g4(t,n,l),this.secondaryDecoder=new m4(t,n,l)):this.primaryDecoder=new m4(t,n,l)}return e.prototype.decodeAsync=function(t){return p4(this,void 0,void 0,function(){var r;return x4(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return p4(this,void 0,void 0,function(){var r,n;return x4(this,function(l){switch(l.label){case 0:r=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,l.sent()];case 3:if(n=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var l=n[r];t+=l}var c=t/this.executionResults.length;console.log("".concat(c," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),Yb=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(n[c]=l[c])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),o1=function(e,t,r,n){function l(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function p(w){try{v(n.next(w))}catch(A){f(A)}}function b(w){try{v(n.throw(w))}catch(A){f(A)}}function v(w){w.done?c(w.value):l(w.value).then(p,b)}v((n=n.apply(e,t||[])).next())})},c1=function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,l,c,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(v){return function(w){return b([v,w])}}function b(v){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(r=0)),r;)try{if(n=1,l&&(c=v[0]&2?l.return:v[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,v[1])).done)return c;switch(l=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return r.label++,{value:v[1],done:!1};case 5:r.label++,l=v[1],v=[0];continue;case 7:v=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){r=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){r.label=v[1];break}if(v[0]===6&&r.label<c[1]){r.label=c[1],c=v;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(v);break}c[2]&&r.ops.pop(),r.trys.pop();continue}v=t.call(e,r)}catch(w){v=[6,w],l=0}finally{n=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},OI=(function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e})(),i$=(function(e){Yb(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var l={advanced:[n]};return this.track.applyConstraints(l)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(OI),s$=(function(e){Yb(t,e);function t(r){return e.call(this,"zoom",r)||this}return t})(i$),l$=(function(e){Yb(t,e);function t(r){return e.call(this,"torch",r)||this}return t})(OI),o$=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new s$(this.track)},e.prototype.torchFeature=function(){return new l$(this.track)},e})(),c$=(function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,l=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,l),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,l){return o1(this,void 0,void 0,function(){var c,f;return c1(this,function(p){switch(p.label){case 0:return c=new e(t,r,l),n.aspectRatio?(f={aspectRatio:n.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:p.sent(),p.label=2;case 2:return c.setupSurface(),[2,c]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return o1(this,void 0,void 0,function(){return c1(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var l=t.mediaStream.getVideoTracks(),c=l.length,f=0;t.mediaStream.getVideoTracks().forEach(function(p){t.mediaStream.removeTrack(p),p.stop(),++f,f>=c&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new o$(this.getFirstTrackOrFail())},e})(),u$=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return o1(this,void 0,void 0,function(){return c1(this,function(l){return[2,c$.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return o1(this,void 0,void 0,function(){var r,n;return c1(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=l.sent(),[2,new e(n)]}})})},e})(),v4=function(e,t,r,n){function l(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function p(w){try{v(n.next(w))}catch(A){f(A)}}function b(w){try{v(n.throw(w))}catch(A){f(A)}}function v(w){w.done?c(w.value):l(w.value).then(p,b)}v((n=n.apply(e,t||[])).next())})},y4=function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,l,c,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(v){return function(w){return b([v,w])}}function b(v){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(r=0)),r;)try{if(n=1,l&&(c=v[0]&2?l.return:v[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,v[1])).done)return c;switch(l=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return r.label++,{value:v[1],done:!1};case 5:r.label++,l=v[1],v=[0];continue;case 7:v=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){r=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){r.label=v[1];break}if(v[0]===6&&r.label<c[1]){r.label=c[1],c=v;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(v);break}c[2]&&r.ops.pop(),r.trys.pop();continue}v=t.call(e,r)}catch(w){v=[6,w],l=0}finally{n=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},d$=(function(){function e(){}return e.failIfNotSupported=function(){return v4(this,void 0,void 0,function(){return y4(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return v4(this,void 0,void 0,function(){return y4(this,function(r){return[2,u$.create(t)]})})},e})(),f$=function(e,t,r,n){function l(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function p(w){try{v(n.next(w))}catch(A){f(A)}}function b(w){try{v(n.throw(w))}catch(A){f(A)}}function v(w){w.done?c(w.value):l(w.value).then(p,b)}v((n=n.apply(e,t||[])).next())})},h$=function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,l,c,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(v){return function(w){return b([v,w])}}function b(v){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(r=0)),r;)try{if(n=1,l&&(c=v[0]&2?l.return:v[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,v[1])).done)return c;switch(l=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return r.label++,{value:v[1],done:!1};case 5:r.label++,l=v[1],v=[0];continue;case 7:v=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){r=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){r.label=v[1];break}if(v[0]===6&&r.label<c[1]){r.label=c[1],c=v;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(v);break}c[2]&&r.ops.pop(),r.trys.pop();continue}v=t.call(e,r)}catch(w){v=[6,w],l=0}finally{n=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},m$=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Vc.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Vc.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return f$(this,void 0,void 0,function(){var t,r,n,l,c,f,p;return h$(this,function(b){switch(b.label){case 0:return t=function(v){for(var w=v.getVideoTracks(),A=0,T=w;A<T.length;A++){var _=T[A];_.enabled=!1,_.stop(),v.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=b.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=b.sent(),l=[],c=0,f=n;c<f.length;c++)p=f[c],p.kind==="videoinput"&&l.push({id:p.deviceId,label:p.label});return t(r),[2,l]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(c){for(var f=[],p=0,b=c;p<b.length;p++){var v=b[p];v.kind==="video"&&f.push({id:v.id,label:v.label})}t(f)},l=MediaStreamTrack;l.getSources(n)})},e})(),Jr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Jr||(Jr={}));var g$=(function(){function e(){this.state=Jr.NOT_STARTED,this.onGoingTransactionNewState=Jr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Jr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Jr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Jr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Jr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Jr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Jr.UNKNOWN:throw"Transition from unknown is not allowed";case Jr.NOT_STARTED:this.failIfNewStateIs(t,[Jr.PAUSED]);break;case Jr.SCANNING:break;case Jr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,l=r;n<l.length;n++){var c=l[n];if(t===c)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),p$=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Jr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Jr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Jr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Jr.PAUSED},e})(),x$=(function(){function e(){}return e.create=function(){return new p$(new g$)},e})(),v$=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(n[c]=l[c])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ya=(function(e){v$(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(_i),y$=(function(){function e(t,r){this.logger=r,this.fps=Ya.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Ya.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?TI.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!es(this.qrbox)},e.create=function(t,r){return new e(t,r)},e})(),b4=(function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new NI(this.verbose),this.qrcode=new a$(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=x$.create()}return e.prototype.start=function(t,r,n,l){var c=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;l?f=l:f=this.verbose?this.logger.log:function(){};var p=y$.create(r,this.logger);this.clearElement();var b=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?b=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var v=b,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:Ya.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var A=this,T=this.stateManagerProxy.startTransition(Jr.SCANNING);return new Promise(function(_,j){var M=v?p.videoConstraints:A.createVideoConstraints(t);if(!M){T.cancel(),j("videoConstraints should be defined");return}var k={};(!v||p.aspectRatio)&&(k.aspectRatio=p.aspectRatio);var R={onRenderSurfaceReady:function(F,U){A.setupUi(F,U,p),A.isScanning=!0,A.foreverScan(p,n,f)}};d$.failIfNotSupported().then(function(F){F.create(M).then(function(U){return U.render(c.element,k,R).then(function(V){A.renderedCamera=V,T.execute(),_(null)}).catch(function(V){T.cancel(),j(V)})}).catch(function(U){T.cancel(),j(Vc.errorGettingUserMedia(U))})}).catch(function(F){T.cancel(),j(Vc.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Jr.PAUSED),this.showPausedState(),(es(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Jr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Jr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var c=document.getElementById(Ya.SHADED_REGION_ELEMENT_ID);c&&t.element.removeChild(c)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),n(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),r.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(es(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,c){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var f=new Image;f.onload=function(){var p=f.width,b=f.height,v=document.getElementById(n.elementId),w=v.clientWidth?v.clientWidth:Ya.DEFAULT_WIDTH,A=Math.max(v.clientHeight?v.clientHeight:b,Ya.FILE_SCAN_MIN_HEIGHT),T=n.computeCanvasDrawConfig(p,b,w,A);if(r){var _=n.createCanvasElement(w,A,"qr-canvas-visible");_.style.display="inline-block",v.appendChild(_);var j=_.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=w,j.canvas.height=A,j.drawImage(f,0,0,p,b,T.x,T.y,T.width,T.height)}var M=Ya.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(f.width,T.width),R=Math.max(f.height,T.height),F=k+2*M,U=R+2*M,V=n.createCanvasElement(F,U);v.appendChild(V);var q=V.getContext("2d");if(!q)throw"Unable to get 2d context from canvas";q.canvas.width=F,q.canvas.height=U,q.drawImage(f,0,0,p,b,M,M,k,R);try{n.qrcode.decodeRobustlyAsync(V).then(function(Y){l(d4.createFromQrcodeResult(Y))}).catch(c)}catch(Y){c("QR code parse error, error = ".concat(Y))}},f.onerror=c,f.onabort=c,f.onstalled=c,f.onsuspend=c,f.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return m$.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!TI.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[at.QR_CODE,at.AZTEC,at.CODABAR,at.CODE_39,at.CODE_93,at.CODE_128,at.DATA_MATRIX,at.MAXICODE,at.ITF,at.EAN_13,at.EAN_8,at.PDF_417,at.RSS_14,at.RSS_EXPANDED,at.UPC_A,at.UPC_E,at.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],l=0,c=t.formatsToSupport;l<c.length;l++){var f=c[l];$Z(f)?n.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(es(t))return!0;if(!es(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(es(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return es(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var l=this,c=n.qrbox;this.validateQrboxConfig(c);var f=this.toQrdimensions(t,r,c),p=function(v){if(v<Ya.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ya.MIN_QR_BOX_SIZE,"px.")},b=function(v){return v>t&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),v=t),v};p(f.width),p(f.height),f.width=b(f.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var l=es(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(l);var c=this.toQrdimensions(t,r,l);c.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=n.isShadedBoxEnabled()&&c.height<=r,p={x:0,y:0,width:t,height:r},b=f?this.getShadedRegionBounds(t,r,c):p,v=this.createCanvasElement(b.width,b.height),w={willReadFrequently:!0},A=v.getContext("2d",w);A.canvas.width=b.width,A.canvas.height=b.height,this.element.append(v),f&&this.possiblyInsertShadingElement(this.element,t,r,c),this.createScannerPausedUiElement(this.element),this.qrRegion=b,this.context=A,this.canvasElement=v},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=Vc.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return t(l.text,d4.createFromQrcodeResult(l)),n.possiblyUpdateShaders(!0),!0}).catch(function(l){n.possiblyUpdateShaders(!1);var c=Vc.codeParseError(l);return r(c,CI.createFrom(c)),!1})},e.prototype.foreverScan=function(t,r,n){var l=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),f=c.videoWidth/c.clientWidth,p=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var b=this.qrRegion.width*f,v=this.qrRegion.height*p,w=this.qrRegion.x*f,A=this.qrRegion.y*p;this.context.drawImage(c,w,A,b,v,0,0,this.qrRegion.width,this.qrRegion.height);var T=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(t,r,n)},l.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(_){!_&&t.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(r,n).finally(function(){T()})):T()}).catch(function(_){l.logger.logError("Error happend while scanning context",_),T()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",l={user:!0,environment:!0},c="exact",f=function(j){if(j in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(j,"'")},p=Object.keys(t);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var b=Object.keys(t)[0];if(b!==r&&b!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(b===r){var v=t.facingMode;if(typeof v=="string"){if(f(v))return{facingMode:v}}else if(typeof v=="object")if(c in v){if(f(v["".concat(c)]))return{facingMode:{exact:v["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var w=typeof v;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var A=t.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(c in A)return{deviceId:{exact:A["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var T=typeof A;throw"Invalid type of 'deviceId' = ".concat(T)}}}var _=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},e.prototype.computeCanvasDrawConfig=function(t,r,n,l){if(t<=n&&r<=l){var c=(n-t)/2,f=(l-r)/2;return{x:c,y:f,width:t,height:r}}else{var p=t,b=r;return t>n&&(r=n/t*r,t=n),r>l&&(t=l/r*t,r=l),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(b)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,l)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Ya.BORDER_SHADER_MATCH_COLOR:Ya.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var l=t,c=r,f=document.createElement("canvas");return f.style.width="".concat(l,"px"),f.style.height="".concat(c,"px"),f.style.display="none",f.id=es(n)?"qr-canvas":n,f},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,l){if(!(r-l.width<1||n-l.height<1)){var c=document.createElement("div");c.style.position="absolute";var f=(r-l.width)/2,p=(n-l.height)/2;if(c.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(Ya.SHADED_REGION_ELEMENT_ID),r-l.width<11||n-l.height<11)this.hasBorderShaders=!1;else{var b=5,v=40;this.insertShaderBorders(c,v,b,-b,null,0,!0),this.insertShaderBorders(c,v,b,-b,null,0,!1),this.insertShaderBorders(c,v,b,null,-b,0,!0),this.insertShaderBorders(c,v,b,null,-b,0,!1),this.insertShaderBorders(c,b,v+b,-b,null,-b,!0),this.insertShaderBorders(c,b,v+b,null,-b,-b,!0),this.insertShaderBorders(c,b,v+b,-b,null,-b,!1),this.insertShaderBorders(c,b,v+b,null,-b,-b,!1),this.hasBorderShaders=!0}t.append(c)}},e.prototype.insertShaderBorders=function(t,r,n,l,c,f,p){var b=document.createElement("div");b.style.position="absolute",b.style.backgroundColor=Ya.BORDER_SHADER_DEFAULT_COLOR,b.style.width="".concat(r,"px"),b.style.height="".concat(n,"px"),l!==null&&(b.style.top="".concat(l,"px")),c!==null&&(b.style.bottom="".concat(c,"px")),p?b.style.left="".concat(f,"px"):b.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(b),t.appendChild(b)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),qb="data:image/svg+xml;base64,",b$=qb+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",w$=qb+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",w4=qb+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",A$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",A4=(function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e})(),S$=(function(){function e(){this.data=A4.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=A4.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e})(),E$=(function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=f4.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var n=document.createElement("br"),l=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(l);var c=document.createElement("a");c.innerText=f4.reportIssues(),c.href="https://github.com/mebjas/html5-qrcode/issues",c.target="new",c.style.color="white",this.infoDiv.appendChild(c),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e})(),C$=(function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=w4,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(n){return r.onHoverIn()},this.infoIcon.onmouseout=function(n){return r.onHoverOut()},this.infoIcon.onclick=function(n){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=A$,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=w4,this.infoIcon.style.opacity="0.6")},e})(),N$=(function(){function e(){var t=this;this.infoDiv=new E$,this.infoIcon=new C$(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e})(),T$=function(e,t,r,n){function l(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function p(w){try{v(n.next(w))}catch(A){f(A)}}function b(w){try{v(n.throw(w))}catch(A){f(A)}}function v(w){w.done?c(w.value):l(w.value).then(p,b)}v((n=n.apply(e,t||[])).next())})},O$=function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,l,c,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(v){return function(w){return b([v,w])}}function b(v){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(r=0)),r;)try{if(n=1,l&&(c=v[0]&2?l.return:v[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,v[1])).done)return c;switch(l=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return r.label++,{value:v[1],done:!1};case 5:r.label++,l=v[1],v=[0];continue;case 7:v=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){r=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){r.label=v[1];break}if(v[0]===6&&r.label<c[1]){r.label=c[1],c=v;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(v);break}c[2]&&r.ops.pop(),r.trys.pop();continue}v=t.call(e,r)}catch(w){v=[6,w],l=0}finally{n=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},S4=(function(){function e(){}return e.hasPermissions=function(){return T$(this,void 0,void 0,function(){var t,r,n,l;return O$(this,function(c){switch(c.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=c.sent(),r=0,n=t;r<n.length;r++)if(l=n[r],l.kind==="videoinput"&&l.label)return[2,!0];return[2,!1]}})})},e})(),zl=(function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var n=r[t];if(e.isCameraScanType(n))return!0}return!1},e.isCameraScanType=function(t){return t===Zl.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Zl.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return _i.DEFAULT_SUPPORTED_SCAN_TYPE;var r=_i.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var n=0,l=t;n<l.length;n++){var c=l[n];if(!_i.DEFAULT_SUPPORTED_SCAN_TYPE.includes(c))throw"Unsupported scan type ".concat(c)}return t},e})(),Wa=(function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e})(),Us=(function(){function e(){}return e.createElement=function(t,r){var n=document.createElement(t);return n.id=r,n.classList.add(Wa.ALL_ELEMENT_CLASS),t==="button"&&n.setAttribute("type","button"),n},e})(),II=function(e,t,r,n){function l(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function p(w){try{v(n.next(w))}catch(A){f(A)}}function b(w){try{v(n.throw(w))}catch(A){f(A)}}function v(w){w.done?c(w.value):l(w.value).then(p,b)}v((n=n.apply(e,t||[])).next())})},_I=function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,l,c,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(v){return function(w){return b([v,w])}}function b(v){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(r=0)),r;)try{if(n=1,l&&(c=v[0]&2?l.return:v[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,v[1])).done)return c;switch(l=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return r.label++,{value:v[1],done:!1};case 5:r.label++,l=v[1],v=[0];continue;case 7:v=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){r=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){r.label=v[1];break}if(v[0]===6&&r.label<c[1]){r.label=c[1],c=v;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(v);break}c[2]&&r.ops.pop(),r.trys.pop();continue}v=t.call(e,r)}catch(w){v=[6,w],l=0}finally{n=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},E4=(function(){function e(t,r,n){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=n}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return II(this,void 0,void 0,function(){var t,r;return _I(this,function(n){switch(n.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=n.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?vr.torchOffButton():vr.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var n=t?vr.torchOnFailedMessage():vr.torchOffFailedMessage();r&&(n+="; Error = "+r),this.onTorchActionFailureCallback(n)},e.prototype.reset=function(){this.isTorchOn=!1},e})(),I$=(function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=Us.createElement("button",Wa.TORCH_BUTTON_ID),this.torchController=new E4(t,this,r)}return e.prototype.render=function(t,r){var n=this;this.torchButton.innerText=vr.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var l=this;this.torchButton.addEventListener("click",function(c){return II(n,void 0,void 0,function(){return _I(this,function(f){switch(f.label){case 0:return[4,l.torchController.flipState()];case 1:return f.sent(),l.torchController.isTorchEnabled()?(l.torchButton.classList.remove(Wa.TORCH_BUTTON_CLASS_TORCH_OFF),l.torchButton.classList.add(Wa.TORCH_BUTTON_CLASS_TORCH_ON)):(l.torchButton.classList.remove(Wa.TORCH_BUTTON_CLASS_TORCH_ON),l.torchButton.classList.add(Wa.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new E4(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=vr.torchOnButton(),this.torchController.reset()},e.create=function(t,r,n,l){var c=new e(r,l);return c.render(t,n),c},e})(),_$=(function(){function e(t,r,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var l=document.createElement("label");l.setAttribute("for",this.getFileScanInputId()),l.style.display="inline-block",this.fileBasedScanRegion.appendChild(l),this.fileSelectionButton=Us.createElement("button",Wa.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(p){l.click()}),l.append(this.fileSelectionButton),this.fileScanInput=Us.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",l.appendChild(this.fileScanInput);var c=this;this.fileScanInput.addEventListener("change",function(p){if(!(p==null||p.target==null)){var b=p.target;if(!(b.files&&b.files.length===0)){var v=b.files,w=v[0],A=w.name;c.setImageNameToButton(A),n(w)}}});var f=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(f),this.fileBasedScanRegion.addEventListener("dragenter",function(p){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(p){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(p){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(p){p.stopPropagation(),p.preventDefault(),c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder();var b=p.dataTransfer;if(b){var v=b.files;if(!v||v.length===0)return;for(var w=!1,A=0;A<v.length;++A){var T=v.item(A);if(T){var _=/image.*/;if(T.type.match(_)){w=!0;var j=T.name;c.setImageNameToButton(j),n(T),f.innerText=vr.dragAndDropMessage();break}}}w||(f.innerText=vr.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=vr.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var n=t.substring(0,8),l=t.length,c=t.substring(l-8,l);t="".concat(n,"....").concat(c)}var f=vr.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=f},e.prototype.setInitialValueToButton=function(){var t=vr.fileSelectionChooseImage()+" - "+vr.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,n){var l=new e(t,r,n);return l},e})(),M$=(function(){function e(t){this.selectElement=Us.createElement("select",Wa.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var n=this.cameras.length;if(n===0)throw new Error("No cameras found");if(n===1)r.style.display="none";else{var l=vr.selectCamera();r.innerText="".concat(l," (").concat(this.cameras.length,")  ")}for(var c=1,f=0,p=this.cameras;f<p.length;f++){var b=p[f],v=b.id,w=b.label==null?v:b.label;(!w||w==="")&&(w=[vr.anonymousCameraPrefix(),c++].join(" "));var A=document.createElement("option");A.value=v,A.innerText=w,this.options.push(A),this.selectElement.appendChild(A)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,n=this.options;r<n.length;r++){var l=n[r];if(l.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var n=new e(r);return n.render(t),n},e})(),j$=(function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Us.createElement("input",Wa.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=vr.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var l=this;this.rangeInput.addEventListener("input",function(){return l.onValueChange()}),this.rangeInput.addEventListener("change",function(){return l.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=vr.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,n,l){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=l.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var n=new e;return n.render(t,r),n},e})(),qa;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(qa||(qa={}));function k$(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function D$(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var MI=(function(){function e(t,r,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=n===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new zl(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new NI(this.verbose),this.persistedDataManager=new S$,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(c,f){if(t)t(c,f);else{if(n.lastMatchFound===c)return;n.lastMatchFound=c,n.setHeaderMessage(vr.lastMatch(c),qa.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(c,f){r&&r(c,f)};var l=document.getElementById(this.elementId);if(!l)throw"HTML Element with id=".concat(this.elementId," not found");l.innerHTML="",this.createBasicLayout(l),this.html5Qrcode=new b4(this.getScanRegionId(),D$(this.config,this.verbose))},e.prototype.pause=function(t){(es(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var n=document.getElementById(t.elementId);n&&(n.innerHTML="",t.resetBasicLayout(n))};return this.html5Qrcode?new Promise(function(n,l){if(!t.html5Qrcode){n();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(c){if(!t.html5Qrcode){n();return}t.html5Qrcode.clear(),r(),n()}).catch(function(c){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",c),l(c)}):(t.html5Qrcode.clear(),r(),n())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=_i.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!_i.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=_i.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=_i.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:_i.SCAN_DEFAULT_FPS,rememberLastUsedCamera:_i.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:_i.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),n=this.getScanRegionId();r.id=n,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),zl.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var l=document.createElement("div"),c=this.getDashboardId();l.id=c,l.style.width="100%",t.appendChild(l),this.setupInitialDashboard(l)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var n=new N$;n.renderInto(r);var l=document.createElement("div");l.id=this.getHeaderMessageContainerId(),l.style.display="none",l.style.textAlign="center",l.style.fontSize="14px",l.style.padding="2px 10px",l.style.margin="4px",l.style.borderTop="1px solid #f6f6f6",r.appendChild(l)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,n){var l=this;l.showHideScanTypeSwapLink(!1),l.setHeaderMessage(vr.cameraPermissionRequesting());var c=function(){n||l.createPermissionButton(t,r)};b4.getCameras().then(function(f){l.persistedDataManager.setHasPermission(!0),l.showHideScanTypeSwapLink(!0),l.resetHeaderMessage(),f&&f.length>0?(t.removeChild(r),l.renderCameraSelection(f)):(l.setHeaderMessage(vr.noCameraFound(),qa.STATUS_WARNING),c())}).catch(function(f){l.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:c(),l.setHeaderMessage(f,qa.STATUS_WARNING),l.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var n=this,l=Us.createElement("button",this.getCameraPermissionButtonId());l.innerText=vr.cameraPermissionTitle(),l.addEventListener("click",function(){l.disabled=!0,n.createCameraListUi(t,r,l)}),r.appendChild(l)},e.prototype.createPermissionsUi=function(t,r){var n=this;if(zl.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){S4.hasPermissions().then(function(l){l?n.createCameraListUi(t,r):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r))}).catch(function(l){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=zl.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(n);var l=document.createElement("div");l.style.textAlign="center",n.appendChild(l),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,l),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=zl.isFileScanType(this.currentScanType),n=this,l=function(c){if(!n.html5Qrcode)throw"html5Qrcode not defined";zl.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(vr.loadingImage()),n.html5Qrcode.scanFileV2(c,!0).then(function(f){n.resetHeaderMessage(),n.qrCodeSuccessCallback(f.decodedText,f)}).catch(function(f){n.setHeaderMessage(f,qa.STATUS_WARNING),n.qrCodeErrorCallback(f,CI.createFrom(f))}))};this.fileSelectionUi=_$.create(t,r,l)},e.prototype.renderCameraSelection=function(t){var r=this,n=this,l=document.getElementById(this.getDashboardSectionCameraScanRegionId());l.style.textAlign="center";var c=j$.create(l,!1),f=function(M){var k=M.zoomFeature();if(k.isSupported()){c.setOnCameraZoomValueChangeCallback(function(F){k.apply(F)});var R=1;r.config.defaultZoomValueIfSupported&&(R=r.config.defaultZoomValueIfSupported),R=QZ(R,k.min(),k.max()),c.setValues(k.min(),k.max(),R,k.step()),c.show()}},p=M$.create(l,t),b=document.createElement("span"),v=Us.createElement("button",Wa.CAMERA_START_BUTTON_ID);v.innerText=vr.scanButtonStartScanningText(),b.appendChild(v);var w=Us.createElement("button",Wa.CAMERA_STOP_BUTTON_ID);w.innerText=vr.scanButtonStopScanningText(),w.style.display="none",w.disabled=!0,b.appendChild(w);var A,T=function(M){if(!M.torchFeature().isSupported()){A&&A.hide();return}A?A.updateTorchCapability(M.torchFeature()):A=I$.create(b,M.torchFeature(),{display:"none",marginLeft:"5px"},function(k){n.setHeaderMessage(k,qa.STATUS_WARNING)}),A.show()};l.appendChild(b);var _=function(M){M||(v.style.display="none"),v.innerText=vr.scanButtonStartScanningText(),v.style.opacity="1",v.disabled=!1,M&&(v.style.display="inline-block")};if(v.addEventListener("click",function(M){v.innerText=vr.scanButtonScanningStarting(),p.disable(),v.disabled=!0,v.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var k=p.getValue();n.persistedDataManager.setLastUsedCameraId(k),n.html5Qrcode.start(k,k$(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(R){w.disabled=!1,w.style.display="inline-block",_(!1);var F=n.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&T(F),r.config.showZoomSliderIfSupported===!0&&f(F)}).catch(function(R){n.showHideScanTypeSwapLink(!0),p.enable(),_(!0),n.setHeaderMessage(R,qa.STATUS_WARNING)})}),p.hasSingleItem()&&v.click(),w.addEventListener("click",function(M){if(!n.html5Qrcode)throw"html5Qrcode not defined";w.disabled=!0,n.html5Qrcode.stop().then(function(k){r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),p.enable(),v.disabled=!1,w.style.display="none",v.style.display="inline-block",A&&(A.reset(),A.hide()),c.removeOnCameraZoomValueChangeCallback(),c.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(k){w.disabled=!1,n.setHeaderMessage(k,qa.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var j=n.persistedDataManager.getLastUsedCameraId();p.hasValue(j)?(p.setValue(j),v.click()):n.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=vr.textIfCameraScanSelected(),n=vr.textIfFileScanSelected(),l=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");c.style.textAlign="center";var f=Us.createElement("span",this.getDashboardSectionSwapLinkId());f.style.textDecoration="underline",f.style.cursor="pointer",f.innerText=zl.isCameraScanType(this.currentScanType)?r:n,f.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,zl.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),f.innerText=n,t.currentScanType=Zl.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),f.innerText=r,t.currentScanType=Zl.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),c.appendChild(f),l.appendChild(c)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){S4.hasPermissions().then(function(n){if(n){var l=document.getElementById(r.getCameraPermissionButtonId());if(!l)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";l.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(n){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=qa.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=t,n.style.display="block",r){case qa.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case qa.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case qa.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=b$,this.cameraScanImage.alt=vr.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=w$,this.fileScanImage.alt=vr.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Wa.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Wa.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e})();const R$=(e,t,r=Wr.WARNING)=>r===Wr.DISABLED?"DISABLED":e<0?"OVERSOLD":e===0?"OUT_OF_STOCK":e<=t?"LOW_STOCK":"IN_STOCK",P$=e=>{switch(e){case"OVERSOLD":return"bg-red-100 text-red-700 border-red-200";case"OUT_OF_STOCK":return"bg-slate-100 text-slate-600 border-slate-200";case"LOW_STOCK":return"bg-orange-100 text-orange-700 border-orange-200";case"IN_STOCK":return"text-emerald-600 bg-emerald-50 border-emerald-200";case"DISABLED":default:return"text-slate-400"}},L$=e=>{switch(e){case"OVERSOLD":return"Oversold";case"OUT_OF_STOCK":return"Out of Stock";case"LOW_STOCK":return"Low Stock";case"IN_STOCK":return"In Stock";default:return"-"}},B$=(e,t,r=Wr.WARNING,n)=>{if(r===Wr.DISABLED)return{status:"OK",issues:[]};const l=[],c={},f=(p,b)=>b?`${p}_${b}`:p;return e.forEach(p=>{if(!p.productId)return;const b=f(p.productId,p.variantId);c[b]=(c[b]||0)+p.quantity}),Object.keys(c).forEach(p=>{const[b,v]=p.split("_"),w=t.find(k=>k.id===b);if(!w)return;let A=0;w.name;let T;if(v&&w.hasVariants&&w.variants){const k=w.variants.find(R=>R.id===v);if(!k)return;A=k.stock||0,T=k.name,`${w.name}${k.name}`}else A=w.stock||0;const _=n&&n[p]||0,j=A+_,M=c[p];M>j&&l.push({productId:b,productName:w.name,variantName:T,availableStock:j,requestedQuantity:M,shortage:M-j})}),l.length===0?{status:"OK",issues:[]}:{status:r===Wr.STRICT?"BLOCK":"WARNING",issues:l}},C4=()=>{const e=pa(),{id:t}=ay(),[r]=Y4(),{customers:n,products:l,businessProfile:c,addInvoice:f,updateInvoice:p,invoices:b,addCustomer:v,addProduct:w,user:A,updateCustomerAdvance:T,processSalesReturn:_}=Ln(),{showAlert:j}=$l(),[M,k]=O.useState(""),[R,F]=O.useState(new Date().toISOString().split("T")[0]),[U,V]=O.useState(""),[q,Y]=O.useState(Ot.PENDING),[L,ee]=O.useState([]),[Z,Ne]=O.useState("edit"),[te,Q]=O.useState(""),[ie,be]=O.useState(""),[X,re]=O.useState(!1),[se,de]=O.useState(0),[xe,Me]=O.useState(!1),[$,ue]=O.useState("GST"),[Te,Pe]=O.useState("EXISTING"),[Qe,J]=O.useState({name:"",phone:""}),[Re,Ze]=O.useState(!1),[he,nt]=O.useState({name:"",gstin:"",phone:"",state:c.state,address:"",email:""}),[st,Be]=O.useState({}),[Je,Et]=O.useState({name:"",gstin:"",phone:"",state:c.state,address:""}),[Oe,Ct]=O.useState(!1),[bt,Nt]=O.useState({}),[lt,wn]=O.useState("A4"),[et,ka]=O.useState(!1),[sl,hr]=O.useState(""),[zi,In]=O.useState({}),[fs,Hn]=O.useState(!1),[nn,Ai]=O.useState(!1),[Ui,eo]=O.useState([]),[Qt,He]=O.useState(null),[lr,jt]=O.useState(!1),[ge,_e]=O.useState({}),[Ue,Ge]=O.useState({}),[Ve,mt]=O.useState(new Date().toISOString().split("T")[0]),[wt,Jt]=O.useState(""),[_t,tr]=O.useState("ADJUST"),[vt,mr]=O.useState("Cash");O.useEffect(()=>{if(t){const ce=b.find(ke=>ke.id===t);if(ce){k(ce.customerId),F(ce.date),V(ce.dueDate),Y(ce.status),ee(ce.items),Q(ce.notes||""),be(ce.invoiceNumber),de(ce.paidAmount??(ce.status===Ot.PAID?ce.grandTotal:0)),ue(ce.billingType||"GST"),ce.customerType==="temporary"?(Pe("TEMP"),J({name:ce.customerName,phone:""})):Pe("EXISTING");const ke={};ce.items.forEach(Ye=>{if(Ye.productId){const gt=Ye.variantId?`${Ye.productId}_${Ye.variantId}`:Ye.productId;ke[gt]=(ke[gt]||0)+Ye.quantity}}),Nt(ke),ce.returns&&ce.returns.length>0&&Ct(!0),r.get("mode")==="view"&&Ne("preview")}else e("/invoices")}},[t,b,e,r]),O.useEffect(()=>{if(X){const ce=new MI("reader",{fps:10,qrbox:{width:250,height:250}},!1);return ce.render(ke=>{Nr(ke),ce.clear(),re(!1)},ke=>{}),()=>{try{ce.clear()}catch{}}}},[X]),O.useEffect(()=>{if(Z==="preview"){const ce=document.createElement("style");ce.id="dynamic-print-styles";let ke="@page { margin: 10mm; }";return(lt==="Thermal80"||lt==="Thermal58")&&(ke="@page { margin: 0; size: auto; } body { margin: 0; padding: 0; }"),ce.innerHTML=ke,document.head.appendChild(ce),()=>{const Ye=document.getElementById("dynamic-print-styles");Ye&&Ye.remove()}}},[lt,Z]),O.useEffect(()=>{Te==="TEMP"&&ue("NON_GST")},[Te]);const Nr=ce=>{let ke=l.find(gt=>gt.barcode===ce||gt.hsn===ce),Ye;if(!ke){for(const gt of l)if(gt.hasVariants&&gt.variants){const We=gt.variants.find(Ke=>Ke.barcode===ce);if(We){ke=gt,Ye=We.id;break}}}ke?(rr(ke,Ye),new Audio("https://www.soundjay.com/button/beep-07.wav").play().catch(We=>console.log("Audio play failed",We))):j({title:"Product Not Found",message:`Product with code ${ce} not found!`,type:"error"})},rr=(ce,ke)=>{let Ye=ce.price,gt;if(ke&&ce.variants){const Ke=ce.variants.find(rt=>rt.id===ke);Ke&&(Ye=Ke.price,gt=Ke.name)}else ce.hasVariants&&ce.variants&&ce.variants.length>0&&(Ye=ce.variants[0].price,ke=ce.variants[0].id,gt=ce.variants[0].name);const We={id:aa(),productId:ce.id,name:ce.name,quantity:1,price:Ye,gstRate:ce.gstRate,discount:0,amount:Ye,variantId:ke,variantName:gt};ee(Ke=>[...Ke,We])},Gn=()=>{const ce={id:aa(),productId:"",name:"",quantity:1,price:0,gstRate:0,discount:0,amount:0};ee([...L,ce])},an=(ce,ke)=>{const Ye=l.find(gt=>gt.id===ke);ee(gt=>gt.map(We=>{if(We.id===ce)if(Ye){let Ke,rt,gr=Ye.price;Ye.hasVariants&&Ye.variants&&Ye.variants.length>0&&(Ke=Ye.variants[0].id,rt=Ye.variants[0].name,gr=Ye.variants[0].price);const Mn=gr*We.quantity,kt=Mn*We.discount/100;return{...We,productId:Ye.id,name:Ye.name,price:gr,gstRate:Ye.gstRate,amount:Mn-kt,variantId:Ke,variantName:rt}}else return{...We,productId:"",name:String(ke),variantId:void 0,variantName:void 0};return We}))},Da=(ce,ke)=>{ee(Ye=>Ye.map(gt=>{if(gt.id===ce&&gt.productId){const We=l.find(Ke=>Ke.id===gt.productId);if(We&&We.variants){const Ke=We.variants.find(rt=>rt.id===ke);if(Ke){const rt=Ke.price*gt.quantity,gr=rt*gt.discount/100;return{...gt,variantId:Ke.id,variantName:Ke.name,price:Ke.price,amount:rt-gr}}}}return gt}))},kr=(ce,ke,Ye)=>{ee(gt=>gt.map(We=>{if(We.id===ce){const Ke={...We,[ke]:Ye},rt=Ke.price*Ke.quantity,gr=rt*Ke.discount/100;return Ke.amount=rt-gr,Ke}return We}))},sa=ce=>{ee(L.filter(ke=>ke.id!==ce))};let sn=c.state;if(Te==="EXISTING"&&M){const ce=n.find(ke=>ke.id===M);ce&&(sn=ce.state)}else Te==="NEW"&&Je.state&&(sn=Je.state);const ze=Jx(L,c.state,sn,$),Mt=n.find(ce=>ce.id===M),Vt=(Mt==null?void 0:Mt.advanceBalance)||0;O.useEffect(()=>{if(Te==="EXISTING"&&xe&&Vt>0){const ce=ze.grandTotal,ke=Math.min(ce,Vt);de(ke)}else!xe&&!t&&de(0)},[xe,ze.grandTotal,Vt,Te]);const nr=ce=>{ce===Ot.PAID?de(ze.grandTotal):ce===Ot.PENDING&&(de(0),Me(!1)),Y(ce)},_n=ce=>{ce>ze.grandTotal?de(ze.grandTotal):de(ce),ce>=ze.grandTotal?Y(Ot.PAID):ce>0?Y(Ot.PARTIALLY_PAID):Y(Ot.PENDING)},ti=()=>{var Ye,gt;const ce={};Te==="EXISTING"&&!M&&(ce.customer="Please select a customer"),Te==="NEW"&&((Ye=Je.name)!=null&&Ye.trim()||(ce.customerName="Name required")),Te==="TEMP"&&((gt=Qe.name)!=null&&gt.trim()||(ce.customerName="Name required")),L.length===0&&(ce.items="Add at least one item");const ke=L.filter(We=>We.name);return L.length>0&&ke.length===0&&(ce.items="Items must have a product name"),In(ce),Object.keys(ce).length===0},Si=()=>{const ce={};if(he.name.trim()||(ce.name="Business Name is required"),he.phone.trim()||(ce.phone="Phone is required"),he.state||(ce.state="State is required"),Object.keys(ce).length>0){Be(ce);return}const ke=aa(),Ye={id:ke,name:he.name,phone:he.phone,gstin:he.gstin,email:he.email,state:he.state,address:he.address,advanceBalance:0,isActive:!0,excludeFromReports:!1};v(Ye),k(ke),Pe("EXISTING"),Ze(!1),nt({name:"",phone:"",gstin:"",email:"",state:c.state,address:""}),Be({}),j({title:"Customer Added",message:"New customer created and selected.",type:"success"})},ea=()=>{var We;if(!ti())return;const ce=L.filter(Ke=>!Ke.productId&&Ke.name);if(ce.length>0){eo(ce),Ai(!0);return}const ke=((We=c.stockSettings)==null?void 0:We.mode)||Wr.WARNING,Ye=!!t;if(!Oe){const Ke=B$(L,l,ke,Ye?bt:void 0);if(Ke.status!=="OK"){He(Ke);return}}Fi(L)},Fi=async ce=>{var Mn;const ke=ce.filter(kt=>kt.name);let Ye=M,gt="",We="",Ke="",rt="registered";if(Te==="TEMP")Ye="",gt=Qe.name,We="N/A",Ke=c.state,rt="temporary";else{const kt=n.find(ht=>ht.id===M);kt&&(gt=kt.name,We=kt.gstin,Ke=kt.state)}const gr={id:t||aa(),invoiceNumber:ie||`INV-${new Date().getFullYear()}-${Math.floor(Math.random()*1e4)}`,date:R,dueDate:U||R,customerId:Ye,customerName:gt,customerGstin:We,customerState:Ke,items:ke,subTotal:ze.totalTaxable,taxTotal:ze.totalTax,grandTotal:ze.grandTotal,paidAmount:se,balanceAmount:ze.grandTotal-se,status:q,notes:te,isInterState:ze.isInterState,billingType:$,customerType:rt};if(t){const kt=await p(gr);kt.success?e("/invoices"):kt.message&&j({title:"Update Failed",message:kt.message,type:"error"})}else{const kt=await f(gr);if(kt.success){if(Te==="EXISTING"&&xe&&Vt>0&&se>0){const ht=Math.max(0,Vt-se);T(Ye,ht)}e("/invoices")}else(Mn=kt.message)!=null&&Mn.includes("Insufficient stock")?j({title:"Stock Error",message:kt.message,type:"error"}):(hr(kt.message||"Limit reached."),ka(!0))}},ln=b.find(ce=>ce.id===t),Vn=O.useMemo(()=>{if(!ln)return{totalRefundValue:0,newGrandTotal:0,excessPayment:0};let ce=0;ln.items.forEach(We=>{const Ke=ge[We.id]||0;if(Ke>0){const gr=We.amount/We.quantity*Ke*(1+(ln.billingType==="NON_GST"?0:We.gstRate)/100);ce+=gr}});const ke=Math.max(0,ln.grandTotal-ce),Ye=ln.paidAmount||0,gt=Math.max(0,Ye-ke);return{totalRefundValue:ce,newGrandTotal:ke,excessPayment:gt}},[ln,ge]);O.useEffect(()=>{Vn.excessPayment<=0?tr("ADJUST"):_t==="ADJUST"&&tr("CASH")},[Vn.excessPayment,_t]);const zr=()=>{const ce=[...L];Ui.forEach(ke=>{const Ye=aa();w({id:Ye,name:ke.name,price:ke.price,gstRate:ke.gstRate,hsn:"",stock:0});const gt=ce.findIndex(We=>We.id===ke.id);gt!==-1&&(ce[gt].productId=Ye)}),Ai(!1),Fi(ce)},er=()=>{Ai(!1),Fi(L)},Hi=ce=>{const ke=ce.target.value;oh(A,c.plan).allowedPrintSizes.includes(ke)?wn(ke):(hr(`Printing in ${ke} is a Premium feature.`),ka(!0))},Yn=()=>{const ce=document.getElementById("printable-area");if(!window.html2pdf||!ce){j({title:"PDF Error",message:"PDF generator not ready.",type:"warning"});return}const ke=ce.offsetHeight*.264583+10;let Ye={margin:5,filename:`Invoice_${ie||"draft"}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,logging:!1},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};if(lt==="A5")Ye.jsPDF={unit:"mm",format:"a5",orientation:"landscape"};else if(lt.includes("Thermal")){const gt=lt==="Thermal80"?80:58;Ye.jsPDF={unit:"mm",format:[gt,Math.max(ke,50)],orientation:"portrait"},Ye.margin=0}window.html2pdf().set(Ye).from(ce).save()},Ur=ce=>{var Ke;const ke=l.find(rt=>rt.id===ce.productId);if(!ke)return null;const Ye=((Ke=c.stockSettings)==null?void 0:Ke.mode)||Wr.WARNING;if(Ye===Wr.DISABLED)return null;let gt=ke.stock||0;if(ce.variantId&&ke.hasVariants&&ke.variants){const rt=ke.variants.find(gr=>gr.id===ce.variantId);rt&&(gt=rt.stock||0)}let We=gt;if(t){const rt=ce.variantId?`${ce.productId}_${ce.variantId}`:ce.productId,gr=bt[rt]||0;We+=gr}return ce.quantity>We?Ye===Wr.STRICT?{type:"error",text:`Exceeds stock (${We} avail)`}:{type:"warning",text:`Low stock (${We} avail)`}:null},Le=()=>{const ce=lt.includes("Thermal"),ke=lt==="Thermal58",Ye=b.find(kt=>kt.id===t),gt=Ye?Ye.items:L,We=Ye?Ye.billingType:$,Ke=Ye?Ye.customerType==="temporary":Te==="TEMP";let rt=c.state;Ye?rt=Ye.customerState:Te==="EXISTING"&&Mt?rt=Mt.state:Te==="NEW"&&(rt=Je.state||c.state);const gr=Jx(gt,c.state,rt,We),Mn=()=>{switch(lt){case"A4":return"max-w-[210mm] p-8";case"A5":return"max-w-[148mm] p-6";case"Thermal80":return"max-w-[80mm] w-[80mm] text-xs p-3 leading-tight";case"Thermal58":return"max-w-[58mm] w-[58mm] text-[9px] p-1 leading-tight";default:return"max-w-[210mm] p-8"}};return m.jsxs("div",{className:`bg-white mx-auto shadow-xl rounded-sm print:shadow-none print:w-full print:max-w-none relative text-slate-900 print:absolute print:top-0 print:left-0 print:z-50 print:m-0 h-auto min-h-0 overflow-visible ${Mn()}`,id:"printable-area",children:[m.jsxs("div",{className:`flex ${ce?"flex-col text-center":"flex-col sm:flex-row justify-between items-start"} ${ce?"mb-2":"mb-6"} border-b border-slate-200 pb-2 relative z-10 gap-2`,children:[m.jsxs("div",{children:[m.jsx("h1",{className:`${ke?"text-sm":ce?"text-lg":"text-3xl"} font-bold text-slate-900 mb-1`,children:We==="NON_GST"?"INVOICE":"TAX INVOICE"}),m.jsxs("p",{className:`${ke?"text-[9px]":"text-sm"} font-medium text-slate-500`,children:["#",ie||"DRAFT"]})]}),m.jsxs("div",{className:`${ce?"text-center":"text-left sm:text-right"}`,children:[m.jsx("h2",{className:`${ke?"text-xs":ce?"text-base":"text-xl"} font-bold text-slate-800`,children:c.name||"Your Business Name"}),!ce&&m.jsx("p",{className:"text-xs text-slate-500",children:c.address}),We==="GST"&&m.jsxs("p",{className:"text-xs font-bold text-slate-600",children:["GSTIN: ",c.gstin]})]})]}),m.jsxs("div",{className:"mb-4 text-xs",children:[m.jsx("p",{className:"font-bold text-slate-700",children:"Bill To:"}),m.jsx("p",{className:"text-slate-900 font-semibold",children:(Ye==null?void 0:Ye.customerName)||(Te==="TEMP"?Qe.name:Te==="NEW"?Je.name:Mt==null?void 0:Mt.name)}),We==="GST"&&!Ke&&m.jsxs("p",{className:"text-slate-500",children:["GSTIN: ",(Ye==null?void 0:Ye.customerGstin)||(Te==="NEW"?Je.gstin:Mt==null?void 0:Mt.gstin)||"N/A"]}),(Ke||We==="NON_GST")&&We==="GST"&&m.jsx("p",{className:"text-slate-500",children:"GSTIN: N/A"})]}),m.jsx("div",{className:"overflow-visible mb-2 relative z-10",children:m.jsxs("table",{className:"w-full table-fixed",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-slate-300",children:[m.jsx("th",{className:`text-left font-bold text-slate-500 uppercase w-[40%] ${ke?"py-0.5 px-0 text-[8px]":"py-1 px-0.5"}`,children:"Item"}),m.jsx("th",{className:`text-right font-bold text-slate-500 uppercase w-[15%] ${ke?"py-0.5 px-0 text-[8px]":"py-1 px-0.5"}`,children:"Qty"}),m.jsx("th",{className:`text-right font-bold text-slate-500 uppercase w-[20%] ${ke?"py-0.5 px-0 text-[8px]":"py-1 px-0.5"}`,children:"Rate"}),m.jsx("th",{className:`text-right font-bold text-slate-500 uppercase w-[25%] ${ke?"py-0.5 px-0 text-[8px]":"py-1 px-0.5"}`,children:"Amt"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100",children:gt.map(kt=>{const ht=kt.returnedQuantity||0,ya=Math.max(0,kt.quantity-ht),Jo=kt.price*ya,Tr=Jo*kt.discount/100,Ra=Jo-Tr;return m.jsxs("tr",{children:[m.jsxs("td",{className:`text-slate-900 break-words whitespace-normal leading-tight ${ke?"py-0.5 px-0 text-[9px]":"py-1 px-0.5"}`,children:[kt.name,ht>0&&!ce?m.jsxs("div",{className:"text-[10px] mt-0.5 flex gap-2",children:[m.jsxs("span",{className:"text-slate-500",children:["Orig: ",kt.quantity]}),m.jsxs("span",{className:"text-red-500 font-bold",children:["Ret: -",ht]})]}):null]}),m.jsx("td",{className:`text-slate-900 text-right ${ke?"py-0.5 px-0 text-[9px]":"py-1 px-0.5"}`,children:ht>0?m.jsx("span",{className:"font-bold",children:ya}):kt.quantity}),m.jsx("td",{className:`text-slate-900 text-right ${ke?"py-0.5 px-0 text-[9px]":"py-1 px-0.5"}`,children:$e(kt.price)}),m.jsx("td",{className:`font-medium text-slate-900 text-right ${ke?"py-0.5 px-0 text-[9px]":"py-1 px-0.5"}`,children:$e(Ra)})]},kt.id)})})]})}),m.jsx("div",{className:"flex justify-end relative z-10",children:m.jsx("div",{className:`text-right ${ce?"w-full":"w-1/2 sm:w-1/3"}`,children:m.jsx("div",{className:"border-t border-slate-300 pt-1 space-y-0.5",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:`font-bold ${ke?"text-[9px]":"text-lg"}`,children:"Grand Total:"}),m.jsx("span",{className:`font-bold ${ke?"text-[9px]":"text-lg"}`,children:$e(gr.grandTotal)})]})})})})]})};return m.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto pb-20 print:p-0 print:m-0 print:max-w-none print:space-y-0",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 no-print",children:[m.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[m.jsx("button",{onClick:()=>e("/invoices"),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:m.jsx(dy,{className:"w-5 h-5 text-slate-500 dark:text-slate-300"})}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white truncate",children:t?Z==="preview"?"View Invoice":"Edit Invoice":Z==="preview"?"Preview Invoice":"New Invoice"}),Oe&&m.jsxs("span",{className:"text-[10px] bg-red-100 text-red-700 px-2 py-0.5 rounded-full font-bold flex items-center gap-1",children:[m.jsx(ql,{className:"w-3 h-3"})," Returns Active"]})]})]}),m.jsxs("div",{className:"flex gap-3 w-full sm:w-auto overflow-x-auto pb-1 sm:pb-0 items-center",children:[Z==="preview"&&m.jsxs("div",{className:"flex gap-2 items-center",children:[m.jsxs("div",{className:"relative",children:[m.jsxs("select",{value:lt,onChange:Hi,className:"appearance-none bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 py-2 px-3 pr-8 rounded-xl text-sm font-medium focus:outline-none cursor-pointer",children:[m.jsx("option",{value:"A4",children:"A4"}),m.jsx("option",{value:"A5",children:"A5"}),m.jsx("option",{value:"Thermal80",children:"80mm"}),m.jsx("option",{value:"Thermal58",children:"58mm"})]}),m.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:m.jsx(mS,{className:"w-3 h-3"})})]}),t&&m.jsxs("button",{onClick:()=>jt(!0),className:"flex items-center gap-2 px-3 py-2 bg-red-50 text-red-600 font-bold rounded-xl border border-red-200 hover:bg-red-100 transition-all text-sm whitespace-nowrap",children:[m.jsx(Oo,{className:"w-4 h-4"})," Return Items"]})]}),m.jsx("button",{onClick:()=>Ne(Z==="edit"?"preview":"edit"),className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 shadow-sm transition-colors whitespace-nowrap",children:Z==="edit"?"Preview":"Edit"}),Z==="preview"?m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("button",{onClick:Yn,className:"flex items-center gap-2 px-5 py-2 bg-slate-800 text-white font-medium rounded-xl hover:bg-slate-900 shadow-md transition-all whitespace-nowrap",children:[m.jsx(hy,{className:"w-4 h-4"})," Download"]}),m.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-5 py-2 bg-slate-800 text-white font-medium rounded-xl hover:bg-slate-900 shadow-md transition-all whitespace-nowrap",children:[m.jsx(mS,{className:"w-4 h-4"})," Print"]})]}):m.jsxs("div",{className:"flex gap-3",children:[!t&&m.jsxs("button",{onClick:()=>Hn(!0),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 font-bold rounded-xl hover:bg-slate-200 dark:hover:bg-slate-600 transition-all whitespace-nowrap",children:[m.jsx(dD,{className:"w-4 h-4"})," Clear"]}),m.jsxs("button",{onClick:ea,className:"flex items-center gap-2 px-5 py-2 bg-primary-600 text-white font-bold rounded-xl hover:bg-primary-700 shadow-lg shadow-primary-600/30 transition-all whitespace-nowrap",children:[m.jsx(gy,{className:"w-4 h-4"})," ",Oe?"Update Details":"Save"]})]})]})]}),Z==="preview"?m.jsxs("div",{className:"space-y-8",children:[m.jsx(Le,{}),(ln==null?void 0:ln.returns)&&ln.returns.length>0&&m.jsxs("div",{className:"max-w-[210mm] mx-auto bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 no-print",children:[m.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[m.jsx(Ek,{className:"w-5 h-5 text-slate-500"})," Return History"]}),m.jsx("div",{className:"space-y-4",children:ln.returns.map(ce=>m.jsx("div",{className:"border border-slate-100 dark:border-slate-700 rounded-xl p-4 bg-slate-50 dark:bg-slate-900/30",children:m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-sm text-slate-700 dark:text-slate-300",children:["Return on ",Za(ce.date)]}),m.jsxs("p",{className:"text-xs text-slate-500",children:["Reason: ",ce.reason]})]}),m.jsx("div",{className:"text-right",children:m.jsxs("p",{className:"text-sm font-bold text-red-500",children:["-",$e(ce.totalRefundAmount)]})})]})},ce.id))})]})]}):m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[m.jsxs("div",{className:"lg:col-span-8 xl:col-span-9 space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 transition-colors",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[m.jsx("h3",{className:"text-sm font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Invoice Details"}),m.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 rounded-lg p-1",children:[m.jsx("button",{onClick:()=>ue("GST"),disabled:Te==="TEMP"||Oe,className:`px-4 py-1.5 text-xs font-bold rounded-md transition-all ${$==="GST"?"bg-white dark:bg-slate-600 shadow text-primary-600 dark:text-primary-300":"text-slate-500 dark:text-slate-400"} disabled:opacity-50`,children:"GST Billing"}),m.jsx("button",{onClick:()=>ue("NON_GST"),disabled:Oe,className:`px-4 py-1.5 text-xs font-bold rounded-md transition-all ${$==="NON_GST"?"bg-white dark:bg-slate-600 shadow text-primary-600 dark:text-primary-300":"text-slate-500 dark:text-slate-400"} disabled:opacity-50`,children:"Non-GST"})]})]}),m.jsx("div",{className:"mb-6 flex gap-2 overflow-x-auto pb-1",children:[{id:"EXISTING",label:"Existing Customer",icon:su,action:()=>Pe("EXISTING")},{id:"NEW",label:"Create New",icon:oT,action:()=>Ze(!0)},{id:"TEMP",label:"Temporary / Guest",icon:cT,action:()=>Pe("TEMP")}].map(ce=>m.jsxs("button",{onClick:()=>{Oe||ce.action()},disabled:Oe,className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold border transition-all whitespace-nowrap ${Te===ce.id&&ce.id!=="NEW"||ce.id==="NEW"&&!1?"bg-primary-50 dark:bg-primary-900/20 border-primary-200 dark:border-primary-800 text-primary-700 dark:text-primary-300":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[m.jsx(ce.icon,{className:"w-4 h-4"})," ",ce.label]},ce.id))}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[Te==="EXISTING"&&m.jsx("div",{className:"space-y-1",children:m.jsx(Xo,{label:"Select Customer *",value:M,onChange:ce=>k(ce.target.value),options:n.filter(ce=>ce.isActive!==!1).map(ce=>({value:ce.id,label:ce.name})),placeholder:"-- Choose Customer --",className:zi.customer?"border-red-500":"",disabled:Oe})}),Te==="TEMP"&&m.jsxs("div",{className:"space-y-4 p-4 bg-orange-50 dark:bg-orange-900/10 rounded-xl border border-orange-100 dark:border-orange-800 animate-in fade-in slide-in-from-top-2",children:[m.jsxs("div",{className:"flex items-center gap-2 text-xs text-orange-700 dark:text-orange-400 font-bold mb-2",children:[m.jsx(Rk,{className:"w-4 h-4"})," Non-GST Billing Only"]}),m.jsx(It,{label:"Customer Name *",value:Qe.name,onChange:ce=>J({...Qe,name:ce.target.value}),error:zi.customerName}),m.jsx(It,{label:"Phone (Optional)",value:Qe.phone,onChange:ce=>J({...Qe,phone:ce.target.value})})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(It,{label:"Invoice Date",type:"date",value:R,onChange:ce=>F(ce.target.value)}),m.jsx(It,{label:"Due Date",type:"date",value:U,onChange:ce=>V(ce.target.value)})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 pt-4 border-t border-slate-100 dark:border-slate-700",children:[m.jsx(Xo,{label:"Payment Status",value:q===Ot.PARTIALLY_PAID||q===Ot.OVERDUE?se>0?Ot.PARTIALLY_PAID:Ot.PENDING:q,onChange:ce=>nr(ce.target.value),options:[{value:Ot.PENDING,label:"Pending / Unpaid"},{value:Ot.PAID,label:"Fully Paid"}]}),m.jsx(It,{label:"Paid Amount ()",type:"number",min:"0",value:se,onChange:ce=>_n(parseFloat(ce.target.value)||0),className:se>0?"font-bold text-emerald-600":""})]}),Te==="EXISTING"&&Mt&&Vt>0&&!t&&m.jsxs("div",{className:"mt-4 col-span-2 p-3 bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-100 dark:border-indigo-800 rounded-xl flex items-center gap-3 animate-in fade-in slide-in-from-top-1",children:[m.jsx(p1,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-bold text-indigo-900 dark:text-indigo-200",children:"Use Advance Balance?"}),m.jsxs("p",{className:"text-xs text-indigo-700 dark:text-indigo-300",children:["Available: ",$e(Vt)]})]}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:xe,onChange:ce=>Me(ce.target.checked),className:"sr-only peer"}),m.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 transition-colors relative",children:[Oe&&m.jsx("div",{className:"absolute inset-0 bg-slate-50/50 dark:bg-slate-900/50 z-10 rounded-2xl flex items-center justify-center pointer-events-none"}),m.jsxs("div",{className:"flex justify-between items-center mb-4 relative z-20",children:[m.jsx("h3",{className:"text-sm font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Items"}),!Oe&&m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>re(!0),className:"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 px-3 py-1.5 rounded-lg flex items-center gap-1 hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm font-bold",children:[m.jsx(Qx,{className:"w-4 h-4"})," Scan"]}),m.jsx("button",{onClick:Gn,className:"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 px-3 py-1.5 rounded-lg font-bold text-sm hover:bg-primary-100 dark:hover:bg-primary-900/50 transition-colors",children:"+ Add Item"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"hidden lg:grid grid-cols-12 gap-2 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase px-2",children:[m.jsx("div",{className:"col-span-4",children:"Item Details"}),m.jsx("div",{className:"col-span-2",children:"Variant"}),m.jsx("div",{className:"col-span-2",children:"Qty"}),m.jsx("div",{className:"col-span-2",children:"Price"}),m.jsx("div",{className:"col-span-2 text-right",children:"Total"})]}),L.map(ce=>{var kt;const ke=Ur(ce),Ye=l.find(ht=>ht.id===ce.productId),gt=(Ye==null?void 0:Ye.hasVariants)&&(Ye==null?void 0:Ye.variants)&&Ye.variants.length>0,We=ce.returnedQuantity||0,Ke=Math.max(0,ce.quantity-We),rt=ce.price*Ke,gr=rt*ce.discount/100,Mn=rt-gr;return m.jsx("div",{className:`bg-slate-50 dark:bg-slate-700/30 p-4 rounded-xl border border-slate-200 dark:border-slate-700 transition-colors ${Oe?"opacity-70":""}`,children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-2 items-center",children:[m.jsxs("div",{className:"md:col-span-4",children:[m.jsx(Jv,{placeholder:"Select Product",value:ce.productId,onTextChange:ht=>an(ce.id,ht),onChange:ht=>an(ce.id,ht),options:l.map(ht=>({value:ht.id,label:ht.name})),disabled:Oe}),!Oe&&ke&&m.jsx("p",{className:`text-[10px] mt-1 ${ke.type==="error"?"text-red-500":"text-orange-500"}`,children:ke.text}),Oe&&We>0&&m.jsxs("p",{className:"text-[10px] mt-1 text-red-500 font-bold flex gap-2",children:[m.jsxs("span",{children:["Original: ",ce.quantity]}),m.jsxs("span",{children:["Returned: ",We]}),m.jsxs("span",{className:"text-emerald-600",children:["Net: ",Ke]})]})]}),m.jsx("div",{className:"md:col-span-2",children:gt?m.jsx("select",{value:ce.variantId||"",onChange:ht=>Da(ce.id,ht.target.value),disabled:Oe,className:"w-full px-2 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:outline-none disabled:bg-slate-100 disabled:dark:bg-slate-900 disabled:cursor-not-allowed",children:(kt=Ye==null?void 0:Ye.variants)==null?void 0:kt.map(ht=>m.jsx("option",{value:ht.id,children:ht.name},ht.id))}):m.jsx("span",{className:"text-xs text-slate-400 pl-2 block md:text-center",children:"-"})}),m.jsx("div",{className:"md:col-span-2",children:m.jsx(It,{type:"number",min:"1",value:Oe?Ke:ce.quantity,onChange:ht=>kr(ce.id,"quantity",parseInt(ht.target.value)||0),className:`!px-3 !py-2 ${Oe&&We>0?"text-emerald-600 font-bold":""}`,disabled:Oe})}),m.jsx("div",{className:"md:col-span-2",children:m.jsx(It,{type:"number",min:"0",value:ce.price,onChange:ht=>kr(ce.id,"price",parseFloat(ht.target.value)||0),className:"!px-3 !py-2",disabled:Oe})}),m.jsxs("div",{className:"md:col-span-2 flex items-center justify-between gap-2",children:[m.jsx("span",{className:"font-bold text-sm ml-auto text-slate-900 dark:text-white",children:$e(Mn)}),m.jsx("button",{onClick:()=>sa(ce.id),disabled:Oe,className:"text-slate-400 hover:text-red-500 p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors disabled:opacity-30 disabled:cursor-not-allowed",children:m.jsx(ko,{className:"w-4 h-4"})})]})]})},ce.id)}),L.length===0&&m.jsx("div",{className:"text-center py-8 border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-xl",children:m.jsx("p",{className:"text-slate-400",children:"No items added. Scan or add manually."})})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 transition-colors",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes / Terms"}),m.jsx("textarea",{rows:3,value:te,onChange:ce=>Q(ce.target.value),placeholder:"E.g. Payment due in 7 days.",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 transition-colors"})]})]}),m.jsx("div",{className:"lg:col-span-4 xl:col-span-3",children:m.jsxs("div",{className:"bg-slate-900 dark:bg-slate-950 text-white p-6 rounded-2xl shadow-lg sticky top-24",children:[m.jsx("h3",{className:"text-lg font-bold mb-6",children:"Payment Summary"}),m.jsxs("div",{className:"space-y-3 mb-6",children:[m.jsxs("div",{className:"flex justify-between text-slate-400 text-sm",children:[m.jsx("span",{children:"Taxable Value"}),m.jsx("span",{children:$e(ze.totalTaxable)})]}),$==="GST"&&m.jsxs("div",{className:"flex justify-between text-slate-400 text-sm",children:[m.jsx("span",{children:"Total Tax"}),m.jsx("span",{children:$e(ze.totalTax)})]}),m.jsx("div",{className:"h-px bg-slate-700 my-2"}),m.jsxs("div",{className:"flex justify-between text-xl font-bold text-white",children:[m.jsx("span",{children:"Total"}),m.jsx("span",{children:$e(ze.grandTotal)})]}),m.jsxs("div",{className:"flex justify-between text-sm text-emerald-400",children:[m.jsx("span",{children:"Paid"}),m.jsx("span",{children:$e(se)})]}),ze.grandTotal-se>0&&m.jsxs("div",{className:"flex justify-between text-sm text-red-400 font-bold",children:[m.jsx("span",{children:"Balance"}),m.jsx("span",{children:$e(ze.grandTotal-se)})]})]})]})})]}),Re&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Add New Customer"}),m.jsx("button",{onClick:()=>Ze(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:m.jsx(Hs,{className:"w-6 h-6 rotate-45"})})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsx(It,{label:"Business Name *",value:he.name,onChange:ce=>nt({...he,name:ce.target.value}),required:!0,error:st.name}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(It,{label:"GSTIN",value:he.gstin,onChange:ce=>nt({...he,gstin:ce.target.value.toUpperCase()}),className:"uppercase",placeholder:"27ABCDE1234F1Z5"}),m.jsx(Jv,{label:"State *",value:he.state||"",onChange:ce=>nt({...he,state:ce}),options:uy.map(ce=>({value:ce,label:ce})),placeholder:"Select State",error:st.state})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(It,{label:"Phone *",type:"tel",placeholder:"10 digit number",value:he.phone,onChange:ce=>{const ke=ce.target.value.replace(/[^0-9]/g,"");ke.length<=10&&nt({...he,phone:ke})},required:!0,error:st.phone}),m.jsx(It,{label:"Email",type:"email",value:he.email,onChange:ce=>nt({...he,email:ce.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Address"}),m.jsx("textarea",{rows:2,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",value:he.address,onChange:ce=>nt({...he,address:ce.target.value})})]}),m.jsx("button",{onClick:Si,className:"w-full py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-xl mt-4 shadow-lg shadow-primary-500/20",children:"Save Customer"})]})]})}),Qt&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 animate-in fade-in zoom-in-95",children:m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-700",children:m.jsxs("div",{className:"p-6",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Stock Warning"}),m.jsx("p",{className:"text-sm text-slate-500",children:"Some items exceed available stock."}),m.jsxs("div",{className:"flex gap-3 mt-4",children:[m.jsx("button",{onClick:()=>He(null),className:"flex-1 py-2 bg-slate-100 rounded-lg font-bold text-slate-700",children:"Cancel"}),Qt.status!=="BLOCK"&&m.jsx("button",{onClick:()=>{He(null),Fi(L)},className:"flex-1 py-2 bg-orange-500 text-white rounded-lg font-bold",children:"Proceed Anyway"})]})]})})}),nn&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in zoom-in-95",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl overflow-hidden p-6",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Unlisted Products"}),m.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Add these to inventory?"}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:zr,className:"flex-1 py-2.5 bg-emerald-600 text-white font-bold rounded-xl",children:"Yes, Add"}),m.jsx("button",{onClick:er,className:"flex-1 py-2.5 bg-slate-100 text-slate-700 font-bold rounded-xl",children:"No, Just Save"})]})]})})]})},z$=()=>{const{customers:e,addCustomer:t,updateCustomer:r,invoices:n,processCustomerPayment:l,deactivateCustomer:c,toggleCustomerReporting:f,restoreCustomer:p}=Ln(),{showAlert:b}=$l(),[v,w]=O.useState(!1),[A,T]=O.useState(!1),[_,j]=O.useState(""),[M,k]=O.useState(null),[R,F]=O.useState(!1),[U,V]=O.useState({isOpen:!1,customerId:null}),[q,Y]=O.useState(null),[L,ee]=O.useState({amount:"",date:new Date().toISOString().split("T")[0],mode:"Cash",note:""}),[Z,Ne]=O.useState(null),[te,Q]=O.useState({name:"",gstin:"",email:"",phone:"",address:"",state:""}),[ie,be]=O.useState({}),X=()=>{Q({name:"",gstin:"",email:"",phone:"",address:"",state:""}),k(null),be({})},re=J=>{Q(J),k(J.id),be({}),w(!0)},se=J=>{const Re=J.target.value.replace(/[^0-9]/g,"");Re.length<=10&&(Q(Ze=>({...Ze,phone:Re})),Re.length===10&&ie.phone&&be(Ze=>({...Ze,phone:""})))},de=()=>{var Re,Ze;const J={};return(Re=te.name)!=null&&Re.trim()||(J.name="Business Name is required"),te.state||(J.state="State is required"),(Ze=te.phone)!=null&&Ze.trim()?te.phone.length!==10&&(J.phone="Phone must be exactly 10 digits"):J.phone="Phone is required",te.gstin&&te.gstin.trim()!==""&&(/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[A-Z0-9]{1}Z[A-Z0-9]{1}$/.test(te.gstin)||(J.gstin="Invalid GSTIN format. Example: 27ABCDE1234F1Z5")),be(J),Object.keys(J).length===0},xe=J=>{if(J.preventDefault(),!!de()){if(M){const Re={...te,id:M,gstin:te.gstin||"",email:te.email||"",phone:te.phone||"",address:te.address||""};r(Re)}else{const Re={id:aa(),name:te.name,gstin:te.gstin||"",email:te.email||"",phone:te.phone||"",address:te.address||"",state:te.state,advanceBalance:0,isActive:!0,excludeFromReports:!1};t(Re)}w(!1),X()}},Me=J=>{Y(J),ee({amount:"",date:new Date().toISOString().split("T")[0],mode:"Cash",note:""}),T(!0)},$=async J=>{if(J.preventDefault(),!q||!L.amount)return;const Re=await l({customerId:q.id,amount:parseFloat(L.amount),date:L.date,mode:L.mode,note:L.note});Re.success?(b({title:"Success",message:Re.message||"Payment processed",type:"success"}),T(!1),Y(null)):b({title:"Error",message:Re.message||"Failed",type:"error"})},ue=J=>{V({isOpen:!0,customerId:J})},Te=J=>{U.customerId&&(c(U.customerId,J),V({isOpen:!1,customerId:null}))},Pe=J=>{const Re=n.filter(Je=>Je.customerId===J&&!Je.isDeleted),Ze=Re.reduce((Je,Et)=>Je+Et.grandTotal,0),he=Re.reduce((Je,Et)=>Je+(Et.paidAmount||0),0),nt=Re.reduce((Je,Et)=>Je+(Et.balanceAmount||0),0),st=Re.filter(Je=>Je.status===Ot.PARTIALLY_PAID).length,Be=Re.filter(Je=>Je.status===Ot.OVERDUE).length;return{totalAmount:Ze,paidAmount:he,outstanding:nt,partialCount:st,overdueCount:Be}},Qe=e.filter(J=>{const Re=J.name.toLowerCase().includes(_.toLowerCase())||J.gstin.toLowerCase().includes(_.toLowerCase());return R?Re&&J.isActive===!1:Re&&J.isActive!==!1});return m.jsxs("div",{children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-4 lg:px-10 pt-4 lg:pt-10 pb-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Customers"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage clients & payments"})]}),m.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[m.jsxs("button",{onClick:()=>F(!R),className:`px-4 py-2.5 rounded-xl font-medium flex items-center gap-2 border transition-all flex-1 sm:flex-none justify-center ${R?"bg-slate-800 text-white border-slate-800":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border-slate-200 dark:border-slate-700"}`,children:[R?m.jsx(m1,{className:"w-5 h-5"}):m.jsx(qd,{className:"w-5 h-5"}),R?"Hide Inactive":"Show Inactive"]}),m.jsxs("button",{onClick:()=>{X(),w(!0)},className:"bg-primary-600 hover:bg-primary-700 text-white px-5 py-2.5 rounded-xl font-medium flex items-center gap-2 shadow-lg shadow-primary-600/30 transition-all flex-1 sm:flex-none justify-center",children:[m.jsx(Hs,{className:"w-5 h-5"}),"Add Customer"]})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx(Wd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),m.jsx("input",{type:"text",placeholder:"Search by name or GSTIN...",value:_,onChange:J=>j(J.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),m.jsxs("div",{className:"px-4 lg:px-10 pb-10 space-y-6",children:[m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Qe.map(J=>{const Re=Pe(J.id),Ze=Z===J.id,he=J.isActive===!1;return m.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm transition-all relative overflow-hidden ${he?"opacity-60 grayscale-[0.5]":"hover:shadow-md"}`,children:[he&&m.jsx("div",{className:"absolute top-0 right-0 bg-red-500 text-white text-[10px] font-bold px-3 py-1 rounded-bl-xl z-10",children:"Inactive"}),m.jsxs("div",{className:"p-5",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 rounded-full flex items-center justify-center font-bold text-lg",children:J.name.charAt(0)}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white leading-tight",children:J.name}),J.gstin?m.jsx("span",{className:"text-[10px] font-mono bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded text-slate-500",children:J.gstin}):m.jsx("span",{className:"text-[10px] text-slate-400",children:"Unregistered"})]})]}),!he&&m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:()=>re(J),className:"text-slate-400 hover:text-primary-500 p-1.5 rounded hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:m.jsx(g1,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>ue(J.id),className:"text-slate-400 hover:text-red-500 p-1.5 rounded hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:m.jsx(ko,{className:"w-4 h-4"})})]}),he&&m.jsx("button",{onClick:()=>p(J.id),className:"text-emerald-500 hover:text-emerald-700 text-xs font-bold underline px-2 py-1",children:"Restore"})]}),m.jsxs("div",{className:"space-y-2 mb-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400",children:[m.jsx(aT,{className:"w-4 h-4 text-slate-400"})," ",m.jsx("span",{children:J.phone})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400",children:[m.jsx($k,{className:"w-4 h-4 text-slate-400"})," ",m.jsx("span",{className:"truncate",children:J.state})]})]}),m.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-700 flex gap-2",children:[m.jsx(Ma,{to:`/customers/${J.id}/history`,className:"p-2.5 rounded-xl border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors flex items-center justify-center text-slate-600 dark:text-slate-300",title:"View History",children:m.jsx(rT,{className:"w-5 h-5"})}),m.jsxs("button",{onClick:()=>Me(J),disabled:he,className:`flex-1 flex items-center justify-center gap-2 py-2.5 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl text-sm font-bold shadow-lg shadow-emerald-600/20 transition-all active:scale-95 ${he?"opacity-50 cursor-not-allowed pointer-events-none":""}`,children:[m.jsx(h1,{className:"w-4 h-4"})," Add Payment"]}),m.jsx("button",{onClick:()=>Ne(Ze?null:J.id),className:`p-2.5 rounded-xl border transition-colors ${Ze?"bg-slate-100 dark:bg-slate-700 border-transparent":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,title:"Financial Summary",children:Ze?m.jsx(mk,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"}):m.jsx(eT,{className:"w-5 h-5 text-slate-400"})})]})]}),Ze&&m.jsx("div",{className:"px-5 pb-5 animate-in slide-in-from-top-2 fade-in",children:m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 rounded-xl p-4 space-y-3 border border-slate-100 dark:border-slate-700/50",children:[m.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-slate-200 dark:border-slate-700/50 mb-2",children:[m.jsx("span",{className:"text-xs font-bold text-slate-500",children:"Include invoices in reports"}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!J.excludeFromReports,onChange:nt=>f(J.id,nt.target.checked)}),m.jsx("div",{className:"w-9 h-5 bg-slate-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600"})]})]}),m.jsxs("div",{className:"flex justify-between items-center text-sm",children:[m.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Total Billed"}),m.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:$e(Re.totalAmount)})]}),m.jsxs("div",{className:"flex justify-between items-center text-sm",children:[m.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Total Paid"}),m.jsx("span",{className:"font-bold text-emerald-600",children:$e(Re.paidAmount)})]}),m.jsxs("div",{className:"flex justify-between items-center text-sm",children:[m.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Outstanding"}),m.jsx("span",{className:"font-bold text-red-500",children:$e(Re.outstanding)})]}),(Re.partialCount>0||Re.overdueCount>0)&&m.jsxs("div",{className:"flex gap-2 mt-2",children:[Re.overdueCount>0&&m.jsxs("span",{className:"text-[10px] bg-red-100 text-red-700 px-2 py-1 rounded-full font-bold",children:[Re.overdueCount," Overdue"]}),Re.partialCount>0&&m.jsxs("span",{className:"text-[10px] bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-bold",children:[Re.partialCount," Partial"]})]}),m.jsxs("div",{className:"pt-2 border-t border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[m.jsxs("span",{className:"text-xs font-bold text-slate-500 flex items-center gap-1",children:[m.jsx(p1,{className:"w-3 h-3"})," Advance Bal"]}),m.jsx("span",{className:"font-bold text-indigo-600 text-sm",children:$e(J.advanceBalance||0)})]})]})})]},J.id)})}),Qe.length===0&&m.jsx("div",{className:"text-center py-20 bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 border-dashed",children:m.jsx("p",{className:"text-slate-400",children:R?"No inactive customers found.":"No active customers found."})})]}),U.isOpen&&m.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden p-6 relative",children:[m.jsx("button",{onClick:()=>V({isOpen:!1,customerId:null}),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:m.jsx(Xl,{className:"w-5 h-5"})}),m.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[m.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4",children:m.jsx(Kc,{className:"w-8 h-8 text-red-500"})}),m.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Deactivate Customer?"}),m.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-2",children:["This customer has existing invoices.",m.jsx("br",{}),"Do you want to disable all related invoices from reports and calculations?"]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("button",{onClick:()=>Te(!0),className:"w-full py-3 bg-red-600 hover:bg-red-700 text-white font-bold rounded-xl shadow-lg shadow-red-600/20 transition-all text-sm",children:"Disable Customer & Exclude Invoices"}),m.jsx("button",{onClick:()=>Te(!1),className:"w-full py-3 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 hover:bg-orange-200 dark:hover:bg-orange-900/50 font-bold rounded-xl transition-all text-sm border border-orange-200 dark:border-orange-800",children:"Keep Invoices Active"}),m.jsx("button",{onClick:()=>V({isOpen:!1,customerId:null}),className:"w-full py-3 text-slate-500 hover:text-slate-700 font-bold text-sm",children:"Cancel"})]})]})}),v&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:M?"Edit Customer":"Add New Customer"}),m.jsx("button",{onClick:()=>w(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:m.jsx(Hs,{className:"w-6 h-6 rotate-45"})})]}),m.jsxs("form",{onSubmit:xe,className:"p-6 space-y-4",children:[m.jsx(It,{label:"Business Name *",value:te.name,onChange:J=>Q({...te,name:J.target.value}),required:!0,error:ie.name}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(It,{label:"GSTIN",value:te.gstin,onChange:J=>Q({...te,gstin:J.target.value.toUpperCase()}),className:"uppercase",error:ie.gstin,placeholder:"27ABCDE1234F1Z5"}),m.jsx(Jv,{label:"State *",value:te.state||"",onChange:J=>Q({...te,state:J}),options:uy.map(J=>({value:J,label:J})),placeholder:"Select State",error:ie.state})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(It,{label:"Phone *",type:"tel",placeholder:"10 digit number",value:te.phone,onChange:se,required:!0,error:ie.phone}),m.jsx(It,{label:"Email",type:"email",value:te.email,onChange:J=>Q({...te,email:J.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Address"}),m.jsx("textarea",{rows:2,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",value:te.address,onChange:J=>Q({...te,address:J.target.value})})]}),m.jsx("button",{type:"submit",className:"w-full py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-xl mt-4",children:M?"Update Customer":"Save Customer"})]})]})}),A&&q&&m.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[m.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-emerald-50 dark:bg-emerald-900/10",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Record Payment"}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["for ",q.name]})]}),m.jsx("button",{onClick:()=>T(!1),className:"text-slate-400 hover:text-slate-600",children:m.jsx(Hs,{className:"w-6 h-6 rotate-45"})})]}),m.jsxs("form",{onSubmit:$,className:"p-6 space-y-4",children:[m.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900 rounded-xl text-center border border-slate-100 dark:border-slate-700",children:[m.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold mb-1",children:"Current Outstanding"}),m.jsx("p",{className:"text-2xl font-bold text-red-500",children:$e(Pe(q.id).outstanding)})]}),m.jsx(It,{label:"Payment Amount () *",type:"number",min:"1",autoFocus:!0,value:L.amount,onChange:J=>ee({...L,amount:J.target.value}),className:"font-bold text-lg"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(It,{label:"Date",type:"date",value:L.date,onChange:J=>ee({...L,date:J.target.value})}),m.jsx(Xo,{label:"Mode",value:L.mode,onChange:J=>ee({...L,mode:J.target.value}),options:[{value:"Cash",label:"Cash"},{value:"UPI",label:"UPI"},{value:"Bank Transfer",label:"Bank Transfer"},{value:"Cheque",label:"Cheque"},{value:"Other",label:"Other"}]})]}),m.jsx(It,{label:"Note (Optional)",placeholder:"e.g. Transaction ID",value:L.note,onChange:J=>ee({...L,note:J.target.value})}),m.jsxs("div",{className:"text-xs text-slate-500 bg-blue-50 dark:bg-blue-900/10 p-3 rounded-lg border border-blue-100 dark:border-blue-800",children:[m.jsx("strong",{children:"Smart Allocation:"})," Payment will first clear overdue invoices, then pending ones. Any extra amount will be saved as ",m.jsx("strong",{children:"Advance Balance"}),"."]}),m.jsx("button",{type:"submit",className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/20",children:"Confirm Payment"})]})]})})]})},U$=()=>{const{id:e}=ay(),t=pa(),{customers:r,invoices:n,customerPayments:l}=Ln(),c=r.find(b=>b.id===e);if(!c)return m.jsxs("div",{className:"p-10 text-center",children:[m.jsx("p",{className:"text-slate-500",children:"Customer not found."}),m.jsx("button",{onClick:()=>t("/customers"),className:"text-primary-600 font-bold mt-2",children:"Go Back"})]});const f=O.useMemo(()=>{const b=n.filter(_=>_.customerId===c.id&&!_.isDeleted),v=b.reduce((_,j)=>_+j.grandTotal,0),w=b.reduce((_,j)=>_+(j.paidAmount||0),0),A=b.reduce((_,j)=>_+(j.balanceAmount||0),0),T=b.filter(_=>_.status==="Overdue").reduce((_,j)=>_+(j.balanceAmount||0),0);return{totalBilled:v,totalPaid:w,outstanding:A,overdue:T,advance:c.advanceBalance||0}},[n,c]),p=O.useMemo(()=>{const b=[];return n.filter(A=>A.customerId===c.id&&!A.isDeleted).forEach(A=>{b.push({id:A.id,date:A.date,type:"INVOICE",title:`Invoice #${A.invoiceNumber}`,amount:A.grandTotal,description:m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Invoice created with ",A.items.length," items."]}),m.jsx("div",{className:"flex gap-2 mt-1",children:m.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold border uppercase
                            ${A.status==="Paid"?"bg-emerald-100 text-emerald-700 border-emerald-200":A.status==="Overdue"?"bg-red-100 text-red-700 border-red-200":"bg-orange-100 text-orange-700 border-orange-200"}`,children:A.status})})]}),icon:Wc,colorClass:"bg-blue-100 text-blue-600 border-blue-200",details:A})}),l.filter(A=>A.customerId===c.id).forEach(A=>{const T=A.remainingToAdvance&&A.remainingToAdvance>0;b.push({id:A.id,date:A.date,type:"PAYMENT",title:"Payment Received",amount:A.amount,description:m.jsxs("div",{className:"space-y-2",children:[m.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Received via ",m.jsx("strong",{children:A.mode}),A.note&&m.jsxs("span",{className:"italic text-slate-400",children:['  "',A.note,'"']})]}),A.appliedToInvoices&&A.appliedToInvoices.length>0&&m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-2 rounded-lg text-xs space-y-1 border border-slate-200 dark:border-slate-700",children:[m.jsx("p",{className:"font-bold text-slate-500 uppercase",children:"Applied To:"}),A.appliedToInvoices.map((_,j)=>{const M=n.find(k=>k.id===_.invoiceId);return m.jsxs("div",{className:"flex justify-between text-slate-700 dark:text-slate-300",children:[m.jsx("span",{children:M?M.invoiceNumber:"Invoice"}),m.jsx("span",{className:"font-mono",children:$e(_.amount)})]},j)})]}),T&&m.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-purple-600 bg-purple-50 dark:bg-purple-900/20 px-2 py-1 rounded border border-purple-100 dark:border-purple-800 w-fit",children:[m.jsx(p1,{className:"w-3 h-3"}),$e(A.remainingToAdvance)," added to Advance"]})]}),icon:h1,colorClass:"bg-emerald-100 text-emerald-600 border-emerald-200",details:A})}),b.sort((A,T)=>new Date(T.date).getTime()-new Date(A.date).getTime())},[n,l,c.id]);return m.jsxs("div",{className:"animate-in fade-in duration-300 pb-20",children:[m.jsx("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-4 lg:px-10 pt-4 lg:pt-10 pb-4",children:m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>t("/customers"),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:m.jsx(dy,{className:"w-5 h-5 text-slate-500 dark:text-slate-300"})}),m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[c.name,m.jsx("span",{className:"text-sm font-normal text-slate-400 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full border border-slate-200 dark:border-slate-700",children:"History"})]}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Transaction Timeline & Ledger"})]})]}),m.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-xl text-sm font-bold text-slate-600 dark:text-slate-300 transition-colors",children:[m.jsx(hy,{className:"w-4 h-4"})," Export Statement"]})]})}),m.jsxs("div",{className:"px-4 lg:px-10 pb-10 space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Total Billed"}),m.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:$e(f.totalBilled)})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Total Paid"}),m.jsx("p",{className:"text-lg font-bold text-emerald-600",children:$e(f.totalPaid)})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Outstanding"}),m.jsx("p",{className:"text-lg font-bold text-red-500",children:$e(f.outstanding)})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Overdue"}),m.jsx("p",{className:"text-lg font-bold text-red-600",children:$e(f.overdue)})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Advance Bal"}),m.jsx("p",{className:"text-lg font-bold text-purple-600",children:$e(f.advance)})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm p-6",children:[m.jsxs("h3",{className:"font-bold text-lg mb-6 flex items-center gap-2",children:[m.jsx(fy,{className:"w-5 h-5 text-slate-400"})," Recent Activity"]}),m.jsxs("div",{className:"space-y-8 relative before:absolute before:inset-0 before:ml-5 before:-translate-x-px md:before:mx-auto md:before:translate-x-0 before:h-full before:w-0.5 before:bg-gradient-to-b before:from-transparent before:via-slate-200 before:to-transparent",children:[p.map(b=>{const v=b.type==="INVOICE";return m.jsxs("div",{className:"relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group is-active",children:[m.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 bg-white dark:bg-slate-800 shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2 shadow-sm z-10 ${b.colorClass}`,children:m.jsx(b.icon,{className:"w-5 h-5"})}),m.jsxs("div",{className:"w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] p-4 bg-slate-50 dark:bg-slate-900/40 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-md transition-shadow",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:b.title}),m.jsx("time",{className:"font-mono text-xs text-slate-500",children:Za(b.date)})]}),m.jsx("div",{className:"text-slate-600 dark:text-slate-400 mb-2",children:b.description}),m.jsx("div",{className:`font-bold text-right ${v?"text-slate-700 dark:text-slate-200":"text-emerald-600"}`,children:v?$e(b.amount):`+ ${$e(b.amount)}`})]})]},b.id)}),p.length===0&&m.jsx("div",{className:"text-center py-10 text-slate-400",children:"No transactions recorded for this customer yet."})]})]})]})]})},F$=()=>{var be,X,re,se;const{products:e,addProduct:t,updateProduct:r,deleteProduct:n,businessProfile:l}=Ln(),[c,f]=O.useState(!1),[p,b]=O.useState(""),[v,w]=O.useState(null),[A,T]=O.useState(!1),[_,j]=O.useState(null),M=((be=l.stockSettings)==null?void 0:be.lowStockThreshold)??5,k=((X=l.stockSettings)==null?void 0:X.mode)||Wr.WARNING,[R,F]=O.useState({name:"",hsn:"",barcode:"",price:0,gstRate:18,stock:0,hasVariants:!1,variants:[]}),[U,V]=O.useState({});O.useEffect(()=>{if(A){const de=new MI("product-reader",{fps:10,qrbox:{width:250,height:250}},!1);return de.render(xe=>{_==="main"?F($=>({...$,barcode:xe})):_&&typeof _=="object"&&F($=>{const ue=[...$.variants||[]];return ue[_.variantIndex]&&(ue[_.variantIndex].barcode=xe),{...$,variants:ue}}),new Audio("https://www.soundjay.com/button/beep-07.wav").play().catch($=>console.log("Audio play failed",$)),de.clear(),T(!1),j(null)},xe=>{}),()=>{try{de.clear()}catch{}}}},[A]);const q=()=>{F({name:"",hsn:"",barcode:"",price:0,gstRate:18,stock:0,hasVariants:!1,variants:[]}),w(null),V({})},Y=de=>{F(JSON.parse(JSON.stringify(de))),w(de.id),V({}),f(!0)},L=()=>{var xe;const de={};return(xe=R.name)!=null&&xe.trim()||(de.name="Product Name is required"),R.hasVariants?!R.variants||R.variants.length===0?de.variants="At least one variant is required":R.variants.forEach((Me,$)=>{Me.name||(de[`variant_${$}_name`]="Required"),(Me.price===void 0||Me.price==="")&&(de[`variant_${$}_price`]="Required"),(Me.stock===void 0||Me.stock==="")&&(de[`variant_${$}_stock`]="Required")}):(R.price===void 0||R.price<0)&&(de.price="Valid Price is required"),V(de),Object.keys(de).length===0},ee=de=>{if(de.preventDefault(),!L())return;const xe={id:v||aa(),name:R.name,hsn:R.hsn||"",gstRate:Number(R.gstRate),hasVariants:R.hasVariants,barcode:R.hasVariants?void 0:R.barcode||"",price:R.hasVariants?0:Number(R.price),stock:R.hasVariants?0:Number(R.stock)||0,variants:R.hasVariants?(R.variants||[]).map(Me=>({...Me,price:Number(Me.price),stock:Number(Me.stock)})):[]};v?r(xe):t(xe),f(!1),q()},Z=()=>{F(de=>({...de,variants:[...de.variants||[],{id:aa(),name:"",price:"",stock:"",barcode:""}]}))},Ne=de=>{F(xe=>{var Me;return{...xe,variants:(Me=xe.variants)==null?void 0:Me.filter(($,ue)=>ue!==de)}})},te=(de,xe,Me)=>{F($=>{const ue=[...$.variants||[]];return ue[de]={...ue[de],[xe]:Me},{...$,variants:ue}})},Q=O.useMemo(()=>{const de=[];return e.forEach(xe=>{const Me=xe.name.toLowerCase().includes(p.toLowerCase())||xe.hsn.includes(p)||xe.barcode&&xe.barcode.includes(p);let $=!1;xe.hasVariants&&xe.variants&&($=xe.variants.some(ue=>ue.name.toLowerCase().includes(p.toLowerCase())||ue.barcode&&ue.barcode.includes(p))),(Me||$)&&(xe.hasVariants&&xe.variants&&xe.variants.length>0?xe.variants.forEach(ue=>{de.push({...xe,isVariant:!0,variantId:ue.id,displayName:`${xe.name} (${ue.name})`,displayBarcode:ue.barcode,displayPrice:ue.price,displayStock:ue.stock,originalProduct:xe})}):de.push({...xe,isVariant:!1,displayName:xe.name,displayBarcode:xe.barcode,displayPrice:xe.price,displayStock:xe.stock,originalProduct:xe}))}),de},[e,p]),ie=({stock:de})=>{const xe=R$(de,M,k),Me=P$(xe),$=L$(xe);let ue=null;return xe==="OVERSOLD"?ue=f1:xe==="LOW_STOCK"?ue=Kc:xe==="IN_STOCK"&&(ue=Bo),xe==="DISABLED"?m.jsx("span",{className:"text-slate-400",children:"-"}):xe==="IN_STOCK"?m.jsxs("span",{className:"text-emerald-600 font-medium text-sm flex items-center gap-1",children:[m.jsx(Bo,{className:"w-3.5 h-3.5"})," In Stock"]}):m.jsxs("span",{className:`inline-flex items-center gap-1 text-[10px] font-bold px-2 py-1 rounded-full uppercase border ${Me}`,children:[ue&&m.jsx(ue,{className:"w-3 h-3"})," ",$]})};return m.jsxs("div",{children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-4 lg:px-10 pt-4 lg:pt-10 pb-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Inventory"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage products & services"})]}),m.jsxs("button",{onClick:()=>{q(),f(!0)},className:"bg-primary-600 hover:bg-primary-700 text-white px-5 py-2.5 rounded-xl font-medium flex items-center gap-2 shadow-lg shadow-primary-600/30 transition-all w-full sm:w-auto justify-center",children:[m.jsx(Hs,{className:"w-5 h-5"}),"Add Product"]})]}),m.jsxs("div",{className:"relative",children:[m.jsx(Wd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),m.jsx("input",{type:"text",placeholder:"Search by name, HSN or barcode...",value:p,onChange:de=>b(de.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),m.jsx("div",{className:"px-4 lg:px-10 pb-10 space-y-6",children:m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase min-w-[200px]",children:"Product"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase text-right",children:"HSN"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase text-right hidden md:table-cell",children:"Barcode"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase text-right",children:"Price"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase text-right",children:"Stock"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase text-right",children:"Status"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase text-right",children:"Action"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[Q.map((de,xe)=>m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 ${de.isVariant?"bg-orange-50 dark:bg-orange-900/30 text-orange-600 ml-4":"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600"}`,children:de.isVariant?m.jsx(Gk,{className:"w-4 h-4"}):m.jsx(Xd,{className:"w-4 h-4"})}),m.jsxs("div",{children:[m.jsx("span",{className:"font-medium text-slate-900 dark:text-white block",children:de.displayName}),m.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 md:hidden",children:["HSN: ",de.hsn||"-"," | Barcode: ",de.displayBarcode||"-"]})]})]})}),m.jsx("td",{className:"px-6 py-4 text-right text-slate-500 dark:text-slate-400 font-mono text-sm hidden md:table-cell",children:de.hsn||"-"}),m.jsx("td",{className:"px-6 py-4 text-right text-slate-500 dark:text-slate-400 font-mono text-sm hidden md:table-cell",children:de.displayBarcode||"-"}),m.jsx("td",{className:"px-6 py-4 text-right font-medium text-slate-900 dark:text-white",children:$e(de.displayPrice)}),m.jsx("td",{className:"px-6 py-4 text-right text-slate-500 dark:text-slate-400 font-bold",children:k===Wr.DISABLED?"-":de.displayStock}),m.jsx("td",{className:"px-6 py-4 text-right",children:m.jsx(ie,{stock:de.displayStock||0})}),m.jsx("td",{className:"px-6 py-4 text-right",children:m.jsxs("div",{className:"flex items-center justify-end gap-2",children:[m.jsx("button",{onClick:()=>Y(de.originalProduct),className:"text-slate-400 hover:text-primary-500 transition-colors p-2",title:"Edit Product",children:m.jsx(g1,{className:"w-4 h-4"})}),!de.isVariant&&m.jsx("button",{onClick:()=>n(de.id),className:"text-slate-400 hover:text-red-500 transition-colors p-2",title:"Delete Product",children:m.jsx(ko,{className:"w-4 h-4"})})]})})]},`${de.id}_${xe}`)),Q.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-slate-400",children:"No products found. Add some inventory to get started."})})]})]})})})}),A&&m.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 w-full max-w-md relative",children:[m.jsx("button",{onClick:()=>T(!1),className:"absolute top-4 right-4 p-2 bg-slate-100 dark:bg-slate-700 rounded-full text-slate-500 hover:text-red-500 transition-colors",children:m.jsx(Xl,{className:"w-5 h-5"})}),m.jsx("h3",{className:"text-lg font-bold mb-4 text-center dark:text-white",children:"Scan Barcode"}),m.jsx("div",{id:"product-reader",className:"w-full h-64 bg-black rounded-lg overflow-hidden"}),m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"Point your camera at a barcode"})]})}),c&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-3xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center shrink-0",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:v?"Edit Product":"Add New Product"}),m.jsx("button",{onClick:()=>f(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:m.jsx(Hs,{className:"w-6 h-6 rotate-45"})})]}),m.jsxs("form",{onSubmit:ee,className:"p-6 overflow-y-auto",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx(It,{label:"Product Name *",value:R.name,onChange:de=>F({...R,name:de.target.value}),required:!0,error:U.name}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(It,{label:"HSN Code",value:R.hsn,onChange:de=>F({...R,hsn:de.target.value})}),m.jsx(Xo,{label:"GST Rate",value:R.gstRate,onChange:de=>F({...R,gstRate:Number(de.target.value)}),options:[{value:0,label:"0%"},{value:5,label:"5%"},{value:12,label:"12%"},{value:18,label:"18%"},{value:28,label:"28%"}]})]}),m.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl border border-slate-100 dark:border-slate-700",children:[m.jsx("button",{type:"button",onClick:()=>F(de=>({...de,hasVariants:!de.hasVariants})),className:`w-12 h-6 rounded-full transition-colors relative ${R.hasVariants?"bg-primary-600":"bg-slate-300 dark:bg-slate-600"}`,children:m.jsx("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-transform ${R.hasVariants?"left-7":"left-1"}`})}),m.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:"This product has variants (e.g. Size, Color)"})]}),R.hasVariants?m.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Product Variants"}),m.jsx("button",{type:"button",onClick:Z,className:"text-xs bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 px-3 py-1.5 rounded-lg font-bold hover:bg-primary-200",children:"+ Add Variant"})]}),U.variants&&m.jsx("p",{className:"text-xs text-red-500",children:U.variants}),m.jsxs("div",{className:"space-y-3",children:[(re=R.variants)==null?void 0:re.map((de,xe)=>m.jsxs("div",{className:"flex gap-2 items-start bg-slate-50 dark:bg-slate-700/30 p-3 rounded-xl border border-slate-200 dark:border-slate-700 relative group",children:[m.jsxs("div",{className:"flex-1 space-y-2",children:[m.jsxs("div",{className:"grid grid-cols-12 gap-3",children:[m.jsxs("div",{className:"col-span-4",children:[m.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500 dark:text-slate-400 mb-1 block",children:"Size / Label"}),m.jsx(It,{placeholder:"e.g. Small",value:de.name,onChange:Me=>te(xe,"name",Me.target.value),className:"text-sm",error:U[`variant_${xe}_name`]})]}),m.jsxs("div",{className:"col-span-4",children:[m.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500 dark:text-slate-400 mb-1 block",children:"Price ()"}),m.jsx(It,{type:"number",min:"0",placeholder:"0.00",value:de.price,onChange:Me=>te(xe,"price",Me.target.value),onKeyDown:Me=>Me.key==="-"&&Me.preventDefault(),className:"text-sm",error:U[`variant_${xe}_price`]})]}),m.jsxs("div",{className:"col-span-4",children:[m.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500 dark:text-slate-400 mb-1 block",children:"Stock Qty"}),m.jsx(It,{type:"number",min:"0",placeholder:"0",value:de.stock,onChange:Me=>te(xe,"stock",Me.target.value),onKeyDown:Me=>Me.key==="-"&&Me.preventDefault(),className:"text-sm",error:U[`variant_${xe}_stock`]})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500 dark:text-slate-400 mb-1 block",children:"Barcode"}),m.jsx(It,{placeholder:"Scan or Enter",value:de.barcode,onChange:Me=>te(xe,"barcode",Me.target.value),className:"text-sm pr-8"}),m.jsx("button",{type:"button",onClick:()=>{j({variantIndex:xe}),T(!0)},className:"absolute right-2 bottom-2 text-slate-400 hover:text-primary-600",children:m.jsx(Qx,{className:"w-4 h-4"})})]})]}),m.jsx("button",{type:"button",onClick:()=>Ne(xe),className:"text-slate-400 hover:text-red-500 p-1 self-start mt-6",title:"Remove Variant",children:m.jsx(Xl,{className:"w-5 h-5"})})]},xe)),((se=R.variants)==null?void 0:se.length)===0&&m.jsx("div",{className:"text-center py-6 text-slate-400 text-sm border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-xl",children:'No variants added. Click "+ Add Variant".'})]})]}):m.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(It,{label:"Price () *",type:"number",min:"0",value:R.price,onChange:de=>F({...R,price:Number(de.target.value)}),required:!R.hasVariants,error:U.price}),m.jsx(It,{label:"Initial Stock",type:"number",value:R.stock,onChange:de=>F({...R,stock:Number(de.target.value)})})]}),m.jsxs("div",{className:"relative",children:[m.jsx(It,{label:"Barcode",value:R.barcode,onChange:de=>F({...R,barcode:de.target.value}),placeholder:"Scan or enter"}),m.jsx("button",{type:"button",onClick:()=>{j("main"),T(!0)},className:"absolute right-2 bottom-2 p-1.5 text-slate-400 hover:text-primary-600 dark:hover:text-primary-400",title:"Scan Barcode",children:m.jsx(Qx,{className:"w-5 h-5"})})]})]})]}),m.jsx("div",{className:"mt-6 pt-4 border-t border-slate-100 dark:border-slate-700",children:m.jsx("button",{type:"submit",className:"w-full py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-xl",children:v?"Update Product":"Save Product"})})]})]})})]})},H$=()=>{const{invoices:e,products:t,businessProfile:r,user:n,customers:l}=Ln(),c=pa(),[f,p]=O.useState("sales"),[b,v]=O.useState("year"),A=oh(n,r.plan).advancedReports,T=r.includeNonGstInReports!==!1,_=O.useMemo(()=>A?e.filter(L=>{if(L.isDeleted||L.excludeFromReports||!T&&L.billingType==="NON_GST")return!1;const ee=new Date(L.date),Z=new Date;return b==="month"?ee.getMonth()===Z.getMonth()&&ee.getFullYear()===Z.getFullYear():b==="year"?ee.getFullYear()===Z.getFullYear():!0}):[],[e,b,A,T]),j=O.useMemo(()=>{const L={};return _.forEach(ee=>{const Z=new Date(ee.date).toLocaleDateString("default",{month:"short",day:b==="month"?"numeric":void 0});L[Z]=(L[Z]||0)+(ee.grandTotal||0)}),Object.entries(L).map(([ee,Z])=>({name:ee,value:Z}))},[_,b]),M=_.reduce((L,ee)=>L+(ee.paidAmount??0),0),k=_.reduce((L,ee)=>L+(ee.balanceAmount??0),0);_.filter(L=>L.status===Ot.PAID).length,_.filter(L=>L.status===Ot.PENDING).length,_.filter(L=>L.status===Ot.PARTIALLY_PAID).length,_.filter(L=>L.status===Ot.OVERDUE).length;const R=O.useMemo(()=>{let L={taxable:0,cgst:0,sgst:0,igst:0,totalTax:0},ee=[],Z={};_.forEach(te=>{let Q=0,ie=0,be=0,X=0;te.items.forEach(de=>{const xe=de.quantity,Me=de.returnedQuantity||0,$=Math.max(0,xe-Me);if($>0){const ue=de.price,Te=ue*de.discount/100,Qe=(ue-Te)*$,J=Qe*de.gstRate/100;Q+=Qe,te.isInterState?X+=J:(ie+=J/2,be+=J/2)}});const re=ie+be+X;ee.push({id:te.id,number:te.invoiceNumber,customer:te.customerName,taxable:Q,cgst:ie,sgst:be,igst:X,totalTax:re,date:te.date}),L.taxable+=Q,L.cgst+=ie,L.sgst+=be,L.igst+=X,L.totalTax+=re;const se=new Date(te.date).toLocaleString("default",{month:"short"});Z[se]=(Z[se]||0)+re});const Ne=Object.entries(Z).map(([te,Q])=>({name:te,value:Q}));return{summary:L,breakdown:ee,trendData:Ne}},[_]),F=O.useMemo(()=>{const L={};return _.forEach(ee=>{L[ee.customerId]||(L[ee.customerId]={revenue:0,outstanding:0,invoiceCount:0}),L[ee.customerId].revenue+=ee.paidAmount||0,L[ee.customerId].outstanding+=ee.balanceAmount||0,L[ee.customerId].invoiceCount+=1}),l.map(ee=>{var Z,Ne,te;return{id:ee.id,name:ee.name,revenue:((Z=L[ee.id])==null?void 0:Z.revenue)||0,outstanding:((Ne=L[ee.id])==null?void 0:Ne.outstanding)||0,invoiceCount:((te=L[ee.id])==null?void 0:te.invoiceCount)||0,advanceBalance:ee.advanceBalance||0}}).filter(ee=>ee.revenue>0||ee.outstanding>0||ee.advanceBalance>0).sort((ee,Z)=>Z.revenue-ee.revenue)},[_,l]),U=O.useMemo(()=>{const L={};_.forEach(be=>{be.items.forEach(X=>{const re=X.productId||X.name;L[re]||(L[re]={id:X.productId,name:X.name,qty:0,revenue:0,gst:0});const se=X.quantity,de=X.returnedQuantity||0,xe=Math.max(0,se-de);if(xe>0){const Me=X.price,$=Me*X.discount/100,Te=(Me-$)*xe,Pe=Te*X.gstRate/100;L[re].qty+=xe,L[re].revenue+=Te,L[re].gst+=Pe}})});const ee=Object.values(L),Z=[...ee].sort((be,X)=>X.qty-be.qty),Ne=new Set(ee.map(be=>be.id)),Q=[...t.filter(be=>!Ne.has(be.id)).map(be=>({name:be.name,revenue:0,qty:0,gst:0})),...[...ee].sort((be,X)=>be.revenue-X.revenue)].slice(0,10),ie=ee.reduce((be,X)=>be+X.gst,0);return{topSelling:Z,lowPerforming:Q,allStats:ee,totalProductGST:ie}},[_,t]);t.filter(L=>(L.stock||0)<5);const V=()=>{},q=()=>{},Y=()=>m.jsxs("div",{className:"absolute inset-0 z-50 backdrop-blur-md bg-white/50 dark:bg-slate-900/50 flex flex-col items-center justify-center p-4 text-center rounded-3xl border border-slate-200 dark:border-slate-700",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg mb-6 animate-bounce",children:m.jsx(ql,{className:"w-8 h-8 text-white"})}),m.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Premium Feature Locked"}),m.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-md mb-8",children:"Unlock advanced analytics, GST reports, and deep insights to grow your business faster."}),m.jsxs("button",{onClick:()=>c("/pricing"),className:"px-8 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold rounded-xl shadow-xl hover:scale-105 transition-transform flex items-center gap-2",children:[m.jsx(Od,{className:"w-5 h-5"})," Upgrade to Premium"]})]});return m.jsxs("div",{className:"relative min-h-[80vh]",children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-4 lg:px-10 pt-4 lg:pt-10 pb-4 border-b border-slate-200/50 dark:border-slate-700/50",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[m.jsx(Q4,{className:"w-6 h-6 text-primary-600"})," Advanced Reports"]}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Deep insights into your business performance"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("select",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-2 text-sm font-medium focus:outline-none",value:b,onChange:L=>v(L.target.value),disabled:!A,children:[m.jsx("option",{value:"month",children:"This Month"}),m.jsx("option",{value:"year",children:"This Year"}),m.jsx("option",{value:"all",children:"All Time"})]}),m.jsx("button",{onClick:q,disabled:!A,className:"p-2 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-xl text-slate-600 dark:text-slate-300 transition-colors",title:"Print / Save PDF",children:m.jsx(Wc,{className:"w-5 h-5"})}),m.jsx("button",{onClick:V,disabled:!A,className:"p-2 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-xl text-slate-600 dark:text-slate-300 transition-colors",title:"Export CSV",children:m.jsx(hy,{className:"w-5 h-5"})})]})]}),m.jsx("div",{className:"flex overflow-x-auto pb-2 gap-2",children:[{id:"sales",label:"Sales Overview",icon:uh},{id:"gst",label:"GST Report",icon:Wc},{id:"customers",label:"Customer Insights",icon:su},{id:"products",label:"Product Analytics",icon:Xd}].map(L=>m.jsxs("button",{onClick:()=>p(L.id),disabled:!A,className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${f===L.id?"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400"}`,children:[m.jsx(L.icon,{className:"w-4 h-4"})," ",L.label]},L.id))})]}),m.jsxs("div",{className:"relative px-4 lg:px-10 pb-10 space-y-6 pt-6",children:[!A&&m.jsx(Y,{}),f==="sales"&&m.jsxs("div",{className:`space-y-6 ${A?"":"blur-sm select-none"}`,children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden group",children:[m.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:scale-110 transition-transform",children:m.jsx(uh,{className:"w-24 h-24 text-emerald-500"})}),m.jsx("p",{className:"text-slate-500 text-sm font-bold uppercase tracking-wider mb-2",children:"Net Revenue (Collected)"}),m.jsx("h3",{className:"text-4xl font-bold text-emerald-600 dark:text-emerald-400",children:$e(M)}),m.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"After deducting refunds/returns"})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden group",children:[m.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:scale-110 transition-transform",children:m.jsx(uk,{className:"w-24 h-24 text-red-500"})}),m.jsx("p",{className:"text-slate-500 text-sm font-bold uppercase tracking-wider mb-2",children:"Outstanding Amount"}),m.jsx("h3",{className:"text-4xl font-bold text-red-600 dark:text-red-400",children:$e(k)}),m.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Total unpaid balance from invoices"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("h3",{className:"font-bold text-lg mb-6",children:"Revenue Trend (Actual Sales)"}),m.jsx("div",{className:"h-80 w-full",children:m.jsx(eh,{width:"100%",height:"100%",children:m.jsxs(WZ,{data:j,children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#4f46e5",stopOpacity:.3}),m.jsx("stop",{offset:"95%",stopColor:"#4f46e5",stopOpacity:0})]})}),m.jsx(Sd,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),m.jsx(Ed,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),m.jsx(Cd,{axisLine:!1,tickLine:!1,tickFormatter:L=>`${L/1e3}k`,style:{fontSize:"12px"}}),m.jsx(rh,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:L=>$e(L)}),m.jsx(lI,{type:"monotone",dataKey:"value",stroke:"#4f46e5",fillOpacity:1,fill:"url(#colorRevenue)"})]})})})]})]}),f==="gst"&&m.jsxs("div",{className:`space-y-6 ${A?"":"blur-sm select-none"}`,children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[m.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Taxable Value (Net)"}),m.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-white",children:$e(R.summary.taxable)})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[m.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"CGST"}),m.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-white",children:$e(R.summary.cgst)})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[m.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"SGST"}),m.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-white",children:$e(R.summary.sgst)})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[m.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"IGST"}),m.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-white",children:$e(R.summary.igst)})]}),m.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900/20 p-4 rounded-xl border border-primary-100 dark:border-primary-800",children:[m.jsx("p",{className:"text-xs font-bold text-primary-600 dark:text-primary-400 uppercase mb-1",children:"Total GST"}),m.jsx("p",{className:"text-xl font-bold text-primary-700 dark:text-primary-300",children:$e(R.summary.totalTax)})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("h3",{className:"font-bold text-lg mb-6",children:"GST Collection Trend"}),m.jsx("div",{className:"h-72 w-full",children:m.jsx(eh,{width:"100%",height:"100%",children:m.jsxs(Qv,{data:R.trendData,children:[m.jsx(Sd,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),m.jsx(Ed,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),m.jsx(Cd,{axisLine:!1,tickLine:!1,tickFormatter:L=>`${L>=1e3?L/1e3+"k":L}`,style:{fontSize:"12px"}}),m.jsx(rh,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:L=>[$e(L),"GST Collected"]}),m.jsx(i1,{dataKey:"value",fill:"#4f46e5",radius:[4,4,0,0],barSize:40})]})})})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[m.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:m.jsx("h3",{className:"font-bold text-lg",children:"GST Breakdown"})}),m.jsx("div",{className:"overflow-x-auto max-h-96",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 sticky top-0 z-10",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase",children:"Invoice"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase",children:"Date"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase",children:"Customer"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase text-right",children:"Taxable"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase text-right",children:"CGST"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase text-right",children:"SGST"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase text-right",children:"IGST"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase text-right",children:"Total Tax"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[R.breakdown.map(L=>m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[m.jsx("td",{className:"px-6 py-3 font-medium text-slate-900 dark:text-white",children:L.number}),m.jsx("td",{className:"px-6 py-3 text-sm text-slate-500",children:Za(L.date)}),m.jsx("td",{className:"px-6 py-3 text-sm text-slate-500 truncate max-w-[150px]",children:L.customer}),m.jsx("td",{className:"px-6 py-3 text-right font-medium",children:$e(L.taxable)}),m.jsx("td",{className:"px-6 py-3 text-right text-slate-500",children:$e(L.cgst)}),m.jsx("td",{className:"px-6 py-3 text-right text-slate-500",children:$e(L.sgst)}),m.jsx("td",{className:"px-6 py-3 text-right text-slate-500",children:$e(L.igst)}),m.jsx("td",{className:"px-6 py-3 text-right font-bold text-slate-700 dark:text-slate-300",children:$e(L.totalTax)})]},L.id)),R.breakdown.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:8,className:"px-6 py-10 text-center text-slate-400",children:"No GST data available for selected period."})})]})]})})]})]}),f==="customers"&&m.jsx("div",{className:`space-y-6 ${A?"":"blur-sm select-none"}`,children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[m.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:m.jsx("h3",{className:"font-bold text-lg",children:"Customer Financial Performance"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase",children:"Customer"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase text-right",children:"Revenue"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase text-right",children:"Outstanding"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase text-right",children:"Advance Bal"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase text-center",children:"Invoices"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[F.map(L=>m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[m.jsx("td",{className:"px-6 py-4 font-bold text-slate-900 dark:text-white",children:L.name}),m.jsx("td",{className:"px-6 py-4 text-right font-medium text-emerald-600",children:$e(L.revenue)}),m.jsx("td",{className:"px-6 py-4 text-right font-medium text-red-500",children:$e(L.outstanding)}),m.jsx("td",{className:"px-6 py-4 text-right font-medium text-indigo-500",children:$e(L.advanceBalance)}),m.jsx("td",{className:"px-6 py-4 text-center text-slate-500",children:L.invoiceCount})]},L.id)),F.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-400",children:"No data available for this period."})})]})]})})]})}),f==="products"&&m.jsxs("div",{className:`space-y-6 ${A?"":"blur-sm select-none"}`,children:[m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[m.jsx(Z4,{className:"w-5 h-5 text-emerald-500"})," Top Selling Products"]}),m.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:[U.topSelling.slice(0,10).map((L,ee)=>m.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700/30 rounded-xl border border-slate-100 dark:border-slate-600",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${ee<3?"bg-amber-100 text-amber-700":"bg-slate-200 dark:bg-slate-600 text-slate-600 dark:text-slate-300"}`,children:ee+1}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-sm text-slate-900 dark:text-white",children:L.name}),m.jsxs("p",{className:"text-[10px] text-slate-500",children:[L.qty," units sold (Net)  GST: ",$e(L.gst)]})]})]}),m.jsx("span",{className:"font-bold text-sm text-emerald-600",children:$e(L.revenue)})]},ee)),U.topSelling.length===0&&m.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"No sales found."})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[m.jsx(W4,{className:"w-5 h-5 text-red-500"})," Low Performing Products"]}),m.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:[U.lowPerforming.map((L,ee)=>m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 dark:border-slate-700 last:border-0 pb-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(f1,{className:"w-4 h-4 text-slate-300"}),m.jsx("span",{className:"text-slate-700 dark:text-slate-300 text-sm font-medium",children:L.name})]}),m.jsx("span",{className:"text-xs bg-slate-100 dark:bg-slate-700 text-slate-500 px-2 py-1 rounded font-bold",children:L.revenue===0?"Zero Sales":$e(L.revenue)})]},ee)),U.lowPerforming.length===0&&m.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"All products are performing well."})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("h3",{className:"font-bold text-lg mb-6",children:"Revenue by Product"}),m.jsx("div",{className:"h-72 w-full",children:m.jsx(eh,{width:"100%",height:"100%",children:m.jsxs(Qv,{data:U.topSelling.slice(0,8),children:[m.jsx(Sd,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),m.jsx(Ed,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"10px"},interval:0}),m.jsx(Cd,{axisLine:!1,tickLine:!1,tickFormatter:L=>`${L/1e3}k`,style:{fontSize:"12px"}}),m.jsx(rh,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:L=>$e(L)}),m.jsx(i1,{dataKey:"revenue",fill:"#8b5cf6",radius:[4,4,0,0],barSize:32})]})})})]}),m.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-slate-800 p-0 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[m.jsx("div",{className:"p-5 border-b border-slate-100 dark:border-slate-700",children:m.jsx("h3",{className:"font-bold text-lg",children:"GST Contribution"})}),m.jsx("div",{className:"overflow-x-auto max-h-80",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 text-[10px] uppercase text-slate-500 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-2",children:"Product"}),m.jsx("th",{className:"px-4 py-2 text-right",children:"GST"}),m.jsx("th",{className:"px-4 py-2 text-right",children:"%"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 text-sm",children:U.topSelling.map((L,ee)=>{const Z=U.totalProductGST>0?L.gst/U.totalProductGST*100:0;return m.jsxs("tr",{children:[m.jsx("td",{className:"px-4 py-2 text-slate-700 dark:text-slate-300 font-medium truncate max-w-[120px]",title:L.name,children:L.name}),m.jsx("td",{className:"px-4 py-2 text-right text-slate-500",children:$e(L.gst)}),m.jsxs("td",{className:"px-4 py-2 text-right font-bold text-indigo-600",children:[Z.toFixed(1),"%"]})]},ee)})})]})})]})]})]})]})]})},qx=({title:e,price:t,planType:r,features:n,recommended:l=!1,buttonText:c="Get Started",onUpgrade:f,currentPlan:p})=>{const b=p===r;return m.jsxs("div",{className:`relative p-8 rounded-3xl border flex flex-col h-full ${l?"bg-slate-900 text-white border-slate-900 shadow-xl scale-105 z-10":"bg-white dark:bg-slate-800 text-slate-900 dark:text-white border-slate-200 dark:border-slate-700 shadow-sm"}`,children:[l&&m.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-gradient-to-r from-amber-400 to-orange-500 text-white px-4 py-1 rounded-full text-xs font-bold uppercase tracking-wide shadow-lg",children:"Most Popular"}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:`text-lg font-bold ${l?"text-slate-200":"text-slate-500 dark:text-slate-400"}`,children:e}),m.jsxs("div",{className:"flex items-baseline gap-1 mt-2",children:[m.jsxs("span",{className:"text-4xl font-bold",children:["",t]}),t!=="0"&&m.jsxs("span",{className:`text-sm ${l?"text-slate-400":"text-slate-500"}`,children:["/",r===Er.PREMIUM_YEARLY?"year":"month"]})]}),m.jsx("p",{className:`text-sm mt-3 ${l?"text-slate-400":"text-slate-500"}`,children:t==="0"?"Perfect for freelancers & hobbyists.":"For growing businesses needing power."})]}),m.jsx("div",{className:"space-y-4 flex-1 mb-8",children:n.map((v,w)=>m.jsxs("div",{className:"flex items-start gap-3",children:[v.included?m.jsx("div",{className:`p-0.5 rounded-full ${l?"bg-emerald-500/20 text-emerald-400":"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400"}`,children:m.jsx(J4,{className:"w-3.5 h-3.5"})}):m.jsx("div",{className:`p-0.5 rounded-full ${l?"bg-slate-800 text-slate-600":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:m.jsx(Xl,{className:"w-3.5 h-3.5"})}),m.jsx("span",{className:`text-sm ${!v.included&&"text-slate-400 line-through"} ${l?"text-slate-300":"text-slate-700 dark:text-slate-300"}`,children:v.text})]},w))}),m.jsx("button",{onClick:()=>f(r),disabled:b,className:`w-full py-3 rounded-xl font-bold transition-all ${b?"bg-emerald-500 text-white cursor-default":l?"bg-primary-600 hover:bg-primary-500 text-white shadow-lg shadow-primary-600/40":"bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-900 dark:text-white"}`,children:b?"Current Plan":c})]})},G$=()=>{const{businessProfile:e,upgradePlan:t,user:r}=Ln(),n=pa(),l=p=>{if(p===Er.FREE){alert("You are on the Free plan.");return}const b={key:"rzp_test_mock_key",amount:p===Er.PREMIUM_YEARLY?299900:29900,currency:"INR",name:"BillSahi Premium",description:`Upgrade to ${p}`,image:"https://via.placeholder.com/150",handler:function(w){t(p),n("/profile")},prefill:{name:r==null?void 0:r.name,email:r==null?void 0:r.email,contact:"9999999999"},theme:{color:"#4f46e5"}};new window.Razorpay(b).open()},c=[{text:"10 GST Invoices / month",included:!0},{text:"Maximum 2 Workers",included:!0},{text:"Worker Management (Limited)",included:!0},{text:"Basic Reports",included:!0},{text:"Watermark on Invoice",included:!0},{text:"Salary Tracking",included:!1},{text:"Attendance Tracking",included:!1},{text:"Inventory Management",included:!1},{text:"Priority Support",included:!1}],f=[{text:"Unlimited GST Invoices",included:!0},{text:"Unlimited Workers",included:!0},{text:"Full Worker Management",included:!0},{text:"Monthly Salary Tracking",included:!0},{text:"Worker Attendance Management",included:!0},{text:"Advance Payment Tracking",included:!0},{text:"Advanced GST Reports",included:!0},{text:"No Watermark",included:!0},{text:"Inventory Management",included:!0},{text:"Custom Branding",included:!0},{text:"Priority Support",included:!0}];return m.jsxs("div",{children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-4 lg:px-10 pt-4 lg:pt-10 pb-4 text-center border-b border-slate-200/50 dark:border-slate-700/50",children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-1",children:"Simple, Transparent Pricing"}),m.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Start for free and upgrade as your business grows. No hidden charges."})]}),m.jsxs("div",{className:"px-4 lg:px-10 py-10 max-w-6xl mx-auto",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 items-center",children:[m.jsx(qx,{title:"Free Forever",price:"0",planType:Er.FREE,features:c,buttonText:"Current Plan",onUpgrade:()=>{},currentPlan:e.plan}),m.jsx(qx,{title:"Premium Monthly",price:"299",planType:Er.PREMIUM_MONTHLY,features:f,recommended:!0,buttonText:"Upgrade Now",onUpgrade:l,currentPlan:e.plan}),m.jsx(qx,{title:"Premium Yearly",price:"2,999",planType:Er.PREMIUM_YEARLY,features:f,buttonText:"Buy Yearly & Save",onUpgrade:l,currentPlan:e.plan})]}),m.jsxs("div",{className:"mt-16 bg-indigo-50 dark:bg-indigo-900/20 rounded-3xl p-10 text-center border border-indigo-100 dark:border-indigo-800",children:[m.jsx("h3",{className:"text-2xl font-bold text-indigo-900 dark:text-indigo-200 mb-2",children:"Need a Custom Enterprise Solution?"}),m.jsx("p",{className:"text-indigo-700 dark:text-indigo-300 mb-6",children:"For large organizations with multiple GSTINs and complex user roles."}),m.jsx("button",{className:"text-primary-700 dark:text-primary-400 font-bold hover:text-primary-800 dark:hover:text-primary-300 underline",children:"Contact Sales Team"})]})]})]})},V$=()=>{const{login:e}=Ln(),t=pa(),[r,n]=O.useState(""),[l,c]=O.useState(""),[f,p]=O.useState(!1),[b,v]=O.useState(!1),[w,A]=O.useState(""),[T,_]=O.useState(!1),j=async M=>{M.preventDefault(),A(""),_(!0);const k=await e(r,l);k.success?t("/"):A(k.message||"Invalid email or password"),_(!1)};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900 transition-colors duration-300",children:m.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-3xl shadow-xl border border-slate-200 dark:border-slate-700 p-8 mx-4",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-primary-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-primary-500/30 transform rotate-3",children:m.jsx(ql,{className:"w-7 h-7 text-white"})}),m.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Welcome Back"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Sign in to manage your business"})]}),m.jsxs("form",{onSubmit:j,className:"space-y-5",children:[w&&m.jsxs("div",{className:"p-4 text-sm text-red-600 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-xl flex items-center gap-2 animate-shake",children:[m.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),w]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Email Address"}),m.jsxs("div",{className:"relative group",children:[m.jsx(my,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-primary-500 transition-colors"}),m.jsx("input",{type:"email",placeholder:"you@company.com",value:r,onChange:M=>n(M.target.value),required:!0,className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 text-slate-900 dark:text-white transition-all placeholder:text-slate-400"})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Password"}),m.jsxs("div",{className:"relative group",children:[m.jsx(ql,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-primary-500 transition-colors"}),m.jsx("input",{type:f?"text":"password",placeholder:"",value:l,onChange:M=>c(M.target.value),required:!0,className:"w-full pl-12 pr-12 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 text-slate-900 dark:text-white transition-all placeholder:text-slate-400"}),m.jsx("button",{type:"button",onClick:()=>p(!f),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 focus:outline-none",children:f?m.jsx(m1,{className:"w-5 h-5"}):m.jsx(qd,{className:"w-5 h-5"})})]})]}),m.jsxs("div",{className:"flex items-center justify-between pt-1",children:[m.jsxs("button",{type:"button",onClick:()=>v(!b),className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors focus:outline-none",children:[b?m.jsx(sT,{className:"w-5 h-5 text-primary-600"}):m.jsx(lT,{className:"w-5 h-5"}),"Remember me"]}),m.jsx(Ma,{to:"/forgot-password",className:"text-sm font-bold text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors",children:"Forgot Password?"})]}),m.jsx("button",{type:"submit",disabled:T,className:`w-full py-4 bg-gradient-to-r from-primary-600 to-indigo-600 hover:from-primary-700 hover:to-indigo-700 text-white font-bold rounded-xl transition-all shadow-lg shadow-primary-600/30 flex items-center justify-center gap-2 transform active:scale-[0.98] ${T?"opacity-70 cursor-wait":""}`,children:T?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing In..."]}):m.jsxs(m.Fragment,{children:["Sign In ",m.jsx(K4,{className:"w-5 h-5"})]})})]}),m.jsx("div",{className:"mt-8 text-center",children:m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Don't have an account?"," ",m.jsx(Ma,{to:"/register",className:"text-primary-600 font-bold hover:underline",children:"Create Account"})]})})]})})},Nd=({label:e,value:t,onChange:r,placeholder:n="",error:l,showStrength:c=!1,required:f=!1,minLength:p,name:b})=>{const[v,w]=O.useState(!1),T=(_=>{if(!_)return{score:0,label:"",color:"bg-slate-200"};let j=0;return _.length>=6&&j++,_.length>=10&&j++,/[A-Z]/.test(_)&&j++,/[0-9]/.test(_)&&j++,/[^A-Za-z0-9]/.test(_)&&j++,_.length<6?{score:1,label:"Too Short",color:"bg-red-500"}:j<3?{score:2,label:"Weak",color:"bg-orange-500"}:j<4?{score:3,label:"Medium",color:"bg-yellow-500"}:{score:4,label:"Strong",color:"bg-emerald-500"}})(t);return m.jsxs("div",{className:"w-full space-y-1",children:[e&&m.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:e}),m.jsxs("div",{className:"relative group",children:[m.jsx(ql,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-primary-500 transition-colors"}),m.jsx("input",{name:b,type:v?"text":"password",value:t,onChange:_=>r(_.target.value),placeholder:n,required:f,minLength:p,className:`w-full pl-12 pr-12 py-3.5 bg-slate-50 dark:bg-slate-700/50 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500/50 text-slate-900 dark:text-white transition-all placeholder:text-slate-400 ${l?"border-red-500 focus:border-red-500":"border-slate-200 dark:border-slate-600 focus:border-primary-500"}`}),m.jsx("button",{type:"button",onClick:()=>w(!v),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 focus:outline-none p-1 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",tabIndex:-1,children:v?m.jsx(m1,{className:"w-5 h-5"}):m.jsx(qd,{className:"w-5 h-5"})})]}),c&&t.length>0&&m.jsxs("div",{className:"flex items-center gap-2 mt-1.5 ml-1",children:[m.jsx("div",{className:"flex-1 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:m.jsx("div",{className:`h-full transition-all duration-300 ${T.color}`,style:{width:`${T.score/4*100}%`}})}),m.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:T.label})]}),l&&m.jsx("p",{className:"text-xs text-red-500 font-bold ml-1 animate-in slide-in-from-top-1",children:l})]})},Y$=()=>{const{register:e,verifyAccount:t}=Ln(),{showAlert:r}=$l(),n=pa(),[l,c]=O.useState(1),[f,p]=O.useState(""),[b,v]=O.useState(""),[w,A]=O.useState(""),[T,_]=O.useState(""),[j,M]=O.useState(""),[k,R]=O.useState(""),[F,U]=O.useState({}),[V,q]=O.useState(!1),[Y,L]=O.useState(!1);O.useEffect(()=>{const Ne={};let te=!0;w&&w.length<6&&(Ne.password="Password must be at least 6 characters",te=!1),T&&w!==T&&(Ne.confirm="Passwords do not match",te=!1),(!f||!b||!w||!T)&&(te=!1),U(Ne),L(te)},[f,b,w,T]);const ee=async Ne=>{if(Ne.preventDefault(),!Y)return;R(""),q(!0);const te=await e(f,b,w);te.success?c(2):R(te.message||"Registration failed"),q(!1)},Z=async Ne=>{Ne.preventDefault(),R(""),q(!0);const te=await t(b,j);te.success?(r({title:"Success",message:"Account verified successfully! Logging you in...",type:"success"}),n("/")):R(te.message||"Verification failed"),q(!1)};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900 transition-colors duration-300",children:m.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-3xl shadow-xl border border-slate-200 dark:border-slate-700 p-8 mx-4",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-emerald-500/30",children:l===1?m.jsx(oT,{className:"w-7 h-7 text-white"}):m.jsx(xD,{className:"w-7 h-7 text-white"})}),m.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:l===1?"Create Account":"Verify Email"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:l===1?"Start your 14-day free trial":`Enter the OTP sent to ${b}`})]}),k&&m.jsxs("div",{className:"mb-6 p-4 text-sm text-red-600 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-xl flex items-center gap-2 animate-shake",children:[m.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),k]}),l===1&&m.jsxs("form",{onSubmit:ee,className:"space-y-5",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Full Name"}),m.jsx("input",{type:"text",placeholder:"John Doe",value:f,onChange:Ne=>p(Ne.target.value),required:!0,className:"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 text-slate-900 dark:text-white transition-all placeholder:text-slate-400"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Email Address"}),m.jsx("input",{type:"email",placeholder:"you@company.com",value:b,onChange:Ne=>v(Ne.target.value),required:!0,className:"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 text-slate-900 dark:text-white transition-all placeholder:text-slate-400"})]}),m.jsx(Nd,{label:"Password",value:w,onChange:A,required:!0,minLength:6,showStrength:!0,error:F.password}),m.jsx(Nd,{label:"Confirm Password",value:T,onChange:_,required:!0,minLength:6,placeholder:"Confirm password",error:F.confirm}),m.jsx("button",{type:"submit",disabled:V||!Y,className:`w-full py-4 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white font-bold rounded-xl transition-all shadow-lg shadow-emerald-500/30 flex items-center justify-center gap-2 transform active:scale-[0.98] 
                ${V||!Y?"opacity-70 cursor-not-allowed grayscale":""}`,children:V?"Creating Account...":m.jsxs(m.Fragment,{children:["Get Started ",m.jsx(K4,{className:"w-5 h-5"})]})})]}),l===2&&m.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"One-Time Password (OTP)"}),m.jsxs("div",{className:"relative group",children:[m.jsx(my,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-emerald-500 transition-colors"}),m.jsx("input",{type:"text",placeholder:"Enter 6-digit code",value:j,onChange:Ne=>M(Ne.target.value),required:!0,maxLength:6,className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 text-slate-900 dark:text-white transition-all placeholder:text-slate-400 tracking-widest text-lg"})]}),m.jsx("p",{className:"text-xs text-slate-500 mt-1 ml-1",children:"Check your inbox or spam folder."})]}),m.jsx("button",{type:"submit",disabled:V,className:`w-full py-4 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white font-bold rounded-xl transition-all shadow-lg shadow-emerald-500/30 flex items-center justify-center gap-2 transform active:scale-[0.98] ${V?"opacity-70 cursor-wait":""}`,children:V?"Verifying...":"Verify Email"}),m.jsx("button",{type:"button",onClick:()=>c(1),className:"w-full text-center text-sm text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",children:"Change Email"})]}),m.jsxs("p",{className:"mt-8 text-center text-sm text-slate-500 dark:text-slate-400",children:["Already have an account?"," ",m.jsx(Ma,{to:"/login",className:"text-emerald-600 font-bold hover:underline",children:"Sign In"})]})]})})},q$=()=>{const{initiateForgotPassword:e,completeForgotPassword:t}=Ln();pa();const[r,n]=O.useState(1),[l,c]=O.useState(""),[f,p]=O.useState(""),[b,v]=O.useState(""),[w,A]=O.useState(!1),[T,_]=O.useState(""),j=async k=>{k.preventDefault(),A(!0),_("");const R=await e(l);R.success?n(2):_(R.message),A(!1)},M=async k=>{k.preventDefault(),A(!0),_("");const R=await t(l,f,b);R.success?n(3):_(R.message),A(!1)};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900 transition-colors duration-300",children:m.jsx("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-3xl shadow-xl border border-slate-200 dark:border-slate-700 p-8 mx-4",children:r===3?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:"w-20 h-20 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:m.jsx(Bo,{className:"w-10 h-10 text-emerald-600"})}),m.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Password Reset!"}),m.jsx("p",{className:"text-slate-500 mb-8",children:"Your password has been updated securely."}),m.jsx(Ma,{to:"/login",className:"block w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl transition-all shadow-lg",children:"Back to Login"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-indigo-500 to-violet-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-indigo-500/30",children:m.jsx(Fk,{className:"w-7 h-7 text-white"})}),m.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Reset Password"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r===1?"Enter email to receive OTP":"Create new password"})]}),T&&m.jsxs("div",{className:"mb-6 p-4 text-sm text-red-600 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-xl flex items-center gap-2 animate-shake",children:[m.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),T]}),r===1&&m.jsxs("form",{onSubmit:j,className:"space-y-6",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Email Address"}),m.jsxs("div",{className:"relative group",children:[m.jsx(my,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"}),m.jsx("input",{type:"email",placeholder:"you@company.com",value:l,onChange:k=>c(k.target.value),required:!0,className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 text-slate-900 dark:text-white transition-all placeholder:text-slate-400"})]})]}),m.jsx("button",{type:"submit",disabled:w,className:`w-full py-4 bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-700 hover:to-violet-700 text-white font-bold rounded-xl transition-all shadow-lg shadow-indigo-600/30 flex items-center justify-center gap-2 transform active:scale-[0.98] ${w?"opacity-70 cursor-wait":""}`,children:w?"Sending...":"Send OTP"})]}),r===2&&m.jsxs("form",{onSubmit:M,className:"space-y-5",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"OTP Code"}),m.jsx("input",{type:"text",placeholder:"Enter 6-digit OTP",value:f,onChange:k=>p(k.target.value),required:!0,maxLength:6,className:"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 text-slate-900 dark:text-white transition-all placeholder:text-slate-400 tracking-widest text-center text-lg"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"New Password"}),m.jsxs("div",{className:"relative group",children:[m.jsx(ql,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"}),m.jsx("input",{type:"password",placeholder:"Min 6 chars",value:b,onChange:k=>v(k.target.value),required:!0,minLength:6,className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 text-slate-900 dark:text-white transition-all placeholder:text-slate-400"})]})]}),m.jsx("button",{type:"submit",disabled:w,className:`w-full py-4 bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-700 hover:to-violet-700 text-white font-bold rounded-xl transition-all shadow-lg shadow-indigo-600/30 flex items-center justify-center gap-2 transform active:scale-[0.98] ${w?"opacity-70 cursor-wait":""}`,children:w?"Updating...":"Update Password"})]}),m.jsx("div",{className:"mt-8 text-center",children:m.jsx(Ma,{to:"/login",className:"text-sm font-bold text-indigo-600 hover:text-indigo-500 dark:text-indigo-400",children:"Return to Sign In"})})]})})})},X$=()=>{var L,ee,Z,Ne,te;const{user:e,businessProfile:t,setBusinessProfile:r,changePassword:n,logout:l}=Ln(),{showAlert:c}=$l(),f=pa(),[p,b]=O.useState(t),[v,w]=O.useState(!1),[A,T]=O.useState({old:"",new:"",confirm:""}),[_,j]=O.useState(""),[M,k]=O.useState({});O.useEffect(()=>{b(t)},[t]);const R=Q=>{const{name:ie,value:be,type:X,checked:re}=Q.target;b(ie==="stockMode"?se=>({...se,stockSettings:{...se.stockSettings,mode:be}}):ie==="lowStock"?se=>({...se,stockSettings:{...se.stockSettings,lowStockThreshold:Number(be)}}):X==="checkbox"?se=>({...se,[ie]:re}):se=>({...se,[ie]:be})),w(!0)},F=()=>{r(p),w(!1),c({title:"Profile Updated",message:"Your business profile settings have been saved successfully.",type:"success"})};O.useEffect(()=>{const Q={};A.new&&A.new.length<6&&(Q.new="Min 6 characters required"),A.confirm&&A.new!==A.confirm&&(Q.confirm="Passwords do not match"),k(Q)},[A.new,A.confirm]);const U=async Q=>{if(Q.preventDefault(),Object.keys(M).length>0)return;if(!A.old||!A.new||!A.confirm){j("All fields are required");return}const ie=await n(A.old,A.new);ie.success?(c({title:"Password Changed",message:"Password changed successfully. Please login again.",type:"success"}),l(),f("/login")):j(ie.message)},q=(()=>{if(t.plan===Er.FREE&&!t.subscriptionExpiry)return{label:"Free Forever",color:"bg-slate-500",active:!0};const Q=new Date,be=(t.subscriptionExpiry?new Date(t.subscriptionExpiry):new Date(0)).getTime()-Q.getTime(),X=Math.ceil(be/(1e3*60*60*24));return X<0?{label:"Expired",color:"bg-red-500",active:!1,days:0}:X<=7?{label:"Expiring Soon",color:"bg-orange-500",active:!0,days:X}:{label:"Active",color:"bg-emerald-500",active:!0,days:X}})(),Y=t.plan===Er.FREE&&!q.active&&t.subscriptionExpiry?"Premium (Expired)":t.plan;return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-4 lg:px-10 pt-4 lg:pt-10 pb-4 flex justify-between items-center border-b border-slate-200/50 dark:border-slate-700/50",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Account Settings"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage your profile and subscription"})]}),v&&m.jsxs("button",{onClick:F,className:"flex items-center gap-2 bg-primary-600 text-white px-6 py-2 rounded-xl font-bold shadow-lg hover:bg-primary-700 transition-all animate-bounce",children:[m.jsx(gy,{className:"w-4 h-4"})," Save Changes"]})]}),m.jsxs("div",{className:"px-4 lg:px-10 pb-10 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[m.jsx(sk,{className:"w-5 h-5 text-primary-500"})," Business Details"]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[m.jsx(It,{label:"Business Name",name:"name",value:p.name,onChange:R}),m.jsx(It,{label:"GSTIN",name:"gstin",value:p.gstin,onChange:R}),m.jsx(It,{label:"Email",name:"email",value:p.email,onChange:R}),m.jsx(It,{label:"Phone",name:"phone",value:p.phone,onChange:R})]}),m.jsx("div",{className:"mb-4",children:m.jsx(Xo,{label:"State",name:"state",value:p.state,onChange:R,options:uy.map(Q=>({value:Q,label:Q}))})}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Address"}),m.jsx("textarea",{name:"address",rows:3,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 transition-colors",value:p.address,onChange:R})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[m.jsx(Wc,{className:"w-5 h-5 text-primary-500"})," Billing Preferences"]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:"Include Non-GST Invoices in Reports"}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:p.includeNonGstInReports?"Revenue from both GST and Non-GST bills is included in all calculations.":"Only GST invoices will be counted in dashboard revenue and reports."})]}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",name:"includeNonGstInReports",className:"sr-only peer",checked:p.includeNonGstInReports!==!1,onChange:R}),m.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[m.jsx(Xd,{className:"w-5 h-5 text-primary-500"})," Inventory Preferences"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Stock Control Mode"}),m.jsxs("select",{name:"stockMode",value:(L=p.stockSettings)==null?void 0:L.mode,onChange:R,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[m.jsx("option",{value:Wr.WARNING,children:"Warning (Recommended)"}),m.jsx("option",{value:Wr.STRICT,children:"Strict (Block Sales)"}),m.jsx("option",{value:Wr.DISABLED,children:"Disabled (No Tracking)"})]}),m.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[((ee=p.stockSettings)==null?void 0:ee.mode)===Wr.STRICT&&"Prevents invoicing if stock is insufficient.",((Z=p.stockSettings)==null?void 0:Z.mode)===Wr.WARNING&&"Allows sales with negative stock but warns you.",((Ne=p.stockSettings)==null?void 0:Ne.mode)===Wr.DISABLED&&"Stock is not deducted or validated."]})]}),m.jsx(It,{label:"Low Stock Alert Threshold",type:"number",name:"lowStock",value:(te=p.stockSettings)==null?void 0:te.lowStockThreshold,onChange:R})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[m.jsx(cT,{className:"w-5 h-5 text-primary-500"})," Personal Info"]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-16 h-16 bg-primary-100 dark:bg-primary-900/50 rounded-full flex items-center justify-center text-xl font-bold text-primary-600",children:e==null?void 0:e.name.charAt(0)}),m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-lg text-slate-900 dark:text-white flex items-center gap-2",children:[e==null?void 0:e.name,(e==null?void 0:e.role)==="admin"&&m.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full uppercase",children:"Admin"})]}),m.jsx("p",{className:"text-slate-500",children:e==null?void 0:e.email}),m.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Member since ",Za((e==null?void 0:e.createdAt)||"")]})]})]})]})]}),m.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[m.jsxs("div",{className:"bg-slate-900 dark:bg-slate-950 text-white p-6 rounded-2xl shadow-xl relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 p-32 bg-primary-600 rounded-full blur-3xl opacity-20 -mr-16 -mt-16"}),m.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[m.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[m.jsx(Od,{className:"w-5 h-5 text-yellow-400"})," Current Plan"]}),m.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold text-white ${q.color}`,children:q.label})]}),m.jsxs("div",{className:"mb-6 relative z-10",children:[m.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Plan Type"}),m.jsx("p",{className:"text-2xl font-bold text-white",children:Y})]}),t.subscriptionExpiry&&m.jsxs("div",{className:"space-y-3 mb-6 relative z-10",children:[t.subscriptionStartDate&&m.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[m.jsx($4,{className:"w-4 h-4 text-slate-500"}),m.jsxs("span",{children:["Started: ",Za(t.subscriptionStartDate)]})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[m.jsx(fy,{className:"w-4 h-4 text-slate-500"}),m.jsxs("span",{children:[q.active?"Expires:":"Expired:"," ",Za(t.subscriptionExpiry)]})]}),q.active&&q.days!==void 0&&q.days<=30&&m.jsxs("div",{className:"text-xs font-bold text-amber-400 flex items-center gap-2",children:[m.jsx(Kc,{className:"w-3 h-3"}),q.days," days remaining"]})]}),m.jsxs("button",{onClick:()=>f("/pricing"),className:`w-full py-3 font-bold rounded-xl transition-colors flex items-center justify-center gap-2 relative z-10 ${!q.active||q.days&&q.days<=7?"bg-emerald-500 hover:bg-emerald-600 text-white shadow-lg shadow-emerald-500/30":"bg-white text-slate-900 hover:bg-slate-100"}`,children:[m.jsx(h1,{className:"w-4 h-4"}),q.active?q.days&&q.days<=7?"Renew Now":"Manage Plan":"Renew Subscription"]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[m.jsx(ql,{className:"w-5 h-5 text-primary-500"})," Change Password"]}),m.jsxs("form",{onSubmit:U,className:"space-y-4",children:[m.jsx(Nd,{placeholder:"Current Password",value:A.old,onChange:Q=>T({...A,old:Q}),required:!0}),m.jsx(Nd,{placeholder:"New Password",value:A.new,onChange:Q=>T({...A,new:Q}),required:!0,minLength:6,error:M.new}),m.jsx(Nd,{placeholder:"Confirm Password",value:A.confirm,onChange:Q=>T({...A,confirm:Q}),required:!0,minLength:6,error:M.confirm}),_&&m.jsx("p",{className:"text-xs text-red-500 font-bold text-center",children:_}),m.jsx("button",{type:"submit",className:"w-full py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-900 dark:text-slate-200 font-bold rounded-xl transition-colors text-sm",children:"Update Password"})]})]})]})]})]})},Xx=({title:e,value:t,icon:r,colorClass:n})=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("div",{className:"flex items-center justify-between mb-4",children:m.jsx("div",{className:`p-3 rounded-xl ${n} bg-opacity-10 dark:bg-opacity-20`,children:m.jsx(r,{className:`w-6 h-6 ${n.replace("bg-","text-")}`})})}),m.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:e}),m.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:t})]}),W$=()=>{const{getAllUsers:e,getAdminStats:t,adminUpgradeUserPlan:r,getAdminLogs:n,user:l}=Ln(),{showAlert:c}=$l(),f=e(),p=t(),b=n(),[v,w]=O.useState(!1),[A,T]=O.useState(null),[_,j]=O.useState({plan:Er.PREMIUM_MONTHLY,reason:""}),M=R=>{T(R),j({plan:Er.PREMIUM_MONTHLY,reason:""}),w(!0)},k=async R=>{if(R.preventDefault(),!_.reason.trim()){c({title:"Validation Error",message:"Please provide a reason for the upgrade.",type:"warning"});return}await r(A.id,_.plan,_.reason)&&(c({title:"Plan Updated",message:`Successfully updated plan for ${A.name}`,type:"success"}),w(!1))};return m.jsxs("div",{className:"animate-in fade-in duration-500",children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-4 lg:px-10 pt-4 lg:pt-10 pb-4",children:[m.jsxs("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[m.jsx(iT,{className:"w-8 h-8 text-primary-600"})," Admin Dashboard"]}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"System Overview & User Management"})]}),m.jsxs("div",{className:"px-4 lg:px-10 pb-10 space-y-8",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsx(Xx,{title:"Total Users",value:(p==null?void 0:p.totalUsers)||0,icon:su,colorClass:"bg-blue-500 text-blue-600"}),m.jsx(Xx,{title:"Active Subscriptions",value:(p==null?void 0:p.activeSubscriptions)||0,icon:Bo,colorClass:"bg-emerald-500 text-emerald-600"}),m.jsx(Xx,{title:"Total Revenue (Est)",value:$e((p==null?void 0:p.totalRevenue)||0),icon:uh,colorClass:"bg-indigo-500 text-indigo-600"})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[m.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Registered Users"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"User"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Role"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Plan"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Joined On"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase text-right",children:"Action"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:f.map(R=>m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-primary-600 font-bold text-xs",children:R.name.charAt(0).toUpperCase()}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:[R.name," ",R.id===(l==null?void 0:l.id)&&"(You)"]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:R.email})]})]})}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full uppercase ${R.role==="admin"?"bg-purple-100 text-purple-700":"bg-slate-100 text-slate-600"}`,children:R.role})}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`text-xs font-medium ${R.plan===Er.FREE?"text-slate-500":"text-emerald-600 font-bold"}`,children:R.plan})}),m.jsx("td",{className:"px-6 py-4 text-sm text-slate-500 dark:text-slate-400",children:Za(R.createdAt)}),m.jsx("td",{className:"px-6 py-4 text-right",children:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsxs("button",{onClick:()=>M(R),className:"flex items-center gap-1 text-primary-600 hover:text-primary-800 text-xs font-bold px-2 py-1 bg-primary-50 rounded hover:bg-primary-100 transition-colors",children:[m.jsx(xk,{className:"w-3 h-3"})," Upgrade"]}),R.role!=="admin"&&m.jsx("button",{className:"text-red-500 hover:text-red-700 text-xs font-bold hover:underline px-2 py-1",children:"Block"})]})})]},R.id))})]})})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[m.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:m.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[m.jsx(rT,{className:"w-5 h-5 text-slate-400"})," Audit Logs"]})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Timestamp"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Admin"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Action"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Target User"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Details"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:b.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"text-center py-4 text-slate-400 text-sm",children:"No activity logs found."})}):b.map(R=>m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[m.jsx("td",{className:"px-6 py-4 text-xs text-slate-500 font-mono",children:new Date(R.timestamp).toLocaleString()}),m.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900 dark:text-white",children:R.adminName}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded font-bold",children:R.action})}),m.jsx("td",{className:"px-6 py-4 text-sm text-slate-700 dark:text-slate-300",children:R.targetUserName}),m.jsxs("td",{className:"px-6 py-4 text-sm text-slate-500",children:[m.jsx("span",{className:"font-semibold",children:R.newPlan}),m.jsx("br",{}),m.jsxs("span",{className:"text-xs italic",children:["Reason: ",R.reason]})]})]},R.id))})]})})]})]}),v&&A&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl animate-in zoom-in-95 duration-200",children:[m.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Manual Plan Upgrade"}),m.jsx("button",{onClick:()=>w(!1),className:"text-slate-400 hover:text-red-500",children:m.jsx(Xl,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[m.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl mb-4",children:[m.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Target User"}),m.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:A.name}),m.jsx("p",{className:"text-sm text-slate-500",children:A.email}),m.jsxs("p",{className:"text-xs mt-2 text-slate-500",children:["Current Plan: ",m.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:A.plan})]})]}),m.jsx(Xo,{label:"New Plan Type",value:_.plan,onChange:R=>j({..._,plan:R.target.value}),options:[{value:Er.FREE,label:"Free Plan"},{value:Er.PREMIUM_MONTHLY,label:"Premium Monthly"},{value:Er.PREMIUM_YEARLY,label:"Premium Yearly"}]}),m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Reason for Upgrade *"}),m.jsx("textarea",{required:!0,rows:3,value:_.reason,onChange:R=>j({..._,reason:R.target.value}),placeholder:"e.g. Payment received via Bank Transfer, Compensatory upgrade, etc.",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),m.jsx("div",{className:"pt-2",children:m.jsxs("button",{type:"submit",className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl shadow-lg shadow-emerald-600/20 transition-all flex items-center justify-center gap-2",children:[m.jsx(Bo,{className:"w-5 h-5"})," Confirm Upgrade"]})})]})]})})]})},K$=()=>{const{workers:e,addWorker:t,updateWorker:r,deleteWorker:n,user:l,businessProfile:c,attendanceRecords:f,bulkMarkAttendance:p}=Ln(),{showAlert:b,showConfirm:v}=$l(),w=pa(),[A,T]=O.useState("list"),[_,j]=O.useState(""),[M,k]=O.useState(!1),[R,F]=O.useState(!1),[U,V]=O.useState(null),[q,Y]=O.useState(new Date().toISOString().split("T")[0]),[L,ee]=O.useState({}),[Z,Ne]=O.useState(new Set);O.useEffect(()=>{if(A==="bulk"){const J=e.filter(he=>he.status==="Active"),Re={},Ze=new Set;J.forEach(he=>{Ze.add(he.id);const nt=f.find(st=>st.workerId===he.id&&st.date===q);Re[he.id]=nt?nt.status:"Present"}),ee(Re),Ne(Ze)}},[A,q,e,f]);const te=()=>{let J=0,Re=0,Ze=0;return Object.values(L).forEach(he=>{he==="Present"?J++:he==="Absent"?Re++:Ze++}),{present:J,absent:Re,half:Ze}},Q=J=>{const Re={...L};Z.forEach(Ze=>{Re[Ze]=J}),ee(Re)},ie=J=>{const Re=new Set(Z);Re.has(J)?Re.delete(J):Re.add(J),Ne(Re)},be=()=>{const J=[];Z.forEach(Re=>{J.push({id:aa(),workerId:Re,date:q,status:L[Re],note:""})}),p(J),b({title:"Success",message:"Attendance saved successfully",type:"success"})},[X,re]=O.useState({name:"",phone:"",address:"",role:"",baseSalary:0,joiningDate:new Date().toISOString().split("T")[0],status:"Active"}),[se,de]=O.useState({}),xe=e.filter(J=>J.name.toLowerCase().includes(_.toLowerCase())||J.phone.includes(_)||J.role.toLowerCase().includes(_.toLowerCase())),Me=()=>{re({name:"",phone:"",address:"",role:"",baseSalary:0,joiningDate:new Date().toISOString().split("T")[0],status:"Active"}),V(null),de({})},$=()=>{if(!U&&c.plan===Er.FREE&&e.filter(J=>J.status==="Active").length>=2){F(!0);return}Me(),k(!0)},ue=J=>{re(J),V(J.id),de({}),k(!0)},Te=J=>{v({title:"Delete Worker?",message:"Are you sure? This will remove all history associated with this worker.",type:"warning",confirmText:"Yes, Delete",onConfirm:()=>n(J)})},Pe=()=>{var Re,Ze,he;const J={};return(Re=X.name)!=null&&Re.trim()||(J.name="Name is required"),(Ze=X.phone)!=null&&Ze.trim()||(J.phone="Phone is required"),(he=X.role)!=null&&he.trim()||(J.role="Role is required"),(X.baseSalary===void 0||X.baseSalary<0)&&(J.baseSalary="Valid salary is required"),de(J),Object.keys(J).length===0},Qe=async J=>{var Re;if(J.preventDefault(),!!Pe())if(U)r({...X,id:U}),k(!1);else{const Ze={id:aa(),userId:l.id,name:X.name,phone:X.phone,address:X.address||"",role:X.role,baseSalary:Number(X.baseSalary),joiningDate:X.joiningDate,status:X.status,advanceBalance:0},he=await t(Ze);he.success?k(!1):(Re=he.message)!=null&&Re.includes("Plan limit")?F(!0):b({title:"Error",message:he.message||"Failed",type:"error"})}};return m.jsxs("div",{children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-4 lg:px-10 pt-4 lg:pt-10 pb-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Workers"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage staff, salaries and attendance"})]}),m.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl w-fit self-start sm:self-center",children:[m.jsxs("button",{onClick:()=>T("list"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${A==="list"?"bg-white dark:bg-slate-700 text-primary-600 dark:text-primary-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:[m.jsx(su,{className:"w-4 h-4"})," Worker List"]}),m.jsxs("button",{onClick:()=>T("bulk"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${A==="bulk"?"bg-white dark:bg-slate-700 text-primary-600 dark:text-primary-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:[m.jsx(Ak,{className:"w-4 h-4"})," Bulk Attendance"]})]}),m.jsx("div",{className:"flex items-center gap-2 min-h-[40px] w-full sm:w-auto justify-end",children:A==="list"?m.jsxs("button",{onClick:$,className:"bg-primary-600 hover:bg-primary-700 text-white px-5 py-2.5 rounded-xl font-medium flex items-center gap-2 shadow-lg shadow-primary-600/30 transition-all w-full sm:w-auto justify-center whitespace-nowrap",children:[m.jsx(Hs,{className:"w-5 h-5"}),"Add Worker"]}):m.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-1 sm:pb-0",children:[m.jsx("button",{onClick:()=>Q("Present"),className:"px-3 py-2 bg-emerald-50 text-emerald-700 border border-emerald-200 rounded-xl text-xs font-bold hover:bg-emerald-100 transition-colors whitespace-nowrap",children:"Mark All Present"}),m.jsx("button",{onClick:()=>Q("Absent"),className:"px-3 py-2 bg-red-50 text-red-700 border border-red-200 rounded-xl text-xs font-bold hover:bg-red-100 transition-colors whitespace-nowrap",children:"Mark All Absent"}),m.jsx("button",{onClick:()=>Q("Half Day"),className:"px-3 py-2 bg-yellow-50 text-yellow-700 border border-yellow-200 rounded-xl text-xs font-bold hover:bg-yellow-100 transition-colors whitespace-nowrap",children:"Mark All Half Day"})]})})]}),A==="list"&&m.jsxs("div",{className:"relative",children:[m.jsx(Wd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),m.jsx("input",{type:"text",placeholder:"Search worker by name, role or phone...",value:_,onChange:J=>j(J.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),m.jsx("div",{className:"px-4 lg:px-10 pb-10 space-y-6",children:A==="list"?m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[xe.map(J=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-md transition-shadow group relative",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-full flex items-center justify-center font-bold text-lg",children:J.name.charAt(0)}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white leading-tight",children:J.name}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:J.role})]})]}),m.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${J.status==="Active"?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:J.status})]}),m.jsxs("div",{className:"space-y-2 mb-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[m.jsx(aT,{className:"w-4 h-4 text-slate-400"})," ",J.phone]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[m.jsx(ch,{className:"w-4 h-4 text-slate-400"})," ",$e(J.baseSalary)," / month"]}),J.advanceBalance>0&&m.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-orange-600",children:[m.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-orange-100 text-[10px]",children:""}),"Advance: ",$e(J.advanceBalance)]})]}),m.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-100 dark:border-slate-700",children:[m.jsxs("button",{onClick:()=>w(`/workers/${J.id}`),className:"flex-1 flex items-center justify-center gap-2 py-2 bg-slate-50 dark:bg-slate-700 hover:bg-slate-100 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-lg text-sm font-bold transition-colors",children:[m.jsx(qd,{className:"w-4 h-4"})," View Details"]}),m.jsx("button",{onClick:()=>ue(J),className:"p-2 text-slate-400 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",children:m.jsx(g1,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>Te(J.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:m.jsx(ko,{className:"w-4 h-4"})})]})]},J.id)),xe.length===0&&m.jsxs("div",{className:"text-center py-20 bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 border-dashed col-span-full",children:[m.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(ch,{className:"w-8 h-8 text-slate-400"})}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"No workers found."}),m.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Add your staff to manage salaries and attendance."})]})]}):m.jsx("div",{className:"space-y-6 animate-in fade-in duration-300",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm p-6",children:[m.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6 mb-6",children:m.jsxs("div",{className:"w-full md:w-auto",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Select Date"}),m.jsx(It,{type:"date",value:q,onChange:J=>Y(J.target.value),className:"!w-full md:!w-64"})]})}),m.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6 text-center",children:[m.jsxs("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/10 rounded-xl border border-emerald-100 dark:border-emerald-900/30",children:[m.jsx("span",{className:"text-emerald-700 dark:text-emerald-400 font-bold block text-xl",children:te().present}),m.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-500 uppercase font-bold",children:"Present"})]}),m.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/10 rounded-xl border border-red-100 dark:border-red-900/30",children:[m.jsx("span",{className:"text-red-700 dark:text-red-400 font-bold block text-xl",children:te().absent}),m.jsx("span",{className:"text-xs text-red-600 dark:text-red-500 uppercase font-bold",children:"Absent"})]}),m.jsxs("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/10 rounded-xl border border-yellow-100 dark:border-yellow-900/30",children:[m.jsx("span",{className:"text-yellow-700 dark:text-yellow-400 font-bold block text-xl",children:te().half}),m.jsx("span",{className:"text-xs text-yellow-600 dark:text-yellow-500 uppercase font-bold",children:"Half Day"})]})]}),m.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-200 dark:border-slate-700",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4 w-12 text-center",children:"Select"}),m.jsx("th",{className:"px-6 py-4",children:"Worker Name"}),m.jsx("th",{className:"px-6 py-4",children:"Status"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 text-sm",children:[e.filter(J=>J.status==="Active").map(J=>m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[m.jsx("td",{className:"px-6 py-4 text-center",children:m.jsx("button",{onClick:()=>ie(J.id),className:"text-primary-600 hover:text-primary-700 transition-colors",children:Z.has(J.id)?m.jsx(sT,{className:"w-5 h-5"}):m.jsx(lT,{className:"w-5 h-5 text-slate-300"})})}),m.jsxs("td",{className:"px-6 py-4 font-medium text-slate-900 dark:text-white",children:[J.name," ",m.jsxs("span",{className:"text-slate-400 font-normal text-xs ml-1",children:["(",J.role,")"]})]}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("select",{value:L[J.id]||"Present",onChange:Re=>ee({...L,[J.id]:Re.target.value}),className:"w-full md:w-40 px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[m.jsx("option",{value:"Present",children:"Present"}),m.jsx("option",{value:"Absent",children:"Absent"}),m.jsx("option",{value:"Half Day",children:"Half Day"})]})})]},J.id)),e.filter(J=>J.status==="Active").length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"px-6 py-10 text-center text-slate-400",children:"No active workers found."})})]})]})}),m.jsx("div",{className:"mt-6 flex justify-end",children:m.jsxs("button",{onClick:be,className:"flex items-center gap-2 px-6 py-3 bg-primary-600 text-white font-bold rounded-xl shadow-lg hover:bg-primary-700 transition-all hover:-translate-y-0.5",children:[m.jsx(gy,{className:"w-5 h-5"})," Save Attendance for ",Za(q)]})})]})})}),M&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:U?"Edit Worker":"Add New Worker"}),m.jsx("button",{onClick:()=>k(!1),className:"text-slate-400 hover:text-red-500",children:m.jsx(Xl,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:Qe,className:"p-6 space-y-4",children:[m.jsx(It,{label:"Full Name *",value:X.name,onChange:J=>re({...X,name:J.target.value}),error:se.name}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(It,{label:"Phone Number *",type:"tel",value:X.phone,onChange:J=>re({...X,phone:J.target.value}),error:se.phone}),m.jsx(It,{label:"Role / Position *",placeholder:"e.g. Driver",value:X.role,onChange:J=>re({...X,role:J.target.value}),error:se.role})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(It,{label:"Monthly Salary () *",type:"number",value:X.baseSalary,onChange:J=>re({...X,baseSalary:Number(J.target.value)}),error:se.baseSalary}),m.jsx(It,{label:"Joining Date",type:"date",value:X.joiningDate,onChange:J=>re({...X,joiningDate:J.target.value})})]}),m.jsx(It,{label:"Address",value:X.address,onChange:J=>re({...X,address:J.target.value})}),m.jsx(Xo,{label:"Status",value:X.status,onChange:J=>re({...X,status:J.target.value}),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]}),m.jsx("button",{type:"submit",className:"w-full py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-xl mt-4",children:U?"Update Worker":"Save Worker"})]})]})}),R&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-2xl text-center p-8",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-orange-500/30",children:m.jsx(Od,{className:"w-8 h-8 text-white"})}),m.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Upgrade Required"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Free Plan allows only 2 workers. Upgrade to Premium to manage unlimited staff."}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("button",{onClick:()=>w("/pricing"),className:"w-full py-3 bg-gradient-to-r from-amber-400 to-orange-500 text-white font-bold rounded-xl shadow-lg hover:shadow-orange-500/20 transition-all",children:"View Plans"}),m.jsx("button",{onClick:()=>F(!1),className:"w-full py-3 text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 font-bold",children:"Cancel"})]})]})})]})},Z$=()=>{const{id:e}=ay(),t=pa(),{workers:r,salaryRecords:n,advanceRecords:l,attendanceRecords:c,addSalaryRecord:f,addAdvanceRecord:p,markAttendance:b}=Ln(),[v,w]=O.useState("salary"),A=r.find(ie=>ie.id===e),[T,_]=O.useState({amount:0,month:new Date().toISOString().slice(0,7),paymentDate:new Date().toISOString().split("T")[0],status:"Paid",note:""}),[j,M]=O.useState({amount:0,type:"GIVEN",note:""}),[k,R]=O.useState(new Date().toISOString().split("T")[0]),[F,U]=O.useState("Present");if(!A)return m.jsx("div",{className:"p-10 text-center text-slate-500",children:"Worker not found"});const V=n.filter(ie=>ie.workerId===A.id).sort((ie,be)=>be.month.localeCompare(ie.month)),q=l.filter(ie=>ie.workerId===A.id).sort((ie,be)=>new Date(be.date).getTime()-new Date(ie.date).getTime()),Y=c.filter(ie=>ie.workerId===A.id).sort((ie,be)=>new Date(be.date).getTime()-new Date(ie.date).getTime()),L=Y.filter(ie=>ie.status==="Present").length,ee=Y.filter(ie=>ie.status==="Absent").length,Z=Y.filter(ie=>ie.status==="Half Day").length,Ne=ie=>{ie.preventDefault(),!(!T.amount||!T.month)&&(f({id:aa(),workerId:A.id,month:T.month,amount:Number(T.amount),status:T.status,paymentDate:T.paymentDate,note:T.note}),_({...T,amount:0,note:""}))},te=ie=>{ie.preventDefault(),j.amount&&(p({id:aa(),workerId:A.id,type:j.type,amount:Number(j.amount),date:new Date().toISOString(),note:j.note}),M({...j,amount:0,note:""}))},Q=()=>{b({id:aa(),workerId:A.id,date:k,status:F,note:""})};return m.jsxs("div",{className:"animate-in fade-in duration-300",children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-4 lg:px-10 pt-4 lg:pt-10 pb-4",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[m.jsx("button",{onClick:()=>t("/workers"),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:m.jsx(dy,{className:"w-5 h-5 text-slate-500"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:A.name}),m.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:[A.role,"  ",A.phone]})]}),m.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[m.jsxs("div",{className:"px-4 py-2 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[m.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Salary"}),m.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:$e(A.baseSalary)})]}),m.jsxs("div",{className:"px-4 py-2 bg-orange-50 dark:bg-orange-900/20 rounded-xl border border-orange-100 dark:border-orange-900/30 shadow-sm",children:[m.jsx("p",{className:"text-xs text-orange-600 uppercase font-bold",children:"Adv. Balance"}),m.jsx("p",{className:"text-lg font-bold text-orange-700 dark:text-orange-400",children:$e(A.advanceBalance)})]})]})]}),m.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 gap-6",children:[m.jsx("button",{onClick:()=>w("salary"),className:`pb-3 text-sm font-bold transition-colors border-b-2 ${v==="salary"?"border-primary-600 text-primary-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Salary History"}),m.jsx("button",{onClick:()=>w("advance"),className:`pb-3 text-sm font-bold transition-colors border-b-2 ${v==="advance"?"border-primary-600 text-primary-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Advance Management"}),m.jsx("button",{onClick:()=>w("attendance"),className:`pb-3 text-sm font-bold transition-colors border-b-2 ${v==="attendance"?"border-primary-600 text-primary-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Attendance"})]})]}),m.jsxs("div",{className:"px-4 lg:px-10 pb-10 mt-6 space-y-6",children:[v==="salary"&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[m.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 font-bold text-slate-700 dark:text-slate-300",children:"Payment History"}),m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 text-xs text-slate-500 uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3",children:"Month"}),m.jsx("th",{className:"px-4 py-3",children:"Date"}),m.jsx("th",{className:"px-4 py-3",children:"Amount"}),m.jsx("th",{className:"px-4 py-3",children:"Status"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 text-sm",children:[V.map(ie=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-4 py-3 font-medium",children:ie.month}),m.jsx("td",{className:"px-4 py-3 text-slate-500",children:Za(ie.paymentDate)}),m.jsx("td",{className:"px-4 py-3 font-bold",children:$e(ie.amount)}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-700 text-xs rounded-full font-bold",children:ie.status})})]},ie.id)),V.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-slate-400",children:"No records yet."})})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm h-fit",children:[m.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-4",children:"Record Payment"}),m.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[m.jsx(It,{type:"month",label:"Salary Month",value:T.month,onChange:ie=>_({...T,month:ie.target.value})}),m.jsx(It,{type:"number",label:"Amount",value:T.amount,onChange:ie=>_({...T,amount:Number(ie.target.value)})}),m.jsx(It,{type:"date",label:"Payment Date",value:T.paymentDate,onChange:ie=>_({...T,paymentDate:ie.target.value})}),m.jsx(It,{label:"Note (Optional)",value:T.note,onChange:ie=>_({...T,note:ie.target.value})}),m.jsx("button",{type:"submit",className:"w-full py-2.5 bg-primary-600 text-white font-bold rounded-xl hover:bg-primary-700",children:"Save Record"})]})]})]}),v==="advance"&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[m.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 font-bold text-slate-700 dark:text-slate-300",children:"Transaction History"}),m.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 text-xs text-slate-500 uppercase sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3",children:"Date"}),m.jsx("th",{className:"px-4 py-3",children:"Type"}),m.jsx("th",{className:"px-4 py-3",children:"Note"}),m.jsx("th",{className:"px-4 py-3 text-right",children:"Amount"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 text-sm",children:[q.map(ie=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-4 py-3 text-slate-500",children:Za(ie.date)}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-bold ${ie.type==="GIVEN"?"bg-orange-100 text-orange-700":"bg-emerald-100 text-emerald-700"}`,children:ie.type==="GIVEN"?"Given":"Returned"})}),m.jsx("td",{className:"px-4 py-3 text-slate-500 truncate max-w-[150px]",children:ie.note||"-"}),m.jsxs("td",{className:`px-4 py-3 font-bold text-right ${ie.type==="GIVEN"?"text-red-500":"text-emerald-500"}`,children:[ie.type==="GIVEN"?"+":"-",$e(ie.amount)]})]},ie.id)),q.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-slate-400",children:"No records yet."})})]})]})})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm text-center",children:[m.jsx("p",{className:"text-sm text-slate-500 uppercase font-bold mb-1",children:"Current Advance Balance"}),m.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:$e(A.advanceBalance)})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-4",children:"Manage Advance"}),m.jsxs("div",{className:"flex gap-2 mb-4",children:[m.jsx("button",{type:"button",onClick:()=>M({...j,type:"GIVEN"}),className:`flex-1 py-2 text-sm font-bold rounded-lg border ${j.type==="GIVEN"?"bg-orange-50 border-orange-200 text-orange-700":"border-slate-200 text-slate-500"}`,children:"Give (+)"}),m.jsx("button",{type:"button",onClick:()=>M({...j,type:"RETURNED"}),className:`flex-1 py-2 text-sm font-bold rounded-lg border ${j.type==="RETURNED"?"bg-emerald-50 border-emerald-200 text-emerald-700":"border-slate-200 text-slate-500"}`,children:"Return (-)"})]}),m.jsxs("form",{onSubmit:te,className:"space-y-4",children:[m.jsx(It,{type:"number",label:"Amount",value:j.amount,onChange:ie=>M({...j,amount:Number(ie.target.value)})}),m.jsx(It,{label:"Note",value:j.note,onChange:ie=>M({...j,note:ie.target.value}),placeholder:j.type==="GIVEN"?"Reason for advance":"Deducted from salary..."}),m.jsx("button",{type:"submit",className:`w-full py-2.5 text-white font-bold rounded-xl ${j.type==="GIVEN"?"bg-orange-600 hover:bg-orange-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:j.type==="GIVEN"?"Add Advance":"Return Advance"})]})]})]})]}),v==="attendance"&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm h-fit",children:[m.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-4",children:"Mark Attendance"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(It,{type:"date",label:"Date",value:k,onChange:ie=>R(ie.target.value)}),m.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Present","Absent","Half Day"].map(ie=>m.jsx("button",{onClick:()=>U(ie),className:`py-2 text-xs font-bold rounded-lg border transition-all ${F===ie?ie==="Present"?"bg-emerald-100 border-emerald-200 text-emerald-700":ie==="Absent"?"bg-red-100 border-red-200 text-red-700":"bg-yellow-100 border-yellow-200 text-yellow-700":"bg-white dark:bg-slate-700 border-slate-200 dark:border-slate-600 text-slate-500"}`,children:ie},ie))}),m.jsx("button",{onClick:Q,className:"w-full py-2.5 bg-primary-600 text-white font-bold rounded-xl hover:bg-primary-700 mt-2",children:"Save Status"})]}),m.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-700",children:[m.jsx("h4",{className:"font-bold text-sm text-slate-500 uppercase mb-4",children:"Summary (Total)"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-emerald-600 font-medium",children:"Present"})," ",m.jsx("span",{className:"font-bold",children:L})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-red-500 font-medium",children:"Absent"})," ",m.jsx("span",{className:"font-bold",children:ee})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-yellow-600 font-medium",children:"Half Day"})," ",m.jsx("span",{className:"font-bold",children:Z})]})]})]})]}),m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[m.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 font-bold text-slate-700 dark:text-slate-300",children:"Recent Logs"}),m.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 text-xs text-slate-500 uppercase sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"Date"}),m.jsx("th",{className:"px-6 py-3",children:"Status"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 text-sm",children:[Y.map(ie=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-3 font-medium text-slate-900 dark:text-white",children:Za(ie.date)}),m.jsx("td",{className:"px-6 py-3",children:m.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-bold inline-flex items-center gap-1
                                                ${ie.status==="Present"?"bg-emerald-50 text-emerald-600":ie.status==="Absent"?"bg-red-50 text-red-600":"bg-yellow-50 text-yellow-600"}`,children:[ie.status==="Present"&&m.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),ie.status==="Absent"&&m.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),ie.status==="Half Day"&&m.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"}),ie.status]})})]},ie.id)),Y.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:2,className:"px-6 py-10 text-center text-slate-400",children:"No attendance data."})})]})]})})]})]})]})]})},$$=()=>m.jsx(MD,{children:m.jsx(jD,{children:m.jsx(kj,{children:m.jsxs(oj,{children:[m.jsx(Qr,{path:"/login",element:m.jsx(V$,{})}),m.jsx(Qr,{path:"/register",element:m.jsx(Y$,{})}),m.jsx(Qr,{path:"/forgot-password",element:m.jsx(q$,{})}),m.jsx(Qr,{element:m.jsx(DD,{}),children:m.jsx(Qr,{path:"/admin",element:m.jsx(gS,{}),children:m.jsx(Qr,{index:!0,element:m.jsx(W$,{})})})}),m.jsx(Qr,{element:m.jsx(kD,{}),children:m.jsxs(Qr,{path:"/",element:m.jsx(gS,{}),children:[m.jsx(Qr,{index:!0,element:m.jsx(KZ,{})}),m.jsx(Qr,{path:"invoices",element:m.jsx(ZZ,{})}),m.jsx(Qr,{path:"invoices/new",element:m.jsx(C4,{})}),m.jsx(Qr,{path:"invoices/:id",element:m.jsx(C4,{})}),m.jsx(Qr,{path:"customers",element:m.jsx(z$,{})}),m.jsx(Qr,{path:"customers/:id/history",element:m.jsx(U$,{})}),m.jsx(Qr,{path:"products",element:m.jsx(F$,{})}),m.jsx(Qr,{path:"reports",element:m.jsx(H$,{})}),m.jsx(Qr,{path:"workers",element:m.jsx(K$,{})}),m.jsx(Qr,{path:"workers/:id",element:m.jsx(Z$,{})}),m.jsx(Qr,{path:"pricing",element:m.jsx(G$,{})}),m.jsx(Qr,{path:"profile",element:m.jsx(X$,{})})]})}),m.jsx(Qr,{path:"*",element:m.jsx(sh,{to:"/"})})]})})})}),jI=document.getElementById("root");if(!jI)throw new Error("Could not find root element to mount to");const Q$=cM.createRoot(jI);Q$.render(m.jsx(N4.StrictMode,{children:m.jsx($$,{})}));
